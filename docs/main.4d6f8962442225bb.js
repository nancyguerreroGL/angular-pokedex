"use strict";var Kb=Object.defineProperty,Zb=Object.defineProperties,Yb=Object.getOwnPropertyDescriptors,Vv=Object.getOwnPropertySymbols,qb=Object.prototype.hasOwnProperty,Qb=Object.prototype.propertyIsEnumerable,Uv=(st,Ie,k)=>Ie in st?Kb(st,Ie,{enumerable:!0,configurable:!0,writable:!0,value:k}):st[Ie]=k,Bv=(st,Ie)=>{for(var k in Ie||(Ie={}))qb.call(Ie,k)&&Uv(st,k,Ie[k]);if(Vv)for(var k of Vv(Ie))Qb.call(Ie,k)&&Uv(st,k,Ie[k]);return st},jv=(st,Ie)=>Zb(st,Yb(Ie));(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[179],{440:(st,Ie,k)=>{k.d(Ie,{nm:()=>Ur});var f=k(5813);k(5e3),k(5867);var He=k(5861),De=k(9681),Fe=k(4859),nt=k(2090),rt=k(1877);const ne=new Map,Le={activated:!1,tokenObservers:[]},de={initialized:!1,enabled:!1};function ye(me){return ne.get(me)||Le}function Ce(me,ge){ne.set(me,ge)}function Re(){return de}class Bt{constructor(ge,Te,$e,it,yt){if(this.operation=ge,this.retryPolicy=Te,this.getWaitDuration=$e,this.lowerBound=it,this.upperBound=yt,this.pending=null,this.nextErrorWaitInterval=it,it>yt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ge){var Te=this;return(0,He.Z)(function*(){Te.stop();try{Te.pending=new nt.BH,yield function zt(me){return new Promise(ge=>{setTimeout(ge,me)})}(Te.getNextRun(ge)),Te.pending.resolve(),yield Te.pending.promise,Te.pending=new nt.BH,yield Te.operation(),Te.pending.resolve(),yield Te.pending.promise,Te.process(!0).catch(()=>{})}catch($e){Te.retryPolicy($e)?Te.process(!1).catch(()=>{}):Te.stop()}})()}getNextRun(ge){if(ge)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Te=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Te}}}const Ct=new nt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kt(me){if(!ye(me).activated)throw Ct.create("use-before-activation",{appName:me.name})}function On(me,ge){return $n.apply(this,arguments)}function $n(){return($n=(0,He.Z)(function*({url:me,body:ge},Te){var $e,it;const yt={"Content-Type":"application/json"},Nt=Te.getImmediate({optional:!0});if(Nt){const _i=yield Nt.getHeartbeatsHeader();_i&&(yt["X-Firebase-Client"]=_i)}const Cr={method:"POST",body:JSON.stringify(ge),headers:yt};let dn,Xr;try{dn=yield fetch(me,Cr)}catch(_i){throw Ct.create("fetch-network-error",{originalErrorMessage:null===($e=_i)||void 0===$e?void 0:$e.message})}if(200!==dn.status)throw Ct.create("fetch-status-error",{httpStatus:dn.status});try{Xr=yield dn.json()}catch(_i){throw Ct.create("fetch-parse-error",{originalErrorMessage:null===(it=_i)||void 0===it?void 0:it.message})}const us=Xr.ttl.match(/^([\d.]+)(s)$/);if(!us||!us[2]||isNaN(Number(us[1])))throw Ct.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Xr.ttl}`});const qi=1e3*Number(us[1]),ai=Date.now();return{token:Xr.token,expireTimeMillis:ai+qi,issuedAtTimeMillis:ai}})).apply(this,arguments)}function _r(me,ge){const{projectId:Te,appId:$e,apiKey:it}=me.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Te}/apps/${$e}:exchangeDebugToken?key=${it}`,body:{debug_token:ge}}}const Tt="firebase-app-check-store";let sn=null;function pn(){return sn||(sn=new Promise((me,ge)=>{var Te;try{const $e=indexedDB.open("firebase-app-check-database",1);$e.onsuccess=it=>{me(it.target.result)},$e.onerror=it=>{var yt;ge(Ct.create("storage-open",{originalErrorMessage:null===(yt=it.target.error)||void 0===yt?void 0:yt.message}))},$e.onupgradeneeded=it=>{0===it.oldVersion&&it.target.result.createObjectStore(Tt,{keyPath:"compositeKey"})}}catch($e){ge(Ct.create("storage-open",{originalErrorMessage:null===(Te=$e)||void 0===Te?void 0:Te.message}))}}),sn)}function dr(){return(dr=(0,He.Z)(function*(me,ge){const $e=(yield pn()).transaction(Tt,"readwrite"),yt=$e.objectStore(Tt).put({compositeKey:me,value:ge});return new Promise((Nt,Cr)=>{yt.onsuccess=dn=>{Nt()},$e.onerror=dn=>{var Xr;Cr(Ct.create("storage-set",{originalErrorMessage:null===(Xr=dn.target.error)||void 0===Xr?void 0:Xr.message}))}})})).apply(this,arguments)}const Wn=new rt.Yd("@firebase/app-check");function Di(me,ge){return(0,nt.hl)()?function Hr(me,ge){return function Fr(me,ge){return dr.apply(this,arguments)}(function Ot(me){return`${me.options.appId}-${me.name}`}(me),ge)}(me,ge).catch(Te=>{Wn.warn(`Failed to write token to IndexedDB. Error: ${Te}`)}):Promise.resolve()}function It(){return Re().enabled}function $r(){return re.apply(this,arguments)}function re(){return(re=(0,He.Z)(function*(){const me=Re();if(me.enabled&&me.token)return me.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Q={error:"UNKNOWN_ERROR"};function te(me){return nt.US.encodeString(JSON.stringify(me),!1)}function se(me){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,He.Z)(function*(me,ge=!1){const Te=me.app;kt(Te);const $e=ye(Te);let yt,it=$e.token;if(!it){const dn=yield $e.cachedTokenPromise;dn&&Wt(dn)&&(it=dn)}if(!ge&&it&&Wt(it))return{token:it.token};let Cr,Nt=!1;if(It()){$e.exchangeTokenPromise||($e.exchangeTokenPromise=On(_r(Te,yield $r()),me.heartbeatServiceProvider).then(Xr=>($e.exchangeTokenPromise=void 0,Xr)),Nt=!0);const dn=yield $e.exchangeTokenPromise;return yield Di(Te,dn),Ce(Te,Object.assign(Object.assign({},$e),{token:dn})),{token:dn.token}}try{$e.exchangeTokenPromise||($e.exchangeTokenPromise=$e.provider.getToken().then(dn=>($e.exchangeTokenPromise=void 0,dn)),Nt=!0),it=yield $e.exchangeTokenPromise}catch(dn){"appCheck/throttled"===dn.code?Wn.warn(dn.message):Wn.error(dn),yt=dn}return it?(Cr={token:it.token},Ce(Te,Object.assign(Object.assign({},$e),{token:it})),yield Di(Te,it)):Cr=Lr(yt),Nt&&hr(Te,Cr),Cr})).apply(this,arguments)}function Mt(me,ge){const Te=ye(me),$e=Te.tokenObservers.filter(it=>it.next!==ge);0===$e.length&&Te.tokenRefresher&&Te.tokenRefresher.isRunning()&&Te.tokenRefresher.stop(),Ce(me,Object.assign(Object.assign({},Te),{tokenObservers:$e}))}function yn(me){const{app:ge}=me,Te=ye(ge);let $e=Te.tokenRefresher;$e||($e=function cn(me){const{app:ge}=me;return new Bt((0,He.Z)(function*(){let $e;if($e=ye(ge).token?yield se(me,!0):yield se(me),$e.error)throw $e.error}),()=>!0,()=>{const Te=ye(ge);if(Te.token){let $e=Te.token.issuedAtTimeMillis+.5*(Te.token.expireTimeMillis-Te.token.issuedAtTimeMillis)+3e5;return $e=Math.min($e,Te.token.expireTimeMillis-3e5),Math.max(0,$e-Date.now())}return 0},3e4,96e4)}(me),Ce(ge,Object.assign(Object.assign({},Te),{tokenRefresher:$e}))),!$e.isRunning()&&Te.isTokenAutoRefreshEnabled&&$e.start()}function hr(me,ge){const Te=ye(me).tokenObservers;for(const $e of Te)try{"EXTERNAL"===$e.type&&null!=ge.error?$e.error(ge.error):$e.next(ge)}catch(it){}}function Wt(me){return me.expireTimeMillis-Date.now()>0}function Lr(me){return{token:te(Q),error:me}}class Gn{constructor(ge,Te){this.app=ge,this.heartbeatServiceProvider=Te}_delete(){const{tokenObservers:ge}=ye(this.app);for(const Te of ge)Mt(this.app,Te.next);return Promise.resolve()}}const Ni="app-check-internal";!function Or(){(0,De._registerComponent)(new Fe.wA("app-check",me=>function Sr(me,ge){return new Gn(me,ge)}(me.getProvider("app").getImmediate(),me.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((me,ge,Te)=>{me.getProvider(Ni).initialize()})),(0,De._registerComponent)(new Fe.wA(Ni,me=>function Zt(me){return{getToken:ge=>se(me,ge),addTokenListener:ge=>function at(me,ge,Te,$e){const{app:it}=me,yt=ye(it),Nt={next:Te,error:$e,type:ge};if(Ce(it,Object.assign(Object.assign({},yt),{tokenObservers:[...yt.tokenObservers,Nt]})),yt.token&&Wt(yt.token)){const Cr=yt.token;Promise.resolve().then(()=>{Te({token:Cr.token}),yn(me)}).catch(()=>{})}yt.cachedTokenPromise.then(()=>yn(me))}(me,"INTERNAL",ge),removeTokenListener:ge=>Mt(me.app,ge)}}(me.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,De.registerVersion)("@firebase/app-check","0.5.12")}();class Ur{constructor(){return(0,f.vb)("app-check")}}"undefined"!=typeof window&&window},1205:(st,Ie,k)=>{k.d(Ie,{zQ:()=>Me,ww:()=>Xe,rT:()=>de,f7:()=>Ce,L6:()=>ne,_Q:()=>Le,lh:()=>ye,Qv:()=>rt,nw:()=>Re});var f=k(5e3),M=k(7579),z=k(9646),le=k(8306),ce=k(8996),pe=k(6451),be=k(6063);class he extends M.x{constructor(Dt=1/0,lt=1/0,Ye=be.l){super(),this._bufferSize=Dt,this._windowTime=lt,this._timestampProvider=Ye,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=lt===1/0,this._bufferSize=Math.max(1,Dt),this._windowTime=Math.max(1,lt)}next(Dt){const{isStopped:lt,_buffer:Ye,_infiniteTimeWindow:Bt,_timestampProvider:zt,_windowTime:Rt}=this;lt||(Ye.push(Dt),!Bt&&Ye.push(zt.now()+Rt)),this._trimBuffer(),super.next(Dt)}_subscribe(Dt){this._throwIfClosed(),this._trimBuffer();const lt=this._innerSubscribe(Dt),{_infiniteTimeWindow:Ye,_buffer:Bt}=this,zt=Bt.slice();for(let Rt=0;Rt<zt.length&&!Dt.closed;Rt+=Ye?1:2)Dt.next(zt[Rt]);return this._checkFinalizedStatuses(Dt),lt}_trimBuffer(){const{_bufferSize:Dt,_timestampProvider:lt,_buffer:Ye,_infiniteTimeWindow:Bt}=this,zt=(Bt?1:2)*Dt;if(Dt<1/0&&zt<Ye.length&&Ye.splice(0,Ye.length-zt),!Bt){const Rt=lt.now();let Ct=0;for(let jt=1;jt<Ye.length&&Ye[jt]<=Rt;jt+=2)Ct=jt;Ct&&Ye.splice(0,Ct+1)}}}var Ee=k(3099);function ee(ot,Dt,lt){let Ye,Bt=!1;return ot&&"object"==typeof ot?({bufferSize:Ye=1/0,windowTime:Dt=1/0,refCount:Bt=!1,scheduler:lt}=ot):Ye=null!=ot?ot:1/0,(0,Ee.B)({connector:()=>new he(Ye,Dt,lt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Bt})}var X=k(3900),_e=k(576);function Je(ot,Dt){return(0,_e.m)(Dt)?(0,X.w)(()=>ot,Dt):(0,X.w)(()=>ot)}var Ue=k(5363),je=k(4004),et=k(590),Ae=k(9468),Ne=k(9300),tt=k(5813),ut=k(2011),He=k(9808),De=k(440),Fe=k(127);const rt=new f.OlP("angularfire2.auth.use-emulator"),ne=new f.OlP("angularfire2.auth.settings"),Le=new f.OlP("angularfire2.auth.tenant-id"),de=new f.OlP("angularfire2.auth.langugage-code"),ye=new f.OlP("angularfire2.auth.use-device-language"),Ce=new f.OlP("angularfire.auth.persistence"),Re=(ot,Dt,lt,Ye,Bt,zt,Rt,Ct)=>(0,ut.cc)(`${ot.name}.auth`,"AngularFireAuth",ot.name,()=>{const jt=Dt.runOutsideAngular(()=>ot.auth());if(lt&&jt.useEmulator(...lt),Ye&&(jt.tenantId=Ye),jt.languageCode=Bt,zt&&jt.useDeviceLanguage(),Rt)for(const[kt,Ut]of Object.entries(Rt))jt.settings[kt]=Ut;return Ct&&jt.setPersistence(Ct),jt},[lt,Ye,Bt,zt,Rt,Ct]);let Me=(()=>{class ot{constructor(lt,Ye,Bt,zt,Rt,Ct,jt,kt,Ut,Pn,On,$n){const In=new M.x,fn=(0,z.of)(void 0).pipe((0,Ue.Q)(Rt.outsideAngular),(0,X.w)(()=>zt.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,1451)))),(0,je.U)(()=>(0,ut.on)(lt,zt,Ye)),(0,je.U)(_r=>Re(_r,zt,Ct,kt,Ut,Pn,jt,On)),ee({bufferSize:1,refCount:!1}));if((0,He.PM)(Bt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,z.of)(null);else{fn.pipe((0,et.P)()).subscribe();const tr=fn.pipe((0,X.w)(ln=>ln.getRedirectResult().then(sn=>sn,()=>null)),tt.iC,ee({bufferSize:1,refCount:!1})),Nr=fn.pipe((0,X.w)(ln=>new le.y(sn=>({unsubscribe:zt.runOutsideAngular(()=>ln.onAuthStateChanged(pn=>sn.next(pn),pn=>sn.error(pn),()=>sn.complete()))})))),Tt=fn.pipe((0,X.w)(ln=>new le.y(sn=>({unsubscribe:zt.runOutsideAngular(()=>ln.onIdTokenChanged(pn=>sn.next(pn),pn=>sn.error(pn),()=>sn.complete()))}))));this.authState=tr.pipe(Je(Nr),(0,Ae.R)(Rt.outsideAngular),(0,Ue.Q)(Rt.insideAngular)),this.user=tr.pipe(Je(Tt),(0,Ae.R)(Rt.outsideAngular),(0,Ue.Q)(Rt.insideAngular)),this.idToken=this.user.pipe((0,X.w)(ln=>ln?(0,ce.D)(ln.getIdToken()):(0,z.of)(null))),this.idTokenResult=this.user.pipe((0,X.w)(ln=>ln?(0,ce.D)(ln.getIdTokenResult()):(0,z.of)(null))),this.credential=(0,pe.T)(tr,In,this.authState.pipe((0,Ne.h)(ln=>!ln))).pipe((0,je.U)(ln=>(null==ln?void 0:ln.user)?ln:null),(0,Ae.R)(Rt.outsideAngular),(0,Ue.Q)(Rt.insideAngular))}return(0,ut.pX)(this,fn,zt,{spy:{apply:(_r,tr,Nr)=>{(_r.startsWith("signIn")||_r.startsWith("createUser"))&&Nr.then(Tt=>In.next(Tt))}}})}}return ot.\u0275fac=function(lt){return new(lt||ot)(f.LFG(ut.Dh),f.LFG(ut.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(tt.HU),f.LFG(rt,8),f.LFG(ne,8),f.LFG(Le,8),f.LFG(de,8),f.LFG(ye,8),f.LFG(Ce,8),f.LFG(De.nm,8))},ot.\u0275prov=f.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"any"}),ot})(),Xe=(()=>{class ot{constructor(){Fe.Z.registerVersion("angularfire",tt.q4.full,"auth-compat")}}return ot.\u0275fac=function(lt){return new(lt||ot)},ot.\u0275mod=f.oAB({type:ot}),ot.\u0275inj=f.cJS({providers:[Me]}),ot})()},2011:(st,Ie,k)=>{k.d(Ie,{Dh:()=>he,GT:()=>pe,cc:()=>Ue,hO:()=>Je,on:()=>ee,pX:()=>ce,xv:()=>Ee});var f=k(5e3),M=k(127),z=k(5813);st=k.hmd(st);const le=["ngOnDestroy"],ce=(Ne,tt,ut,He={})=>new Proxy(Ne,{get:(De,Fe)=>ut.runOutsideAngular(()=>{var nt;if(Ne[Fe])return(null===(nt=null==He?void 0:He.spy)||void 0===nt?void 0:nt.get)&&He.spy.get(Fe,Ne[Fe]),Ne[Fe];if(le.indexOf(Fe)>-1)return()=>{};const rt=tt.toPromise().then(ne=>{const Le=ne&&ne[Fe];return"function"==typeof Le?Le.bind(ne):Le&&Le.then?Le.then(de=>ut.run(()=>de)):ut.run(()=>Le)});return new Proxy(()=>{},{get:(ne,Le)=>rt[Le],apply:(ne,Le,de)=>rt.then(ye=>{var Ce;const Re=ye&&ye(...de);return(null===(Ce=null==He?void 0:He.spy)||void 0===Ce?void 0:Ce.apply)&&He.spy.apply(Fe,de,Re),Re})})})}),pe=(Ne,tt)=>{tt.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(He=>{Object.defineProperty(Ne.prototype,He,Object.getOwnPropertyDescriptor(ut.prototype||ut,He))})})};class be{constructor(tt){return tt}}const he=new f.OlP("angularfire2.app.options"),Ee=new f.OlP("angularfire2.app.name");function ee(Ne,tt,ut){const De="object"==typeof ut&&ut||{};De.name=De.name||"string"==typeof ut&&ut||"[DEFAULT]";const nt=M.Z.apps.filter(rt=>rt&&rt.name===De.name)[0]||tt.runOutsideAngular(()=>M.Z.initializeApp(Ne,De));try{JSON.stringify(Ne)!==JSON.stringify(nt.options)&&X("error",`${nt.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(rt){}return new be(nt)}const X=(Ne,...tt)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[Ne](...tt)},_e={provide:be,useFactory:ee,deps:[he,f.R0b,[new f.FiY,Ee]]};let Je=(()=>{class Ne{constructor(ut){M.Z.registerVersion("angularfire",z.q4.full,"core"),M.Z.registerVersion("angularfire",z.q4.full,"app-compat"),M.Z.registerVersion("angular",f.q4F.full,ut.toString())}static initializeApp(ut,He){return{ngModule:Ne,providers:[{provide:he,useValue:ut},{provide:Ee,useValue:He}]}}}return Ne.\u0275fac=function(ut){return new(ut||Ne)(f.LFG(f.Lbi))},Ne.\u0275mod=f.oAB({type:Ne}),Ne.\u0275inj=f.cJS({providers:[_e]}),Ne})();function Ue(Ne,tt,ut,He,De){const[,Fe,nt]=globalThis.\u0275AngularfireInstanceCache.find(rt=>rt[0]===Ne)||[];if(Fe)return function je(Ne,tt){try{return Ne.toString()===tt.toString()}catch(ut){return Ne===tt}}(De,nt)||(Ae("error",`${tt} was already initialized on the ${ut} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),Ae("warn",{is:De,was:nt})),Fe;{const rt=He();return globalThis.\u0275AngularfireInstanceCache.push([Ne,rt,De]),rt}}const et=!!st.hot,Ae=(Ne,...tt)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[Ne](...tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(st,Ie,k)=>{k.d(Ie,{q4:()=>Ou,iC:()=>vi,HU:()=>ru,vb:()=>Sn,JM:()=>kn});var f=k(5e3),M=k(5867),z=k(5861),le=k(9681),ce=k(2090),pe=k(4859),be=k(1877),he=k(8766);const Ee="@firebase/installations",ee="0.5.12",_e=`w:${ee}`,Je="FIS_v2",tt=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ut(I){return I instanceof ce.ZR&&I.code.includes("request-failed")}function He({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function De(I){return{token:I.token,requestStatus:2,expiresIn:ye(I.expiresIn),creationTime:Date.now()}}function Fe(I,O){return nt.apply(this,arguments)}function nt(){return(nt=(0,z.Z)(function*(I,O){const J=(yield O.json()).error;return tt.create("request-failed",{requestName:I,serverCode:J.code,serverMessage:J.message,serverStatus:J.status})})).apply(this,arguments)}function rt({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function ne(I,{refreshToken:O}){const V=rt(I);return V.append("Authorization",function Ce(I){return`${Je} ${I}`}(O)),V}function Le(I){return de.apply(this,arguments)}function de(){return(de=(0,z.Z)(function*(I){const O=yield I();return O.status>=500&&O.status<600?I():O})).apply(this,arguments)}function ye(I){return Number(I.replace("s","000"))}function Re(I,O){return Me.apply(this,arguments)}function Me(){return(Me=(0,z.Z)(function*({appConfig:I,heartbeatServiceProvider:O},{fid:V}){const J=He(I),ve=rt(I),Pe=O.getImmediate({optional:!0});if(Pe){const Xt=yield Pe.getHeartbeatsHeader();Xt&&ve.append("x-firebase-client",Xt)}const gt={method:"POST",headers:ve,body:JSON.stringify({fid:V,authVersion:Je,appId:I.appId,sdkVersion:_e})},Ht=yield Le(()=>fetch(J,gt));if(Ht.ok){const Xt=yield Ht.json();return{fid:Xt.fid||V,registrationStatus:2,refreshToken:Xt.refreshToken,authToken:De(Xt.authToken)}}throw yield Fe("Create Installation",Ht)})).apply(this,arguments)}function Xe(I){return new Promise(O=>{setTimeout(O,I)})}const Dt=/^[cdef][\w-]{21}$/;function Ye(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const V=function Bt(I){return function ot(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Dt.test(V)?V:""}catch(I){return""}}function zt(I){return`${I.appName}!${I.appId}`}const Rt=new Map;function Ct(I,O){const V=zt(I);Ut(V,O),function Pn(I,O){const V=function $n(){return!On&&"BroadcastChannel"in self&&(On=new BroadcastChannel("[Firebase] FID Change"),On.onmessage=I=>{Ut(I.data.key,I.data.fid)}),On}();V&&V.postMessage({key:I,fid:O}),function In(){0===Rt.size&&On&&(On.close(),On=null)}()}(V,O)}function Ut(I,O){const V=Rt.get(I);if(V)for(const J of V)J(O)}let On=null;const tr="firebase-installations-store";let Nr=null;function Tt(){return Nr||(Nr=(0,he.X3)("firebase-installations-database",1,{upgrade:(I,O)=>{0===O&&I.createObjectStore(tr)}})),Nr}function ln(I,O){return sn.apply(this,arguments)}function sn(){return(sn=(0,z.Z)(function*(I,O){const V=zt(I),ve=(yield Tt()).transaction(tr,"readwrite"),Pe=ve.objectStore(tr),Ke=yield Pe.get(V);return yield Pe.put(O,V),yield ve.done,(!Ke||Ke.fid!==O.fid)&&Ct(I,O.fid),O})).apply(this,arguments)}function pn(I){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,z.Z)(function*(I){const O=zt(I),J=(yield Tt()).transaction(tr,"readwrite");yield J.objectStore(tr).delete(O),yield J.done})).apply(this,arguments)}function Hr(I,O){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,z.Z)(function*(I,O){const V=zt(I),ve=(yield Tt()).transaction(tr,"readwrite"),Pe=ve.objectStore(tr),Ke=yield Pe.get(V),gt=O(Ke);return void 0===gt?yield Pe.delete(V):yield Pe.put(gt,V),yield ve.done,gt&&(!Ke||Ke.fid!==gt.fid)&&Ct(I,gt.fid),gt})).apply(this,arguments)}function sr(I){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,z.Z)(function*(I){let O;const V=yield Hr(I.appConfig,J=>{const ve=dr(J),Pe=pt(I,ve);return O=Pe.registrationPromise,Pe.installationEntry});return""===V.fid?{installationEntry:yield O}:{installationEntry:V,registrationPromise:O}})).apply(this,arguments)}function dr(I){return Di(I||{fid:Ye(),registrationStatus:0})}function pt(I,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(tt.create("app-offline"))};const V={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},J=function At(I,O){return Ot.apply(this,arguments)}(I,V);return{installationEntry:V,registrationPromise:J}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:Wn(I)}:{installationEntry:O}}function Ot(){return(Ot=(0,z.Z)(function*(I,O){try{const V=yield Re(I,O);return ln(I.appConfig,V)}catch(V){throw ut(V)&&409===V.customData.serverCode?yield pn(I.appConfig):yield ln(I.appConfig,{fid:O.fid,registrationStatus:0}),V}})).apply(this,arguments)}function Wn(I){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,z.Z)(function*(I){let O=yield en(I.appConfig);for(;1===O.registrationStatus;)yield Xe(100),O=yield en(I.appConfig);if(0===O.registrationStatus){const{installationEntry:V,registrationPromise:J}=yield sr(I);return J||V}return O})).apply(this,arguments)}function en(I){return Hr(I,O=>{if(!O)throw tt.create("installation-not-found");return Di(O)})}function Di(I){return function yr(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function wn(I,O){return It.apply(this,arguments)}function It(){return(It=(0,z.Z)(function*({appConfig:I,heartbeatServiceProvider:O},V){const J=$r(I,V),ve=ne(I,V),Pe=O.getImmediate({optional:!0});if(Pe){const Xt=yield Pe.getHeartbeatsHeader();Xt&&ve.append("x-firebase-client",Xt)}const gt={method:"POST",headers:ve,body:JSON.stringify({installation:{sdkVersion:_e,appId:I.appId}})},Ht=yield Le(()=>fetch(J,gt));if(Ht.ok)return De(yield Ht.json());throw yield Fe("Generate Auth Token",Ht)})).apply(this,arguments)}function $r(I,{fid:O}){return`${He(I)}/${O}/authTokens:generate`}function re(I){return ae.apply(this,arguments)}function ae(){return(ae=(0,z.Z)(function*(I,O=!1){let V;const J=yield Hr(I.appConfig,Pe=>{if(!Mt(Pe))throw tt.create("not-registered");const Ke=Pe.authToken;if(!O&&yn(Ke))return Pe;if(1===Ke.requestStatus)return V=Q(I,O),Pe;{if(!navigator.onLine)throw tt.create("app-offline");const gt=hr(Pe);return V=Ze(I,gt),gt}});return V?yield V:J.authToken})).apply(this,arguments)}function Q(I,O){return te.apply(this,arguments)}function te(){return(te=(0,z.Z)(function*(I,O){let V=yield se(I.appConfig);for(;1===V.authToken.requestStatus;)yield Xe(100),V=yield se(I.appConfig);const J=V.authToken;return 0===J.requestStatus?re(I,O):J})).apply(this,arguments)}function se(I){return Hr(I,O=>{if(!Mt(O))throw tt.create("not-registered");return function Wt(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function Ze(I,O){return at.apply(this,arguments)}function at(){return(at=(0,z.Z)(function*(I,O){try{const V=yield wn(I,O),J=Object.assign(Object.assign({},O),{authToken:V});return yield ln(I.appConfig,J),V}catch(V){if(!ut(V)||401!==V.customData.serverCode&&404!==V.customData.serverCode){const J=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield ln(I.appConfig,J)}else yield pn(I.appConfig);throw V}})).apply(this,arguments)}function Mt(I){return void 0!==I&&2===I.registrationStatus}function yn(I){return 2===I.requestStatus&&!function cn(I){const O=Date.now();return O<I.creationTime||I.creationTime+I.expiresIn<O+36e5}(I)}function hr(I){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:O})}function Gn(){return(Gn=(0,z.Z)(function*(I){const O=I,{installationEntry:V,registrationPromise:J}=yield sr(O);return J?J.catch(console.error):re(O).catch(console.error),V.fid})).apply(this,arguments)}function Zt(){return(Zt=(0,z.Z)(function*(I,O=!1){const V=I;return yield xn(V),(yield re(V,O)).token})).apply(this,arguments)}function xn(I){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,z.Z)(function*(I){const{registrationPromise:O}=yield sr(I);O&&(yield O)})).apply(this,arguments)}function Mr(I){return tt.create("missing-app-config-values",{valueName:I})}const rr="installations",bt=I=>{const O=I.getProvider("app").getImmediate(),V=function Ln(I){if(!I||!I.options)throw Mr("App Configuration");if(!I.name)throw Mr("App Name");const O=["projectId","apiKey","appId"];for(const V of O)if(!I.options[V])throw Mr(V);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(O);return{app:O,appConfig:V,heartbeatServiceProvider:(0,le._getProvider)(O,"heartbeat"),_delete:()=>Promise.resolve()}},nn=I=>{const O=I.getProvider("app").getImmediate(),V=(0,le._getProvider)(O,rr).getImmediate();return{getId:()=>function Lr(I){return Gn.apply(this,arguments)}(V),getToken:ve=>function Sr(I){return Zt.apply(this,arguments)}(V,ve)}};(function ir(){(0,le._registerComponent)(new pe.wA(rr,bt,"PUBLIC")),(0,le._registerComponent)(new pe.wA("installations-internal",nn,"PRIVATE"))})(),(0,le.registerVersion)(Ee,ee),(0,le.registerVersion)(Ee,ee,"esm2017");const Pr="@firebase/remote-config",zn=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Xs{constructor(O,V,J,ve){this.client=O,this.storage=V,this.storageCache=J,this.logger=ve}isCachedDataFresh(O,V){if(!V)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const J=Date.now()-V,ve=J<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${J}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${ve}.`),ve}fetch(O){var V=this;return(0,z.Z)(function*(){const[J,ve]=yield Promise.all([V.storage.getLastSuccessfulFetchTimestampMillis(),V.storage.getLastSuccessfulFetchResponse()]);if(ve&&V.isCachedDataFresh(O.cacheMaxAgeMillis,J))return ve;O.eTag=ve&&ve.eTag;const Pe=yield V.client.fetch(O),Ke=[V.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Pe.status&&Ke.push(V.storage.setLastSuccessfulFetchResponse(Pe)),yield Promise.all(Ke),Pe})()}}function eo(I=navigator){return I.languages&&I.languages[0]||I.language}class qn{constructor(O,V,J,ve,Pe,Ke){this.firebaseInstallations=O,this.sdkVersion=V,this.namespace=J,this.projectId=ve,this.apiKey=Pe,this.appId=Ke}fetch(O){var V=this;return(0,z.Z)(function*(){var J,ve,Pe;const[Ke,gt]=yield Promise.all([V.firebaseInstallations.getId(),V.firebaseInstallations.getToken()]),Xt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${V.projectId}/namespaces/${V.namespace}:fetch?key=${V.apiKey}`,tn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},Lt={sdk_version:V.sdkVersion,app_instance_id:Ke,app_instance_id_token:gt,app_id:V.appId,language_code:eo()},Kr={method:"POST",headers:tn,body:JSON.stringify(Lt)},wr=fetch(Xt,Kr),on=new Promise((Ei,Ss)=>{O.signal.addEventListener(()=>{const ri=new Error("The operation was aborted.");ri.name="AbortError",Ss(ri)})});let zs;try{yield Promise.race([wr,on]),zs=yield wr}catch(Ei){let Ss="fetch-client-network";throw"AbortError"===(null===(J=Ei)||void 0===J?void 0:J.name)&&(Ss="fetch-timeout"),zn.create(Ss,{originalErrorMessage:null===(ve=Ei)||void 0===ve?void 0:ve.message})}let fs=zs.status;const ga=zs.headers.get("ETag")||void 0;let Zi,Ks;if(200===zs.status){let Ei;try{Ei=yield zs.json()}catch(Ss){throw zn.create("fetch-client-parse",{originalErrorMessage:null===(Pe=Ss)||void 0===Pe?void 0:Pe.message})}Zi=Ei.entries,Ks=Ei.state}if("INSTANCE_STATE_UNSPECIFIED"===Ks?fs=500:"NO_CHANGE"===Ks?fs=304:("NO_TEMPLATE"===Ks||"EMPTY_CONFIG"===Ks)&&(Zi={}),304!==fs&&200!==fs)throw zn.create("fetch-status",{httpStatus:fs});return{status:fs,eTag:ga,config:Zi}})()}}class ge{constructor(O,V){this.client=O,this.storage=V}fetch(O){var V=this;return(0,z.Z)(function*(){const J=(yield V.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return V.attemptFetch(O,J)})()}attemptFetch(O,{throttleEndTimeMillis:V,backoffCount:J}){var ve=this;return(0,z.Z)(function*(){yield function Er(I,O){return new Promise((V,J)=>{const ve=Math.max(O-Date.now(),0),Pe=setTimeout(V,ve);I.addEventListener(()=>{clearTimeout(Pe),J(zn.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,V);try{const Pe=yield ve.client.fetch(O);return yield ve.storage.deleteThrottleMetadata(),Pe}catch(Pe){if(!function me(I){if(!(I instanceof ce.ZR&&I.customData))return!1;const O=Number(I.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Pe))throw Pe;const Ke={throttleEndTimeMillis:Date.now()+(0,ce.$s)(J),backoffCount:J+1};return yield ve.storage.setThrottleMetadata(Ke),ve.attemptFetch(O,Ke)}})()}}class it{constructor(O,V,J,ve,Pe){this.app=O,this._client=V,this._storageCache=J,this._storage=ve,this._logger=Pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yt(I,O){var V;const J=I.target.error||void 0;return zn.create(O,{originalErrorMessage:J&&(null===(V=J)||void 0===V?void 0:V.message)})}const Nt="app_namespace_store";class us{constructor(O,V,J,ve=function Xr(){return new Promise((I,O)=>{var V;try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=ve=>{O(yt(ve,"storage-open"))},J.onsuccess=ve=>{I(ve.target.result)},J.onupgradeneeded=ve=>{0===ve.oldVersion&&ve.target.result.createObjectStore(Nt,{keyPath:"compositeKey"})}}catch(J){O(zn.create("storage-open",{originalErrorMessage:null===(V=J)||void 0===V?void 0:V.message}))}})}()){this.appId=O,this.appName=V,this.namespace=J,this.openDbPromise=ve}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var V=this;return(0,z.Z)(function*(){const J=yield V.openDbPromise;return new Promise((ve,Pe)=>{var Ke;const Ht=J.transaction([Nt],"readonly").objectStore(Nt),Xt=V.createCompositeKey(O);try{const tn=Ht.get(Xt);tn.onerror=Lt=>{Pe(yt(Lt,"storage-get"))},tn.onsuccess=Lt=>{const Kr=Lt.target.result;ve(Kr?Kr.value:void 0)}}catch(tn){Pe(zn.create("storage-get",{originalErrorMessage:null===(Ke=tn)||void 0===Ke?void 0:Ke.message}))}})})()}set(O,V){var J=this;return(0,z.Z)(function*(){const ve=yield J.openDbPromise;return new Promise((Pe,Ke)=>{var gt;const Xt=ve.transaction([Nt],"readwrite").objectStore(Nt),tn=J.createCompositeKey(O);try{const Lt=Xt.put({compositeKey:tn,value:V});Lt.onerror=Kr=>{Ke(yt(Kr,"storage-set"))},Lt.onsuccess=()=>{Pe()}}catch(Lt){Ke(zn.create("storage-set",{originalErrorMessage:null===(gt=Lt)||void 0===gt?void 0:gt.message}))}})})()}delete(O){var V=this;return(0,z.Z)(function*(){const J=yield V.openDbPromise;return new Promise((ve,Pe)=>{var Ke;const Ht=J.transaction([Nt],"readwrite").objectStore(Nt),Xt=V.createCompositeKey(O);try{const tn=Ht.delete(Xt);tn.onerror=Lt=>{Pe(yt(Lt,"storage-delete"))},tn.onsuccess=()=>{ve()}}catch(tn){Pe(zn.create("storage-delete",{originalErrorMessage:null===(Ke=tn)||void 0===Ke?void 0:Ke.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class qi{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,z.Z)(function*(){const V=O.storage.getLastFetchStatus(),J=O.storage.getLastSuccessfulFetchTimestampMillis(),ve=O.storage.getActiveConfig(),Pe=yield V;Pe&&(O.lastFetchStatus=Pe);const Ke=yield J;Ke&&(O.lastSuccessfulFetchTimestampMillis=Ke);const gt=yield ve;gt&&(O.activeConfig=gt)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function Nn(){return vs.apply(this,arguments)}function vs(){return(vs=(0,z.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(I){return!1}})).apply(this,arguments)}!function ai(){(0,le._registerComponent)(new pe.wA("remote-config",function I(O,{instanceIdentifier:V}){const J=O.getProvider("app").getImmediate(),ve=O.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw zn.create("registration-window");if(!(0,ce.hl)())throw zn.create("indexed-db-unavailable");const{projectId:Pe,apiKey:Ke,appId:gt}=J.options;if(!Pe)throw zn.create("registration-project-id");if(!Ke)throw zn.create("registration-api-key");if(!gt)throw zn.create("registration-app-id");const Ht=new us(gt,J.name,V=V||"firebase"),Xt=new qi(Ht),tn=new be.Yd(Pr);tn.logLevel=be.in.ERROR;const Lt=new qn(ve,le.SDK_VERSION,V,Pe,Ke,gt),Kr=new ge(Lt,Ht),wr=new Xs(Kr,Ht,Xt,tn),on=new it(J,wr,Xt,Ht,tn);return function mn(I){const O=(0,ce.m9)(I);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(on),on},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Pr,"0.3.11"),(0,le.registerVersion)(Pr,"0.3.11","esm2017")}();const Es="/firebase-messaging-sw.js",er="/firebase-cloud-messaging-push-scope",Li="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vi="google.c.a.c_id",Cs="google.c.a.c_l",Ui="google.c.a.ts",Rs="google.c.a.e";var cs=(()=>{return(I=cs||(cs={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",cs;var I})();function ei(I){const O=new Uint8Array(I);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function po(I){const V=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),J=atob(V),ve=new Uint8Array(J.length);for(let Pe=0;Pe<J.length;++Pe)ve[Pe]=J.charCodeAt(Pe);return ve}const lr="fcm_token_details_db",Rr="fcm_token_object_Store";function go(I){return Qi.apply(this,arguments)}function Qi(){return Qi=(0,z.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Pe=>Pe.name).includes(lr))return null;let O=null;return(yield(0,he.X3)(lr,5,{upgrade:(J=(0,z.Z)(function*(ve,Pe,Ke,gt){var Ht;if(Pe<2||!ve.objectStoreNames.contains(Rr))return;const Xt=gt.objectStore(Rr),tn=yield Xt.index("fcmSenderId").get(I);if(yield Xt.clear(),tn)if(2===Pe){const Lt=tn;if(!Lt.auth||!Lt.p256dh||!Lt.endpoint)return;O={token:Lt.fcmToken,createTime:null!==(Ht=Lt.createTime)&&void 0!==Ht?Ht:Date.now(),subscriptionOptions:{auth:Lt.auth,p256dh:Lt.p256dh,endpoint:Lt.endpoint,swScope:Lt.swScope,vapidKey:"string"==typeof Lt.vapidKey?Lt.vapidKey:ei(Lt.vapidKey)}}}else if(3===Pe){const Lt=tn;O={token:Lt.fcmToken,createTime:Lt.createTime,subscriptionOptions:{auth:ei(Lt.auth),p256dh:ei(Lt.p256dh),endpoint:Lt.endpoint,swScope:Lt.swScope,vapidKey:ei(Lt.vapidKey)}}}else if(4===Pe){const Lt=tn;O={token:Lt.fcmToken,createTime:Lt.createTime,subscriptionOptions:{auth:ei(Lt.auth),p256dh:ei(Lt.p256dh),endpoint:Lt.endpoint,swScope:Lt.swScope,vapidKey:ei(Lt.vapidKey)}}}}),function(Pe,Ke,gt,Ht){return J.apply(this,arguments)})})).close(),yield(0,he.Lj)(lr),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),bs(O)?O:null;var J}),Qi.apply(this,arguments)}function bs(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:O}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}const Gr="firebase-messaging-store";let mo=null;function Rn(){return mo||(mo=(0,he.X3)("firebase-messaging-database",1,{upgrade:(I,O)=>{0===O&&I.createObjectStore(Gr)}})),mo}function P(I){return B.apply(this,arguments)}function B(){return(B=(0,z.Z)(function*(I){const O=ze(I),J=yield(yield Rn()).transaction(Gr).objectStore(Gr).get(O);if(J)return J;{const ve=yield go(I.appConfig.senderId);if(ve)return yield S(I,ve),ve}})).apply(this,arguments)}function S(I,O){return W.apply(this,arguments)}function W(){return(W=(0,z.Z)(function*(I,O){const V=ze(I),ve=(yield Rn()).transaction(Gr,"readwrite");return yield ve.objectStore(Gr).put(O,V),yield ve.done,O})).apply(this,arguments)}function oe(I){return xe.apply(this,arguments)}function xe(){return(xe=(0,z.Z)(function*(I){const O=ze(I),J=(yield Rn()).transaction(Gr,"readwrite");yield J.objectStore(Gr).delete(O),yield J.done})).apply(this,arguments)}function ze({appConfig:I}){return I.appId}const Gt=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _n(I,O){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,z.Z)(function*(I,O){var V;const J=yield T(I),ve=j(O),Pe={method:"POST",headers:J,body:JSON.stringify(ve)};let Ke;try{Ke=yield(yield fetch(R(I.appConfig),Pe)).json()}catch(gt){throw Gt.create("token-subscribe-failed",{errorInfo:null===(V=gt)||void 0===V?void 0:V.toString()})}if(Ke.error)throw Gt.create("token-subscribe-failed",{errorInfo:Ke.error.message});if(!Ke.token)throw Gt.create("token-subscribe-no-token");return Ke.token})).apply(this,arguments)}function rn(I,O){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,z.Z)(function*(I,O){var V;const J=yield T(I),ve=j(O.subscriptionOptions),Pe={method:"PATCH",headers:J,body:JSON.stringify(ve)};let Ke;try{Ke=yield(yield fetch(`${R(I.appConfig)}/${O.token}`,Pe)).json()}catch(gt){throw Gt.create("token-update-failed",{errorInfo:null===(V=gt)||void 0===V?void 0:V.toString()})}if(Ke.error)throw Gt.create("token-update-failed",{errorInfo:Ke.error.message});if(!Ke.token)throw Gt.create("token-update-no-token");return Ke.token})).apply(this,arguments)}function Cn(I,O){return Un.apply(this,arguments)}function Un(){return(Un=(0,z.Z)(function*(I,O){var V;const ve={method:"DELETE",headers:yield T(I)};try{const Ke=yield(yield fetch(`${R(I.appConfig)}/${O}`,ve)).json();if(Ke.error)throw Gt.create("token-unsubscribe-failed",{errorInfo:Ke.error.message})}catch(Pe){throw Gt.create("token-unsubscribe-failed",{errorInfo:null===(V=Pe)||void 0===V?void 0:V.toString()})}})).apply(this,arguments)}function R({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function T(I){return b.apply(this,arguments)}function b(){return(b=(0,z.Z)(function*({appConfig:I,installations:O}){const V=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function j({p256dh:I,auth:O,endpoint:V,vapidKey:J}){const ve={web:{endpoint:V,auth:O,p256dh:I}};return J!==Li&&(ve.web.applicationPubKey=J),ve}const Ve=6048e5;function vt(I){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,z.Z)(function*(I){const O=yield to(I.swRegistration,I.vapidKey),V={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:O.endpoint,auth:ei(O.getKey("auth")),p256dh:ei(O.getKey("p256dh"))},J=yield P(I.firebaseDependencies);if(J){if(ks(J.subscriptionOptions,V))return Date.now()>=J.createTime+Ve?xs(I,{token:J.token,createTime:Date.now(),subscriptionOptions:V}):J.token;try{yield Cn(I.firebaseDependencies,J.token)}catch(ve){console.warn(ve)}return qe(I.firebaseDependencies,V)}return qe(I.firebaseDependencies,V)})).apply(this,arguments)}function ti(I){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,z.Z)(function*(I){const O=yield P(I.firebaseDependencies);O&&(yield Cn(I.firebaseDependencies,O.token),yield oe(I.firebaseDependencies));const V=yield I.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()})).apply(this,arguments)}function xs(I,O){return _o.apply(this,arguments)}function _o(){return(_o=(0,z.Z)(function*(I,O){try{const V=yield rn(I.firebaseDependencies,O),J=Object.assign(Object.assign({},O),{token:V,createTime:Date.now()});return yield S(I.firebaseDependencies,J),V}catch(V){throw yield ti(I),V}})).apply(this,arguments)}function qe(I,O){return gn.apply(this,arguments)}function gn(){return(gn=(0,z.Z)(function*(I,O){const J={token:yield _n(I,O),createTime:Date.now(),subscriptionOptions:O};return yield S(I,J),J.token})).apply(this,arguments)}function to(I,O){return br.apply(this,arguments)}function br(){return(br=(0,z.Z)(function*(I,O){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:po(O)})})).apply(this,arguments)}function ks(I,O){return O.vapidKey===I.vapidKey&&O.endpoint===I.endpoint&&O.auth===I.auth&&O.p256dh===I.p256dh}function yo(I){const O={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function ci(I,O){if(!O.notification)return;I.notification={};const V=O.notification.title;V&&(I.notification.title=V);const J=O.notification.body;J&&(I.notification.body=J);const ve=O.notification.image;ve&&(I.notification.image=ve)}(O,I),function no(I,O){!O.data||(I.data=O.data)}(O,I),function ua(I,O){var V,J,ve,Pe,Ke;if(!O.fcmOptions&&!(null===(V=O.notification)||void 0===V?void 0:V.click_action))return;I.fcmOptions={};const gt=null!==(ve=null===(J=O.fcmOptions)||void 0===J?void 0:J.link)&&void 0!==ve?ve:null===(Pe=O.notification)||void 0===Pe?void 0:Pe.click_action;gt&&(I.fcmOptions.link=gt);const Ht=null===(Ke=O.fcmOptions)||void 0===Ke?void 0:Ke.analytics_label;Ht&&(I.fcmOptions.analyticsLabel=Ht)}(O,I),O}function La(I){return"object"==typeof I&&!!I&&Vi in I}function vl(I,O){const V=[];for(let J=0;J<I.length;J++)V.push(I.charAt(J)),J<O.length&&V.push(O.charAt(J));return V.join("")}function Ns(I){return Gt.create("missing-app-config-values",{valueName:I})}vl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Br{constructor(O,V,J){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ve=function eu(I){if(!I||!I.options)throw Ns("App Configuration Object");if(!I.name)throw Ns("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:V}=I;for(const J of O)if(!V[J])throw Ns(J);return{appName:I.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:ve,installations:V,analyticsProvider:J}}_delete(){return Promise.resolve()}}function xr(I){return xo.apply(this,arguments)}function xo(){return(xo=(0,z.Z)(function*(I){var O;try{I.swRegistration=yield navigator.serviceWorker.register(Es,{scope:er}),I.swRegistration.update().catch(()=>{})}catch(V){throw Gt.create("failed-service-worker-registration",{browserErrorMessage:null===(O=V)||void 0===O?void 0:O.message})}})).apply(this,arguments)}function Fs(I,O){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,z.Z)(function*(I,O){if(!O&&!I.swRegistration&&(yield xr(I)),O||!I.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw Gt.create("invalid-sw-registration");I.swRegistration=O}})).apply(this,arguments)}function ca(I,O){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,z.Z)(function*(I,O){O?I.vapidKey=O:I.vapidKey||(I.vapidKey=Li)})).apply(this,arguments)}function da(){return(da=(0,z.Z)(function*(I,O){if(!navigator)throw Gt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gt.create("permission-blocked");return yield ca(I,null==O?void 0:O.vapidKey),yield Fs(I,null==O?void 0:O.serviceWorkerRegistration),vt(I)})).apply(this,arguments)}function ko(I,O,V){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,z.Z)(function*(I,O,V){const J=Va(O);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(J,{message_id:V[Vi],message_name:V[Cs],message_time:V[Ui],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Va(I){switch(I){case cs.NOTIFICATION_CLICKED:return"notification_open";case cs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ls(){return(Ls=(0,z.Z)(function*(I,O){const V=O.data;if(!V.isFirebaseMessaging)return;I.onMessageHandler&&V.messageType===cs.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(yo(V)):I.onMessageHandler.next(yo(V)));const J=V.data;La(J)&&"1"===J[Rs]&&(yield ko(I,V.messageType,J))})).apply(this,arguments)}const Vs="@firebase/messaging",K="0.9.16",Qo=I=>{const O=new Br(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function qo(I,O){return Ls.apply(this,arguments)}(O,V)),O},Us=I=>{const O=I.getProvider("messaging").getImmediate();return{getToken:J=>function Yo(I,O){return da.apply(this,arguments)}(O,J)}};function No(){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,z.Z)(function*(){try{yield(0,ce.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Jo(){(0,le._registerComponent)(new pe.wA("messaging",Qo,"PUBLIC")),(0,le._registerComponent)(new pe.wA("messaging-internal",Us,"PRIVATE")),(0,le.registerVersion)(Vs,K),(0,le.registerVersion)(Vs,K,"esm2017")}();const ro="analytics",vo="firebase_id",Kn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xi="https://www.googletagmanager.com/gtag/js",bn=new be.Yd("@firebase/analytics");function $i(I){return Promise.all(I.map(O=>O.catch(V=>V)))}function ni(I,O){const V=document.createElement("script");V.src=`${Xi}?l=${I}&id=${O}`,V.async=!0,document.head.appendChild(V)}function Oi(I,O,V,J,ve,Pe){return hs.apply(this,arguments)}function hs(){return(hs=(0,z.Z)(function*(I,O,V,J,ve,Pe){const Ke=J[ve];try{if(Ke)yield O[Ke];else{const Ht=(yield $i(V)).find(Xt=>Xt.measurementId===ve);Ht&&(yield O[Ht.appId])}}catch(gt){bn.error(gt)}I("config",ve,Pe)})).apply(this,arguments)}function ws(I,O,V,J,ve){return jr.apply(this,arguments)}function jr(){return(jr=(0,z.Z)(function*(I,O,V,J,ve){try{let Pe=[];if(ve&&ve.send_to){let Ke=ve.send_to;Array.isArray(Ke)||(Ke=[Ke]);const gt=yield $i(V);for(const Ht of Ke){const Xt=gt.find(Lt=>Lt.measurementId===Ht),tn=Xt&&O[Xt.appId];if(!tn){Pe=[];break}Pe.push(tn)}}0===Pe.length&&(Pe=Object.values(O)),yield Promise.all(Pe),I("event",J,ve||{})}catch(Pe){bn.error(Pe)}})).apply(this,arguments)}function Eo(){const I=window.document.getElementsByTagName("script");for(const O of Object.values(I))if(O.src&&O.src.includes(Xi))return O;return null}const Ti=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Lo=new class ts{constructor(O={},V=1e3){this.throttleMetadata=O,this.intervalMillis=V}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,V){this.throttleMetadata[O]=V}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function Ua(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Co(I){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,z.Z)(function*(I){var O;const{appId:V,apiKey:J}=I,ve={method:"GET",headers:Ua(J)},Pe=Kn.replace("{app-id}",V),Ke=yield fetch(Pe,ve);if(200!==Ke.status&&304!==Ke.status){let gt="";try{const Ht=yield Ke.json();(null===(O=Ht.error)||void 0===O?void 0:O.message)&&(gt=Ht.error.message)}catch(Ht){}throw Ti.create("config-fetch-failed",{httpStatus:Ke.status,responseMessage:gt})}return Ke.json()})).apply(this,arguments)}function Dr(I){return ns.apply(this,arguments)}function ns(){return(ns=(0,z.Z)(function*(I,O=Lo,V){const{appId:J,apiKey:ve,measurementId:Pe}=I.options;if(!J)throw Ti.create("no-app-id");if(!ve){if(Pe)return{measurementId:Pe,appId:J};throw Ti.create("no-api-key")}const Ke=O.getThrottleMetadata(J)||{backoffCount:0,throttleEndTimeMillis:Date.now()},gt=new Xo;return setTimeout((0,z.Z)(function*(){gt.abort()}),void 0!==V?V:6e4),Wi({appId:J,apiKey:ve,measurementId:Pe},Ke,gt,O)})).apply(this,arguments)}function Wi(I,O,V){return bo.apply(this,arguments)}function bo(){return(bo=(0,z.Z)(function*(I,{throttleEndTimeMillis:O,backoffCount:V},J,ve=Lo){var Pe,Ke;const{appId:gt,measurementId:Ht}=I;try{yield Do(J,O)}catch(Xt){if(Ht)return bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${null===(Pe=Xt)||void 0===Pe?void 0:Pe.message}]`),{appId:gt,measurementId:Ht};throw Xt}try{const Xt=yield Co(I);return ve.deleteThrottleMetadata(gt),Xt}catch(Xt){const tn=Xt;if(!Ba(tn)){if(ve.deleteThrottleMetadata(gt),Ht)return bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${null==tn?void 0:tn.message}]`),{appId:gt,measurementId:Ht};throw Xt}const Lt=503===Number(null===(Ke=null==tn?void 0:tn.customData)||void 0===Ke?void 0:Ke.httpStatus)?(0,ce.$s)(V,ve.intervalMillis,30):(0,ce.$s)(V,ve.intervalMillis),Kr={throttleEndTimeMillis:Date.now()+Lt,backoffCount:V+1};return ve.setThrottleMetadata(gt,Kr),bn.debug(`Calling attemptFetch again in ${Lt} millis`),Wi(I,Kr,J,ve)}})).apply(this,arguments)}function Do(I,O){return new Promise((V,J)=>{const ve=Math.max(O-Date.now(),0),Pe=setTimeout(V,ve);I.addEventListener(()=>{clearTimeout(Pe),J(Ti.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}function Ba(I){if(!(I instanceof ce.ZR&&I.customData))return!1;const O=Number(I.customData.httpStatus);return 429===O||500===O||503===O||504===O}class Xo{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}let $s,q;function Gi(){return(Gi=(0,z.Z)(function*(I,O,V,J,ve){if(ve&&ve.global)I("event",V,J);else{const Pe=yield O;I("event",V,Object.assign(Object.assign({},J),{send_to:Pe}))}})).apply(this,arguments)}function ie(I){q=I}function Be(I){$s=I}function mt(){return qt.apply(this,arguments)}function qt(){return(qt=(0,z.Z)(function*(){var I;if(!(0,ce.hl)())return bn.warn(Ti.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(O){return bn.warn(Ti.create("indexeddb-unavailable",{errorInfo:null===(I=O)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function Dn(){return(Dn=(0,z.Z)(function*(I,O,V,J,ve,Pe,Ke){var gt;const Ht=Dr(I);Ht.then(wr=>{V[wr.measurementId]=wr.appId,I.options.measurementId&&wr.measurementId!==I.options.measurementId&&bn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${wr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(wr=>bn.error(wr)),O.push(Ht);const Xt=mt().then(wr=>{if(wr)return J.getId()}),[tn,Lt]=yield Promise.all([Ht,Xt]);Eo()||ni(Pe,tn.measurementId),q&&(ve("consent","default",q),ie(void 0)),ve("js",new Date);const Kr=null!==(gt=null==Ke?void 0:Ke.config)&&void 0!==gt?gt:{};return Kr.origin="firebase",Kr.update=!0,null!=Lt&&(Kr[vo]=Lt),ve("config",tn.measurementId,Kr),$s&&(ve("set",$s),Be(void 0)),tn.measurementId})).apply(this,arguments)}class An{constructor(O){this.app=O}_delete(){return delete cr[this.app.options.appId],Promise.resolve()}}let cr={},rs=[];const io={};let so,Ri,Ws="dataLayer",Io=!1;function Ic(I,O,V){!function ta(){const I=[];if((0,ce.ru)()&&I.push("This is a browser extension environment."),(0,ce.zI)()||I.push("Cookies are not available."),I.length>0){const O=I.map((J,ve)=>`(${ve+1}) ${J}`).join(" "),V=Ti.create("invalid-analytics-context",{errorInfo:O});bn.warn(V.message)}}();const J=I.options.appId;if(!J)throw Ti.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Ti.create("no-api-key");bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=cr[J])throw Ti.create("already-exists",{id:J});if(!Io){!function ds(I){let O=[];Array.isArray(window[I])?O=window[I]:window[I]=O}(Ws);const{wrappedGtag:Pe,gtagCore:Ke}=function Dl(I,O,V,J,ve){let Pe=function(...Ke){window[J].push(arguments)};return window[ve]&&"function"==typeof window[ve]&&(Pe=window[ve]),window[ve]=function es(I,O,V,J){function Pe(){return(Pe=(0,z.Z)(function*(Ke,gt,Ht){try{"event"===Ke?yield ws(I,O,V,gt,Ht):"config"===Ke?yield Oi(I,O,V,J,gt,Ht):"consent"===Ke?I("consent","update",Ht):I("set",gt)}catch(Xt){bn.error(Xt)}})).apply(this,arguments)}return function ve(Ke,gt,Ht){return Pe.apply(this,arguments)}}(Pe,I,O,V),{gtagCore:Pe,wrappedGtag:window[ve]}}(cr,rs,io,Ws,"gtag");Ri=Pe,so=Ke,Io=!0}return cr[J]=function wt(I,O,V,J,ve,Pe,Ke){return Dn.apply(this,arguments)}(I,rs,io,O,so,Ws,V),new An(I)}function Su(){return wl.apply(this,arguments)}function wl(){return(wl=(0,z.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(I){return!1}})).apply(this,arguments)}const zr="@firebase/analytics";!function Gs(){(0,le._registerComponent)(new pe.wA(ro,(O,{options:V})=>Ic(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,le._registerComponent)(new pe.wA("analytics-internal",function I(O){try{const V=O.getProvider(ro).getImmediate();return{logEvent:(J,ve,Pe)=>function Uo(I,O,V,J){I=(0,ce.m9)(I),function ea(I,O,V,J,ve){return Gi.apply(this,arguments)}(Ri,cr[I.app.options.appId],O,V,J).catch(ve=>bn.error(ve))}(V,J,ve,Pe)}}catch(V){throw Ti.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,le.registerVersion)(zr,"0.8.0"),(0,le.registerVersion)(zr,"0.8.0","esm2017")}();var Tl=k(4408),Ki=k(7565);const ja=new class is extends Ki.v{}(class Pu extends Tl.o{constructor(O,V){super(O,V),this.scheduler=O,this.work=V}schedule(O,V=0){return V>0?super.schedule(O,V):(this.delay=V,this.state=O,this.scheduler.flush(this),this)}execute(O,V){return V>0||this.closed?super.execute(O,V):this._execute(O,V)}requestAsyncId(O,V,J=0){return null!=J&&J>0||null==J&&this.delay>0?super.requestAsyncId(O,V,J):O.flush(this)}});var wo=k(4986),ra=k(8505),To=k(9468),Al=k(5363);const Ou=new f.GfV("7.4.1"),Sl="__angularfire_symbol__analyticsIsSupportedValue",pa="__angularfire_symbol__analyticsIsSupported",hi="__angularfire_symbol__remoteConfigIsSupportedValue",ia="__angularfire_symbol__remoteConfigIsSupported",ao="__angularfire_symbol__messagingIsSupportedValue",Ml="__angularfire_symbol__messagingIsSupported";function kn(I,O,V){if(O){if(1===O.length)return O[0];const Pe=O.filter(Ke=>Ke.app===V);if(1===Pe.length)return Pe[0]}return V.container.getProvider(I).getImmediate({optional:!0})}globalThis[pa]||(globalThis[pa]=Su().then(I=>globalThis[Sl]=I).catch(()=>globalThis[Sl]=!1)),globalThis[Ml]||(globalThis[Ml]=No().then(I=>globalThis[ao]=I).catch(()=>globalThis[ao]=!1)),globalThis[ia]||(globalThis[ia]=Nn().then(I=>globalThis[hi]=I).catch(()=>globalThis[hi]=!1));const Sn=(I,O)=>{const V=O?[O]:(0,M.C6)(),J=[];return V.forEach(ve=>{ve.container.getProvider(I).instances.forEach(Ke=>{J.includes(Ke)||J.push(Ke)})}),J};function Jt(){}class xi{constructor(O,V=ja){this.zone=O,this.delegate=V}now(){return this.delegate.now()}schedule(O,V,J){const ve=this.zone;return this.delegate.schedule(function(Ke){ve.runGuarded(()=>{O.apply(this,[Ke])})},V,J)}}class jn{constructor(O){this.zone=O,this.task=null}call(O,V){const J=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jt,{},Jt,Jt)),V.pipe((0,ra.b)({next:J,complete:J,error:J})).subscribe(O).add(J)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ru=(()=>{class I{constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new xi(Zone.current)),this.insideAngular=V.run(()=>new xi(Zone.current,wo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(V){return new(V||I)(f.LFG(f.R0b))},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function ss(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function vi(I){return ss(),function Rl(I){return function(V){return(V=V.lift(new jn(I.ngZone))).pipe((0,To.R)(I.outsideAngular),(0,Al.Q)(I.insideAngular))}}(ss())(I)}},2090:(st,Ie,k)=>{k.d(Ie,{$s:()=>yr,BH:()=>Je,DV:()=>kt,Dv:()=>Hr,GJ:()=>Ct,L:()=>he,LL:()=>Me,Pz:()=>lt,Sg:()=>Ue,UG:()=>Ae,UI:()=>Pn,US:()=>pe,Wj:()=>Fr,Yr:()=>nt,ZB:()=>X,ZR:()=>Re,b$:()=>ut,cI:()=>Dt,dS:()=>pt,eu:()=>Le,g5:()=>z,gK:()=>Zn,gQ:()=>Nr,h$:()=>be,hl:()=>ne,hu:()=>M,jU:()=>Ne,lb:()=>dr,m9:()=>$r,ne:()=>Tt,p$:()=>ee,pd:()=>tr,r3:()=>jt,ru:()=>tt,tV:()=>Ee,uI:()=>et,ug:()=>At,vZ:()=>On,w1:()=>De,w9:()=>Rt,xO:()=>fn,xb:()=>Ut,z$:()=>je,zI:()=>de,zd:()=>_r});const M=function(re,ae){if(!re)throw z(ae)},z=function(re){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+re)},le=function(re){const ae=[];let Q=0;for(let te=0;te<re.length;te++){let se=re.charCodeAt(te);se<128?ae[Q++]=se:se<2048?(ae[Q++]=se>>6|192,ae[Q++]=63&se|128):55296==(64512&se)&&te+1<re.length&&56320==(64512&re.charCodeAt(te+1))?(se=65536+((1023&se)<<10)+(1023&re.charCodeAt(++te)),ae[Q++]=se>>18|240,ae[Q++]=se>>12&63|128,ae[Q++]=se>>6&63|128,ae[Q++]=63&se|128):(ae[Q++]=se>>12|224,ae[Q++]=se>>6&63|128,ae[Q++]=63&se|128)}return ae},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,ae){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let se=0;se<re.length;se+=3){const Ze=re[se],at=se+1<re.length,Mt=at?re[se+1]:0,yn=se+2<re.length,cn=yn?re[se+2]:0;let Lr=(15&Mt)<<2|cn>>6,Gn=63&cn;yn||(Gn=64,at||(Lr=64)),te.push(Q[Ze>>2],Q[(3&Ze)<<4|Mt>>4],Q[Lr],Q[Gn])}return te.join("")},encodeString(re,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(re):this.encodeByteArray(le(re),ae)},decodeString(re,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(re):function(re){const ae=[];let Q=0,te=0;for(;Q<re.length;){const se=re[Q++];if(se<128)ae[te++]=String.fromCharCode(se);else if(se>191&&se<224){const Ze=re[Q++];ae[te++]=String.fromCharCode((31&se)<<6|63&Ze)}else if(se>239&&se<365){const yn=((7&se)<<18|(63&re[Q++])<<12|(63&re[Q++])<<6|63&re[Q++])-65536;ae[te++]=String.fromCharCode(55296+(yn>>10)),ae[te++]=String.fromCharCode(56320+(1023&yn))}else{const Ze=re[Q++],at=re[Q++];ae[te++]=String.fromCharCode((15&se)<<12|(63&Ze)<<6|63&at)}}return ae.join("")}(this.decodeStringToByteArray(re,ae))},decodeStringToByteArray(re,ae){this.init_();const Q=ae?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let se=0;se<re.length;){const Ze=Q[re.charAt(se++)],Mt=se<re.length?Q[re.charAt(se)]:0;++se;const cn=se<re.length?Q[re.charAt(se)]:64;++se;const Wt=se<re.length?Q[re.charAt(se)]:64;if(++se,null==Ze||null==Mt||null==cn||null==Wt)throw Error();te.push(Ze<<2|Mt>>4),64!==cn&&(te.push(Mt<<4&240|cn>>2),64!==Wt&&te.push(cn<<6&192|Wt))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}},be=function(re){const ae=le(re);return pe.encodeByteArray(ae,!0)},he=function(re){return be(re).replace(/\./g,"")},Ee=function(re){try{return pe.decodeString(re,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};function ee(re){return X(void 0,re)}function X(re,ae){if(!(ae instanceof Object))return ae;switch(ae.constructor){case Date:return new Date(ae.getTime());case Object:void 0===re&&(re={});break;case Array:re=[];break;default:return ae}for(const Q in ae)!ae.hasOwnProperty(Q)||!_e(Q)||(re[Q]=X(re[Q],ae[Q]));return re}function _e(re){return"__proto__"!==re}class Je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,Q)=>{this.resolve=ae,this.reject=Q})}wrapCallback(ae){return(Q,te)=>{Q?this.reject(Q):this.resolve(te),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(Q):ae(Q,te))}}}function Ue(re,ae){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=ae||"demo-project",se=re.iat||0,Ze=re.sub||re.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const at=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:se,exp:se+3600,auth_time:se,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},re);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(at)),""].join(".")}function je(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function et(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(re){return!1}}function Ne(){return"object"==typeof self&&self.self===self}function tt(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function De(){const re=je();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function nt(){return!1}function ne(){return"object"==typeof indexedDB}function Le(){return new Promise((re,ae)=>{try{let Q=!0;const te="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(te);se.onsuccess=()=>{se.result.close(),Q||self.indexedDB.deleteDatabase(te),re(!0)},se.onupgradeneeded=()=>{Q=!1},se.onerror=()=>{var Ze;ae((null===(Ze=se.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(Q){ae(Q)}})}function de(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Re extends Error{constructor(ae,Q,te){super(Q),this.code=ae,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(ae,Q,te){this.service=ae,this.serviceName=Q,this.errors=te}create(ae,...Q){const te=Q[0]||{},se=`${this.service}/${ae}`,Ze=this.errors[ae],at=Ze?function Xe(re,ae){return re.replace(ot,(Q,te)=>{const se=ae[te];return null!=se?String(se):`<${te}?>`})}(Ze,te):"Error";return new Re(se,`${this.serviceName}: ${at} (${se}).`,te)}}const ot=/\{\$([^}]+)}/g;function Dt(re){return JSON.parse(re)}function lt(re){return JSON.stringify(re)}const Ye=function(re){let ae={},Q={},te={},se="";try{const Ze=re.split(".");ae=Dt(Ee(Ze[0])||""),Q=Dt(Ee(Ze[1])||""),se=Ze[2],te=Q.d||{},delete Q.d}catch(Ze){}return{header:ae,claims:Q,data:te,signature:se}},Rt=function(re){const Q=Ye(re).claims;return!!Q&&"object"==typeof Q&&Q.hasOwnProperty("iat")},Ct=function(re){const ae=Ye(re).claims;return"object"==typeof ae&&!0===ae.admin};function jt(re,ae){return Object.prototype.hasOwnProperty.call(re,ae)}function kt(re,ae){if(Object.prototype.hasOwnProperty.call(re,ae))return re[ae]}function Ut(re){for(const ae in re)if(Object.prototype.hasOwnProperty.call(re,ae))return!1;return!0}function Pn(re,ae,Q){const te={};for(const se in re)Object.prototype.hasOwnProperty.call(re,se)&&(te[se]=ae.call(Q,re[se],se,re));return te}function On(re,ae){if(re===ae)return!0;const Q=Object.keys(re),te=Object.keys(ae);for(const se of Q){if(!te.includes(se))return!1;const Ze=re[se],at=ae[se];if($n(Ze)&&$n(at)){if(!On(Ze,at))return!1}else if(Ze!==at)return!1}for(const se of te)if(!Q.includes(se))return!1;return!0}function $n(re){return null!==re&&"object"==typeof re}function fn(re){const ae=[];for(const[Q,te]of Object.entries(re))Array.isArray(te)?te.forEach(se=>{ae.push(encodeURIComponent(Q)+"="+encodeURIComponent(se))}):ae.push(encodeURIComponent(Q)+"="+encodeURIComponent(te));return ae.length?"&"+ae.join("&"):""}function _r(re){const ae={};return re.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[se,Ze]=te.split("=");ae[decodeURIComponent(se)]=decodeURIComponent(Ze)}}),ae}function tr(re){const ae=re.indexOf("?");if(!ae)return"";const Q=re.indexOf("#",ae);return re.substring(ae,Q>0?Q:void 0)}class Nr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ae=1;ae<this.blockSize;++ae)this.pad_[ae]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ae,Q){Q||(Q=0);const te=this.W_;if("string"==typeof ae)for(let Wt=0;Wt<16;Wt++)te[Wt]=ae.charCodeAt(Q)<<24|ae.charCodeAt(Q+1)<<16|ae.charCodeAt(Q+2)<<8|ae.charCodeAt(Q+3),Q+=4;else for(let Wt=0;Wt<16;Wt++)te[Wt]=ae[Q]<<24|ae[Q+1]<<16|ae[Q+2]<<8|ae[Q+3],Q+=4;for(let Wt=16;Wt<80;Wt++){const Lr=te[Wt-3]^te[Wt-8]^te[Wt-14]^te[Wt-16];te[Wt]=4294967295&(Lr<<1|Lr>>>31)}let cn,hr,se=this.chain_[0],Ze=this.chain_[1],at=this.chain_[2],Mt=this.chain_[3],yn=this.chain_[4];for(let Wt=0;Wt<80;Wt++){Wt<40?Wt<20?(cn=Mt^Ze&(at^Mt),hr=1518500249):(cn=Ze^at^Mt,hr=1859775393):Wt<60?(cn=Ze&at|Mt&(Ze|at),hr=2400959708):(cn=Ze^at^Mt,hr=3395469782);const Lr=(se<<5|se>>>27)+cn+yn+hr+te[Wt]&4294967295;yn=Mt,Mt=at,at=4294967295&(Ze<<30|Ze>>>2),Ze=se,se=Lr}this.chain_[0]=this.chain_[0]+se&4294967295,this.chain_[1]=this.chain_[1]+Ze&4294967295,this.chain_[2]=this.chain_[2]+at&4294967295,this.chain_[3]=this.chain_[3]+Mt&4294967295,this.chain_[4]=this.chain_[4]+yn&4294967295}update(ae,Q){if(null==ae)return;void 0===Q&&(Q=ae.length);const te=Q-this.blockSize;let se=0;const Ze=this.buf_;let at=this.inbuf_;for(;se<Q;){if(0===at)for(;se<=te;)this.compress_(ae,se),se+=this.blockSize;if("string"==typeof ae){for(;se<Q;)if(Ze[at]=ae.charCodeAt(se),++at,++se,at===this.blockSize){this.compress_(Ze),at=0;break}}else for(;se<Q;)if(Ze[at]=ae[se],++at,++se,at===this.blockSize){this.compress_(Ze),at=0;break}}this.inbuf_=at,this.total_+=Q}digest(){const ae=[];let Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let se=this.blockSize-1;se>=56;se--)this.buf_[se]=255&Q,Q/=256;this.compress_(this.buf_);let te=0;for(let se=0;se<5;se++)for(let Ze=24;Ze>=0;Ze-=8)ae[te]=this.chain_[se]>>Ze&255,++te;return ae}}function Tt(re,ae){const Q=new ln(re,ae);return Q.subscribe.bind(Q)}class ln{constructor(ae,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{ae(this)}).catch(te=>{this.error(te)})}next(ae){this.forEachObserver(Q=>{Q.next(ae)})}error(ae){this.forEachObserver(Q=>{Q.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,Q,te){let se;if(void 0===ae&&void 0===Q&&void 0===te)throw new Error("Missing Observer.");se=function pn(re,ae){if("object"!=typeof re||null===re)return!1;for(const Q of ae)if(Q in re&&"function"==typeof re[Q])return!0;return!1}(ae,["next","error","complete"])?ae:{next:ae,error:Q,complete:te},void 0===se.next&&(se.next=Yr),void 0===se.error&&(se.error=Yr),void 0===se.complete&&(se.complete=Yr);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch(at){}}),this.observers.push(se),Ze}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,ae)}sendOne(ae,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{Q(this.observers[ae])}catch(te){"undefined"!=typeof console&&console.error&&console.error(te)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yr(){}const Hr=function(re,ae,Q,te){let se;if(te<ae?se="at least "+ae:te>Q&&(se=0===Q?"none":"no more than "+Q),se)throw new Error(re+" failed: Was called with "+te+(1===te?" argument.":" arguments.")+" Expects "+se+".")};function Zn(re,ae){return`${re} failed: ${ae} argument `}function Fr(re,ae,Q,te){if((!te||Q)&&"function"!=typeof Q)throw new Error(Zn(re,ae)+"must be a valid function.")}function dr(re,ae,Q,te){if((!te||Q)&&("object"!=typeof Q||null===Q))throw new Error(Zn(re,ae)+"must be a valid context object.")}const pt=function(re){const ae=[];let Q=0;for(let te=0;te<re.length;te++){let se=re.charCodeAt(te);if(se>=55296&&se<=56319){const Ze=se-55296;te++,M(te<re.length,"Surrogate pair missing trail surrogate."),se=65536+(Ze<<10)+(re.charCodeAt(te)-56320)}se<128?ae[Q++]=se:se<2048?(ae[Q++]=se>>6|192,ae[Q++]=63&se|128):se<65536?(ae[Q++]=se>>12|224,ae[Q++]=se>>6&63|128,ae[Q++]=63&se|128):(ae[Q++]=se>>18|240,ae[Q++]=se>>12&63|128,ae[Q++]=se>>6&63|128,ae[Q++]=63&se|128)}return ae},At=function(re){let ae=0;for(let Q=0;Q<re.length;Q++){const te=re.charCodeAt(Q);te<128?ae++:te<2048?ae+=2:te>=55296&&te<=56319?(ae+=4,Q++):ae+=3}return ae};function yr(re,ae=1e3,Q=2){const te=ae*Math.pow(Q,re),se=Math.round(.5*te*(Math.random()-.5)*2);return Math.min(144e5,te+se)}function $r(re){return re&&re._delegate?re._delegate:re}},7377:(st,Ie,k)=>{k.d(Ie,{e:()=>ce});var f=k(8505),M=k(5e3),z=k(1205),le=k(2453);let ce=(()=>{class pe{constructor(he,Ee){this.af=he,this.store=Ee,this.auth$=this.af.authState.pipe((0,f.b)(ee=>{this.store.set("user",ee?{email:ee.email,uid:ee.uid,authenticated:!0}:null)}))}createUser(he,Ee){return this.af.createUserWithEmailAndPassword(he,Ee)}loginUser(he,Ee){return this.af.signInWithEmailAndPassword(he,Ee)}logoutUser(){return this.af.signOut()}}return pe.\u0275fac=function(he){return new(he||pe)(M.LFG(z.zQ),M.LFG(le.y))},pe.\u0275prov=M.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})()},8583:(st,Ie,k)=>{k.d(Ie,{m:()=>ce});var f=k(9808),M=k(3075),z=k(7377),le=k(5e3);let ce=(()=>{class pe{static forRoot(){return{ngModule:pe,providers:[z.e]}}}return pe.\u0275fac=function(he){return new(he||pe)},pe.\u0275mod=le.oAB({type:pe}),pe.\u0275inj=le.cJS({imports:[[f.ez,M.UX]]}),pe})()},2453:(st,Ie,k)=>{k.d(Ie,{y:()=>be});var f=k(1135),M=k(4004),le=k(1884);const pe={user:void 0,pokemonResults:{count:void 0,next:"https://pokeapi.co/api/v2/pokemon?offset=0&limit=8",previous:void 0,results:[]}};class be{constructor(){this.subject=new f.X(pe),this.store=this.subject.asObservable().pipe((0,le.x)())}get value(){return this.subject.value}select(Ee){return this.store.pipe(function z(...he){const Ee=he.length;if(0===Ee)throw new Error("list of properties cannot be empty.");return(0,M.U)(ee=>{let X=ee;for(let _e=0;_e<Ee;_e++){const Je=null==X?void 0:X[he[_e]];if(void 0===Je)return;X=Je}return X})}(Ee))}set(Ee,ee){this.subject.next(Object.assign(Object.assign({},this.value),{[Ee]:ee}))}}},124:(st,Ie,k)=>{var f=k(9808),M=k(5e3);class z extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends z{static makeCurrent(){(0,f.HT)(new le)}onAndCancel(i,r,a){return i.addEventListener(r,a,!1),()=>{i.removeEventListener(r,a,!1)}}dispatchEvent(i,r){i.dispatchEvent(r)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,r){return(r=r||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,r){return"window"===r?window:"document"===r?i:"body"===r?i.body:null}getBaseHref(i){const r=function pe(){return ce=ce||document.querySelector("base"),ce?ce.getAttribute("href"):null}();return null==r?null:function he(s){be=be||document.createElement("a"),be.setAttribute("href",s);const i=be.pathname;return"/"===i.charAt(0)?i:`/${i}`}(r)}resetBaseElement(){ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return(0,f.Mx)(document.cookie,i)}}let be,ce=null;const Ee=new M.OlP("TRANSITION_ID"),X=[{provide:M.ip1,useFactory:function ee(s,i,r){return()=>{r.get(M.CZH).donePromise.then(()=>{const a=(0,f.q)(),h=i.querySelectorAll(`style[ng-transition="${s}"]`);for(let v=0;v<h.length;v++)a.remove(h[v])})}},deps:[Ee,f.K0,M.zs3],multi:!0}];class _e{static init(){(0,M.VLi)(new _e)}addToWindow(i){M.dqk.getAngularTestability=(a,h=!0)=>{const v=i.findTestabilityInTree(a,h);if(null==v)throw new Error("Could not find testability for element.");return v},M.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),M.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),M.dqk.frameworkStabilizers||(M.dqk.frameworkStabilizers=[]),M.dqk.frameworkStabilizers.push(a=>{const h=M.dqk.getAllAngularTestabilities();let v=h.length,w=!1;const L=function(G){w=w||G,v--,0==v&&a(w)};h.forEach(function(G){G.whenStable(L)})})}findTestabilityInTree(i,r,a){if(null==r)return null;const h=i.getTestability(r);return null!=h?h:a?(0,f.q)().isShadowRoot(r)?this.findTestabilityInTree(i,r.host,!0):this.findTestabilityInTree(i,r.parentElement,!0):null}}let Je=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=M.Yz7({token:s,factory:s.\u0275fac}),s})();const Ue=new M.OlP("EventManagerPlugins");let je=(()=>{class s{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(h=>h.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,a,h){return this._findPluginFor(a).addEventListener(r,a,h)}addGlobalEventListener(r,a,h){return this._findPluginFor(a).addGlobalEventListener(r,a,h)}getZone(){return this._zone}_findPluginFor(r){const a=this._eventNameToPlugin.get(r);if(a)return a;const h=this._plugins;for(let v=0;v<h.length;v++){const w=h[v];if(w.supports(r))return this._eventNameToPlugin.set(r,w),w}throw new Error(`No event manager plugin found for event ${r}`)}}return s.\u0275fac=function(r){return new(r||s)(M.LFG(Ue),M.LFG(M.R0b))},s.\u0275prov=M.Yz7({token:s,factory:s.\u0275fac}),s})();class et{constructor(i){this._doc=i}addGlobalEventListener(i,r,a){const h=(0,f.q)().getGlobalEventTarget(this._doc,i);if(!h)throw new Error(`Unsupported event target ${h} for event ${r}`);return this.addEventListener(h,r,a)}}let Ae=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(r){const a=new Set;r.forEach(h=>{this._stylesSet.has(h)||(this._stylesSet.add(h),a.add(h))}),this.onStylesAdded(a)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=M.Yz7({token:s,factory:s.\u0275fac}),s})(),Ne=(()=>{class s extends Ae{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,a,h){r.forEach(v=>{const w=this._doc.createElement("style");w.textContent=v,h.push(a.appendChild(w))})}addHost(r){const a=[];this._addStylesToHost(this._stylesSet,r,a),this._hostNodes.set(r,a)}removeHost(r){const a=this._hostNodes.get(r);a&&a.forEach(tt),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((a,h)=>{this._addStylesToHost(r,h,a)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(tt))}}return s.\u0275fac=function(r){return new(r||s)(M.LFG(f.K0))},s.\u0275prov=M.Yz7({token:s,factory:s.\u0275fac}),s})();function tt(s){(0,f.q)().remove(s)}const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},He=/%COMP%/g;function de(s,i,r){for(let a=0;a<i.length;a++){let h=i[a];Array.isArray(h)?de(s,h,r):(h=h.replace(He,s),r.push(h))}return r}function ye(s){return i=>{if("__ngUnwrap__"===i)return s;!1===s(i)&&(i.preventDefault(),i.returnValue=!1)}}let Re=(()=>{class s{constructor(r,a,h){this.eventManager=r,this.sharedStylesHost=a,this.appId=h,this.rendererByCompId=new Map,this.defaultRenderer=new Me(r)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;switch(a.encapsulation){case M.ifc.Emulated:{let h=this.rendererByCompId.get(a.id);return h||(h=new Dt(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,h)),h.applyToHost(r),h}case 1:case M.ifc.ShadowDom:return new lt(this.eventManager,this.sharedStylesHost,r,a);default:if(!this.rendererByCompId.has(a.id)){const h=de(a.id,a.styles,[]);this.sharedStylesHost.addStyles(h),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(r){return new(r||s)(M.LFG(je),M.LFG(Ne),M.LFG(M.AFp))},s.\u0275prov=M.Yz7({token:s,factory:s.\u0275fac}),s})();class Me{constructor(i){this.eventManager=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,r){return r?document.createElementNS(ut[r]||r,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,r){i.appendChild(r)}insertBefore(i,r,a){i&&i.insertBefore(r,a)}removeChild(i,r){i&&i.removeChild(r)}selectRootElement(i,r){let a="string"==typeof i?document.querySelector(i):i;if(!a)throw new Error(`The selector "${i}" did not match any elements`);return r||(a.textContent=""),a}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,r,a,h){if(h){r=h+":"+r;const v=ut[h];v?i.setAttributeNS(v,r,a):i.setAttribute(r,a)}else i.setAttribute(r,a)}removeAttribute(i,r,a){if(a){const h=ut[a];h?i.removeAttributeNS(h,r):i.removeAttribute(`${a}:${r}`)}else i.removeAttribute(r)}addClass(i,r){i.classList.add(r)}removeClass(i,r){i.classList.remove(r)}setStyle(i,r,a,h){h&(M.JOm.DashCase|M.JOm.Important)?i.style.setProperty(r,a,h&M.JOm.Important?"important":""):i.style[r]=a}removeStyle(i,r,a){a&M.JOm.DashCase?i.style.removeProperty(r):i.style[r]=""}setProperty(i,r,a){i[r]=a}setValue(i,r){i.nodeValue=r}listen(i,r,a){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,r,ye(a)):this.eventManager.addEventListener(i,r,ye(a))}}class Dt extends Me{constructor(i,r,a,h){super(i),this.component=a;const v=de(h+"-"+a.id,a.styles,[]);r.addStyles(v),this.contentAttr=function ne(s){return"_ngcontent-%COMP%".replace(He,s)}(h+"-"+a.id),this.hostAttr=function Le(s){return"_nghost-%COMP%".replace(He,s)}(h+"-"+a.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,r){const a=super.createElement(i,r);return super.setAttribute(a,this.contentAttr,""),a}}class lt extends Me{constructor(i,r,a,h){super(i),this.sharedStylesHost=r,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=de(h.id,h.styles,[]);for(let w=0;w<v.length;w++){const L=document.createElement("style");L.textContent=v[w],this.shadowRoot.appendChild(L)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,r){return super.appendChild(this.nodeOrShadowRoot(i),r)}insertBefore(i,r,a){return super.insertBefore(this.nodeOrShadowRoot(i),r,a)}removeChild(i,r){return super.removeChild(this.nodeOrShadowRoot(i),r)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let Ye=(()=>{class s extends et{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,h){return r.addEventListener(a,h,!1),()=>this.removeEventListener(r,a,h)}removeEventListener(r,a,h){return r.removeEventListener(a,h)}}return s.\u0275fac=function(r){return new(r||s)(M.LFG(f.K0))},s.\u0275prov=M.Yz7({token:s,factory:s.\u0275fac}),s})();const Bt=["alt","control","meta","shift"],Rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jt={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let kt=(()=>{class s extends et{constructor(r){super(r)}supports(r){return null!=s.parseEventName(r)}addEventListener(r,a,h){const v=s.parseEventName(a),w=s.eventCallback(v.fullKey,h,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(r,v.domEventName,w))}static parseEventName(r){const a=r.toLowerCase().split("."),h=a.shift();if(0===a.length||"keydown"!==h&&"keyup"!==h)return null;const v=s._normalizeKey(a.pop());let w="";if(Bt.forEach(G=>{const Y=a.indexOf(G);Y>-1&&(a.splice(Y,1),w+=G+".")}),w+=v,0!=a.length||0===v.length)return null;const L={};return L.domEventName=h,L.fullKey=w,L}static getEventFullKey(r){let a="",h=function Ut(s){let i=s.key;if(null==i){if(i=s.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===s.location&&Ct.hasOwnProperty(i)&&(i=Ct[i]))}return Rt[i]||i}(r);return h=h.toLowerCase()," "===h?h="space":"."===h&&(h="dot"),Bt.forEach(v=>{v!=h&&jt[v](r)&&(a+=v+".")}),a+=h,a}static eventCallback(r,a,h){return v=>{s.getEventFullKey(v)===r&&h.runGuarded(()=>a(v))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return s.\u0275fac=function(r){return new(r||s)(M.LFG(f.K0))},s.\u0275prov=M.Yz7({token:s,factory:s.\u0275fac}),s})();const fn=(0,M.eFA)(M._c5,"browser",[{provide:M.Lbi,useValue:f.bD},{provide:M.g9A,useValue:function Pn(){le.makeCurrent(),_e.init()},multi:!0},{provide:f.K0,useFactory:function $n(){return(0,M.RDi)(document),document},deps:[]}]),_r=[{provide:M.zSh,useValue:"root"},{provide:M.qLn,useFactory:function On(){return new M.qLn},deps:[]},{provide:Ue,useClass:Ye,multi:!0,deps:[f.K0,M.R0b,M.Lbi]},{provide:Ue,useClass:kt,multi:!0,deps:[f.K0]},{provide:Re,useClass:Re,deps:[je,Ne,M.AFp]},{provide:M.FYo,useExisting:Re},{provide:Ae,useExisting:Ne},{provide:Ne,useClass:Ne,deps:[f.K0]},{provide:M.dDg,useClass:M.dDg,deps:[M.R0b]},{provide:je,useClass:je,deps:[Ue,M.R0b]},{provide:f.JF,useClass:Je,deps:[]}];let tr=(()=>{class s{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:s,providers:[{provide:M.AFp,useValue:r.appId},{provide:Ee,useExisting:M.AFp},X]}}}return s.\u0275fac=function(r){return new(r||s)(M.LFG(s,12))},s.\u0275mod=M.oAB({type:s}),s.\u0275inj=M.cJS({providers:_r,imports:[f.ez,M.hGG]}),s})();"undefined"!=typeof window&&window;var Gn=k(7021);const Sr=[{path:"",pathMatch:"full",redirectTo:"/auth/login"}];let Zt=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=M.oAB({type:s}),s.\u0275inj=M.cJS({imports:[[Gn.Bz.forRoot(Sr)],Gn.Bz]}),s})();var xn=k(5861),Xn=k(2453),or=k(7377);function ar(s,i){if(1&s){const r=M.EpF();M.TgZ(0,"div",3),M.NdJ("click",function(){return M.CHM(r),M.oxw().logoutUser()}),M._UZ(1,"img",4),M.qZA()}}let fr=(()=>{class s{constructor(){this.logout=new M.vpe}ngOnInit(){}logoutUser(){this.logout.emit()}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=M.Xpm({type:s,selectors:[["app-header"]],inputs:{user:"user"},outputs:{logout:"logout"},decls:3,vars:1,consts:[[1,"app-header"],[1,"wrapper","w-4/5","mx-auto"],["class","app-header__user-info flex",3,"click",4,"ngIf"],[1,"app-header__user-info","flex",3,"click"],["src","assets/img/logout.svg",1,"ml-auto"]],template:function(r,a){1&r&&(M.TgZ(0,"div",0)(1,"div",1),M.YNc(2,ar,2,0,"div",2),M.qZA()()),2&r&&(M.xp6(2),M.Q6J("ngIf",null==a.user?null:a.user.authenticated))},directives:[f.O5],styles:[".app-header[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #c1cedb;padding:15px 0;text-align:center}.app-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block}.app-header__user-info[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),s})(),Si=(()=>{class s{constructor(){}ngOnInit(){}ngAfterViewInit(){}calculateScrollPercent(r){const{target:{scrollingElement:{scrollTop:a,scrollHeight:h,clientHeight:v}}}=r;return a/(h-v)*100}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=M.Xpm({type:s,selectors:[["pokedex-container"]],decls:4,vars:0,consts:[[1,"container","pokedex","max-w-md","min-h-screen"],[1,"md:container","md:mx-auto"],[1,"pokemon-results","w-4/5","mx-auto"]],template:function(r,a){1&r&&(M.TgZ(0,"div",0)(1,"section",1)(2,"div",2),M._UZ(3,"router-outlet"),M.qZA()()())},directives:[Gn.lC],styles:[".container[_ngcontent-%COMP%]{display:block;position:relative;box-sizing:border-box;clear:both}.container.pokedex[_ngcontent-%COMP%]{margin:0 auto;background:#fff url(https://assets.pokemon.com/static2/_ui/img/chrome/container_bg.png);max-width:1280px}.container.pokedex[_ngcontent-%COMP%]   .pokemon-results[_ngcontent-%COMP%]{background:#fff}"]}),s})(),Vr=(()=>{class s{constructor(r,a,h){this.store=r,this.authService=a,this.router=h,this.title="my-app"}ngOnInit(){this.subscription=this.authService.auth$.subscribe(),this.user$=this.store.select("user")}ngOnDestroy(){this.subscription.unsubscribe()}onLogout(){var r=this;return(0,xn.Z)(function*(){yield r.authService.logoutUser(),r.router.navigate(["/auth/login"])})()}}return s.\u0275fac=function(r){return new(r||s)(M.Y36(Xn.y),M.Y36(or.e),M.Y36(Gn.F0))},s.\u0275cmp=M.Xpm({type:s,selectors:[["app-root"]],decls:3,vars:3,consts:[[3,"user","logout"]],template:function(r,a){1&r&&(M.TgZ(0,"app-header",0),M.NdJ("logout",function(){return a.onLogout()}),M.ALo(1,"async"),M.qZA(),M._UZ(2,"pokedex-container")),2&r&&M.Q6J("user",M.lcZ(1,1,a.user$))},directives:[fr,Si],pipes:[f.Ov],styles:[""]}),s})();var vn=k(4004),nr=k(9300),Ln=k(4986),Mr=k(4482),rr=k(5403),bt=k(8421),nn=k(8306),ir=k(5577),Pr=k(1144),Tn=k(576),si=k(3268);const En=["addListener","removeListener"],qr=["addEventListener","removeEventListener"],zn=["on","off"];function Ft(s,i,r,a){if((0,Tn.m)(r)&&(a=r,r=void 0),a)return Ft(s,i,r).pipe((0,si.Z)(a));const[h,v]=function Or(s){return(0,Tn.m)(s.addEventListener)&&(0,Tn.m)(s.removeEventListener)}(s)?qr.map(w=>L=>s[w](i,L,r)):function mi(s){return(0,Tn.m)(s.addListener)&&(0,Tn.m)(s.removeListener)}(s)?En.map(Ii(s,i)):function Ni(s){return(0,Tn.m)(s.on)&&(0,Tn.m)(s.off)}(s)?zn.map(Ii(s,i)):[];if(!h&&(0,Pr.z)(s))return(0,ir.z)(w=>Ft(w,i,r))((0,bt.Xf)(s));if(!h)throw new TypeError("Invalid event target");return new nn.y(w=>{const L=(...G)=>w.next(1<G.length?G:G[0]);return h(L),()=>v(L)})}function Ii(s,i){return r=>a=>s[r](i,a)}var Vn=k(4128),Yn=k(3900),Ur=k(7272),pr=k(5698),mn=k(5032);function vr(s,i){return i?r=>(0,Ur.z)(i.pipe((0,pr.q)(1),function Os(){return(0,Mr.e)((s,i)=>{s.subscribe((0,rr.x)(i,mn.Z))})}()),r.pipe(vr(s))):(0,ir.z)((r,a)=>s(r,a).pipe((0,pr.q)(1),function Qr(s){return(0,vn.U)(()=>s)}(r)))}var oi=k(3532);var Jr=k(8505),Fi=k(9646),Xs=k(4351);class eo{}class qn{}class Er{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(r=>{const a=r.indexOf(":");if(a>0){const h=r.slice(0,a),v=h.toLowerCase(),w=r.slice(a+1).trim();this.maybeSetNormalizedName(h,v),this.headers.has(v)?this.headers.get(v).push(w):this.headers.set(v,[w])}})}:()=>{this.headers=new Map,Object.keys(i).forEach(r=>{let a=i[r];const h=r.toLowerCase();"string"==typeof a&&(a=[a]),a.length>0&&(this.headers.set(h,a),this.maybeSetNormalizedName(r,h))})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const r=this.headers.get(i.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,r){return this.clone({name:i,value:r,op:"a"})}set(i,r){return this.clone({name:i,value:r,op:"s"})}delete(i,r){return this.clone({name:i,value:r,op:"d"})}maybeSetNormalizedName(i,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,i)}init(){this.lazyInit&&(this.lazyInit instanceof Er?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(r=>{this.headers.set(r,i.headers.get(r)),this.normalizedNames.set(r,i.normalizedNames.get(r))})}clone(i){const r=new Er;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof Er?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([i]),r}applyUpdate(i){const r=i.name.toLowerCase();switch(i.op){case"a":case"s":let a=i.value;if("string"==typeof a&&(a=[a]),0===a.length)return;this.maybeSetNormalizedName(i.name,r);const h=("a"===i.op?this.headers.get(r):void 0)||[];h.push(...a),this.headers.set(r,h);break;case"d":const v=i.value;if(v){let w=this.headers.get(r);if(!w)return;w=w.filter(L=>-1===v.indexOf(L)),0===w.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,w)}else this.headers.delete(r),this.normalizedNames.delete(r)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>i(this.normalizedNames.get(r),this.headers.get(r)))}}class me{encodeKey(i){return it(i)}encodeValue(i){return it(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const Te=/%(\d[a-f0-9])/gi,$e={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function it(s){return encodeURIComponent(s).replace(Te,(i,r)=>{var a;return null!==(a=$e[r])&&void 0!==a?a:i})}function yt(s){return`${s}`}class Nt{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new me,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ge(s,i){const r=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(h=>{const v=h.indexOf("="),[w,L]=-1==v?[i.decodeKey(h),""]:[i.decodeKey(h.slice(0,v)),i.decodeValue(h.slice(v+1))],G=r.get(w)||[];G.push(L),r.set(w,G)}),r}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(r=>{const a=i.fromObject[r];this.map.set(r,Array.isArray(a)?a:[a])})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const r=this.map.get(i);return r?r[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,r){return this.clone({param:i,value:r,op:"a"})}appendAll(i){const r=[];return Object.keys(i).forEach(a=>{const h=i[a];Array.isArray(h)?h.forEach(v=>{r.push({param:a,value:v,op:"a"})}):r.push({param:a,value:h,op:"a"})}),this.clone(r)}set(i,r){return this.clone({param:i,value:r,op:"s"})}delete(i,r){return this.clone({param:i,value:r,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const r=this.encoder.encodeKey(i);return this.map.get(i).map(a=>r+"="+this.encoder.encodeValue(a)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const r=new Nt({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(i),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const r=("a"===i.op?this.map.get(i.param):void 0)||[];r.push(yt(i.value)),this.map.set(i.param,r);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let a=this.map.get(i.param)||[];const h=a.indexOf(yt(i.value));-1!==h&&a.splice(h,1),a.length>0?this.map.set(i.param,a):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class dn{constructor(){this.map=new Map}set(i,r){return this.map.set(i,r),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function us(s){return"undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer}function qi(s){return"undefined"!=typeof Blob&&s instanceof Blob}function ai(s){return"undefined"!=typeof FormData&&s instanceof FormData}class yi{constructor(i,r,a,h){let v;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function Xr(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||h?(this.body=void 0!==a?a:null,v=h):v=a,v&&(this.reportProgress=!!v.reportProgress,this.withCredentials=!!v.withCredentials,v.responseType&&(this.responseType=v.responseType),v.headers&&(this.headers=v.headers),v.context&&(this.context=v.context),v.params&&(this.params=v.params)),this.headers||(this.headers=new Er),this.context||(this.context=new dn),this.params){const w=this.params.toString();if(0===w.length)this.urlWithParams=r;else{const L=r.indexOf("?");this.urlWithParams=r+(-1===L?"?":L<r.length-1?"&":"")+w}}else this.params=new Nt,this.urlWithParams=r}serializeBody(){return null===this.body?null:us(this.body)||qi(this.body)||ai(this.body)||function _i(s){return"undefined"!=typeof URLSearchParams&&s instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Nt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ai(this.body)?null:qi(this.body)?this.body.type||null:us(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Nt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){var r;const a=i.method||this.method,h=i.url||this.url,v=i.responseType||this.responseType,w=void 0!==i.body?i.body:this.body,L=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,G=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let Y=i.headers||this.headers,Se=i.params||this.params;const Oe=null!==(r=i.context)&&void 0!==r?r:this.context;return void 0!==i.setHeaders&&(Y=Object.keys(i.setHeaders).reduce((Ge,ct)=>Ge.set(ct,i.setHeaders[ct]),Y)),i.setParams&&(Se=Object.keys(i.setParams).reduce((Ge,ct)=>Ge.set(ct,i.setParams[ct]),Se)),new yi(a,h,w,{params:Se,headers:Y,context:Oe,reportProgress:G,responseType:v,withCredentials:L})}}var Nn=(()=>((Nn=Nn||{})[Nn.Sent=0]="Sent",Nn[Nn.UploadProgress=1]="UploadProgress",Nn[Nn.ResponseHeader=2]="ResponseHeader",Nn[Nn.DownloadProgress=3]="DownloadProgress",Nn[Nn.Response=4]="Response",Nn[Nn.User=5]="User",Nn))();class vs{constructor(i,r=200,a="OK"){this.headers=i.headers||new Er,this.status=void 0!==i.status?i.status:r,this.statusText=i.statusText||a,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class Es extends vs{constructor(i={}){super(i),this.type=Nn.ResponseHeader}clone(i={}){return new Es({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class er extends vs{constructor(i={}){super(i),this.type=Nn.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new er({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class Li extends vs{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function li(s,i){return{body:i,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials}}let Vi=(()=>{class s{constructor(r){this.handler=r}request(r,a,h={}){let v;if(r instanceof yi)v=r;else{let G,Y;G=h.headers instanceof Er?h.headers:new Er(h.headers),h.params&&(Y=h.params instanceof Nt?h.params:new Nt({fromObject:h.params})),v=new yi(r,a,void 0!==h.body?h.body:null,{headers:G,context:h.context,params:Y,reportProgress:h.reportProgress,responseType:h.responseType||"json",withCredentials:h.withCredentials})}const w=(0,Fi.of)(v).pipe((0,Xs.b)(G=>this.handler.handle(G)));if(r instanceof yi||"events"===h.observe)return w;const L=w.pipe((0,nr.h)(G=>G instanceof er));switch(h.observe||"body"){case"body":switch(v.responseType){case"arraybuffer":return L.pipe((0,vn.U)(G=>{if(null!==G.body&&!(G.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return G.body}));case"blob":return L.pipe((0,vn.U)(G=>{if(null!==G.body&&!(G.body instanceof Blob))throw new Error("Response is not a Blob.");return G.body}));case"text":return L.pipe((0,vn.U)(G=>{if(null!==G.body&&"string"!=typeof G.body)throw new Error("Response is not a string.");return G.body}));default:return L.pipe((0,vn.U)(G=>G.body))}case"response":return L;default:throw new Error(`Unreachable: unhandled observe type ${h.observe}}`)}}delete(r,a={}){return this.request("DELETE",r,a)}get(r,a={}){return this.request("GET",r,a)}head(r,a={}){return this.request("HEAD",r,a)}jsonp(r,a){return this.request("JSONP",r,{params:(new Nt).append(a,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,a={}){return this.request("OPTIONS",r,a)}patch(r,a,h={}){return this.request("PATCH",r,li(h,a))}post(r,a,h={}){return this.request("POST",r,li(h,a))}put(r,a,h={}){return this.request("PUT",r,li(h,a))}}return s.\u0275fac=function(r){return new(r||s)(M.LFG(eo))},s.\u0275prov=M.Yz7({token:s,factory:s.\u0275fac}),s})();class Cs{constructor(i,r){this.next=i,this.interceptor=r}handle(i){return this.interceptor.intercept(i,this.next)}}const Ui=new M.OlP("HTTP_INTERCEPTORS");let Rs=(()=>{class s{intercept(r,a){return a.handle(r)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=M.Yz7({token:s,factory:s.\u0275fac}),s})();const Qi=/^\)\]\}',?\n/;let Ji=(()=>{class s{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new nn.y(a=>{const h=this.xhrFactory.build();if(h.open(r.method,r.urlWithParams),r.withCredentials&&(h.withCredentials=!0),r.headers.forEach((ct,Et)=>h.setRequestHeader(ct,Et.join(","))),r.headers.has("Accept")||h.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const ct=r.detectContentTypeHeader();null!==ct&&h.setRequestHeader("Content-Type",ct)}if(r.responseType){const ct=r.responseType.toLowerCase();h.responseType="json"!==ct?ct:"text"}const v=r.serializeBody();let w=null;const L=()=>{if(null!==w)return w;const ct=h.statusText||"OK",Et=new Er(h.getAllResponseHeaders()),Mn=function bs(s){return"responseURL"in s&&s.responseURL?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):null}(h)||r.url;return w=new Es({headers:Et,status:h.status,statusText:ct,url:Mn}),w},G=()=>{let{headers:ct,status:Et,statusText:Mn,url:bi}=L(),gi=null;204!==Et&&(gi=void 0===h.response?h.responseText:h.response),0===Et&&(Et=gi?200:0);let Js=Et>=200&&Et<300;if("json"===r.responseType&&"string"==typeof gi){const gl=gi;gi=gi.replace(Qi,"");try{gi=""!==gi?JSON.parse(gi):null}catch(wd){gi=gl,Js&&(Js=!1,gi={error:wd,text:gi})}}Js?(a.next(new er({body:gi,headers:ct,status:Et,statusText:Mn,url:bi||void 0})),a.complete()):a.error(new Li({error:gi,headers:ct,status:Et,statusText:Mn,url:bi||void 0}))},Y=ct=>{const{url:Et}=L(),Mn=new Li({error:ct,status:h.status||0,statusText:h.statusText||"Unknown Error",url:Et||void 0});a.error(Mn)};let Se=!1;const Oe=ct=>{Se||(a.next(L()),Se=!0);let Et={type:Nn.DownloadProgress,loaded:ct.loaded};ct.lengthComputable&&(Et.total=ct.total),"text"===r.responseType&&!!h.responseText&&(Et.partialText=h.responseText),a.next(Et)},Ge=ct=>{let Et={type:Nn.UploadProgress,loaded:ct.loaded};ct.lengthComputable&&(Et.total=ct.total),a.next(Et)};return h.addEventListener("load",G),h.addEventListener("error",Y),h.addEventListener("timeout",Y),h.addEventListener("abort",Y),r.reportProgress&&(h.addEventListener("progress",Oe),null!==v&&h.upload&&h.upload.addEventListener("progress",Ge)),h.send(v),a.next({type:Nn.Sent}),()=>{h.removeEventListener("error",Y),h.removeEventListener("abort",Y),h.removeEventListener("load",G),h.removeEventListener("timeout",Y),r.reportProgress&&(h.removeEventListener("progress",Oe),null!==v&&h.upload&&h.upload.removeEventListener("progress",Ge)),h.readyState!==h.DONE&&h.abort()}})}}return s.\u0275fac=function(r){return new(r||s)(M.LFG(f.JF))},s.\u0275prov=M.Yz7({token:s,factory:s.\u0275fac}),s})();const ji=new M.OlP("XSRF_COOKIE_NAME"),Gr=new M.OlP("XSRF_HEADER_NAME");class mo{}let Rn=(()=>{class s{constructor(r,a,h){this.doc=r,this.platform=a,this.cookieName=h,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return s.\u0275fac=function(r){return new(r||s)(M.LFG(f.K0),M.LFG(M.Lbi),M.LFG(ji))},s.\u0275prov=M.Yz7({token:s,factory:s.\u0275fac}),s})(),P=(()=>{class s{constructor(r,a){this.tokenService=r,this.headerName=a}intercept(r,a){const h=r.url.toLowerCase();if("GET"===r.method||"HEAD"===r.method||h.startsWith("http://")||h.startsWith("https://"))return a.handle(r);const v=this.tokenService.getToken();return null!==v&&!r.headers.has(this.headerName)&&(r=r.clone({headers:r.headers.set(this.headerName,v)})),a.handle(r)}}return s.\u0275fac=function(r){return new(r||s)(M.LFG(mo),M.LFG(Gr))},s.\u0275prov=M.Yz7({token:s,factory:s.\u0275fac}),s})(),B=(()=>{class s{constructor(r,a){this.backend=r,this.injector=a,this.chain=null}handle(r){if(null===this.chain){const a=this.injector.get(Ui,[]);this.chain=a.reduceRight((h,v)=>new Cs(h,v),this.backend)}return this.chain.handle(r)}}return s.\u0275fac=function(r){return new(r||s)(M.LFG(qn),M.LFG(M.zs3))},s.\u0275prov=M.Yz7({token:s,factory:s.\u0275fac}),s})(),oe=(()=>{class s{static disable(){return{ngModule:s,providers:[{provide:P,useClass:Rs}]}}static withOptions(r={}){return{ngModule:s,providers:[r.cookieName?{provide:ji,useValue:r.cookieName}:[],r.headerName?{provide:Gr,useValue:r.headerName}:[]]}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=M.oAB({type:s}),s.\u0275inj=M.cJS({providers:[P,{provide:Ui,useExisting:P,multi:!0},{provide:mo,useClass:Rn},{provide:ji,useValue:"XSRF-TOKEN"},{provide:Gr,useValue:"X-XSRF-TOKEN"}]}),s})(),xe=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=M.oAB({type:s}),s.\u0275inj=M.cJS({providers:[Vi,{provide:eo,useClass:B},Ji,{provide:qn,useExisting:Ji}],imports:[[oe.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),s})();const Cn=s=>s?"https://assets.pokemon.com/assets/cms2/img/pokedex/full/":"https://assets.pokemon.com/assets/cms2/img/pokedex/detail/",R=(s,i)=>{const r=s.toString();return r.length<3?((s,i)=>{const r=Cn(i);return s.length<2?`${r}00${s}`:`${r}0${s}`})(r,i):`${Cn(i)}${r}`};let T=(()=>{class s{constructor(r,a){this.http=r,this.store=a}getPokemonList(){return this.http.get(this.store.value.pokemonResults.next).pipe((0,Yn.w)(a=>{const{results:h}=a,v=h.map(w=>this.getPokemonDetail(w.name,!1));return(0,Vn.D)(v).pipe(function Wr(s,i=Ln.z){const r=function ys(s=0,i,r=Ln.P){let a=-1;return null!=i&&((0,oi.K)(i)?r=i:a=i),new nn.y(h=>{let v=function wi(s){return s instanceof Date&&!isNaN(s)}(s)?+s-r.now():s;v<0&&(v=0);let w=0;return r.schedule(function(){h.closed||(h.next(w++),0<=a?this.schedule(void 0,a):h.complete())},v)})}(s,i);return vr(()=>r)}(1500),(0,vn.U)(w=>({count:a.count,next:a.next,results:[...this.store.value.pokemonResults.results,...w],previous:a.previous})))}),(0,Jr.b)(a=>{this.store.set("pokemonResults",a)}))}getPokemonDetail(r,a){return this.http.get(`https://pokeapi.co/api/v2/pokemon/${r}`).pipe((0,vn.U)(h=>Object.assign(Object.assign({},h),{imageUrl:`${R(h.id,a)}.png`})))}getPokemonSpecies(r){return this.http.get(`https://pokeapi.co/api/v2/pokemon-species/${r}`).pipe((0,vn.U)(a=>a))}}return s.\u0275fac=function(r){return new(r||s)(M.LFG(Vi),M.LFG(Xn.y))},s.\u0275prov=M.Yz7({token:s,factory:s.\u0275fac}),s})();function b(s,i){if(1&s&&(M.TgZ(0,"div")(1,"span",7),M._uU(2),M.qZA()()),2&s){const r=i.$implicit,a=M.oxw();M.xp6(1),M.Q6J("className","pill background-color__"+a.getAbilitie(r)),M.xp6(1),M.Oqu(a.getAbilitie(r))}}let j=(()=>{class s{constructor(){this.view=new M.vpe}ngOnInit(){}getAbilitie(r){return r.type?r.type.name:null}goToPokemon(r){this.view.emit(r)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=M.Xpm({type:s,selectors:[["pokemon-card"]],inputs:{detail:"detail"},outputs:{view:"view"},decls:9,vars:3,consts:[[1,"pokemon-card",3,"click"],[1,"pokemon-image"],[3,"src"],[1,"pokemon-info"],[1,"text-xl"],[1,"pokemon-abilities"],[4,"ngFor","ngForOf"],[3,"className"]],template:function(r,a){1&r&&(M.TgZ(0,"div",0),M.NdJ("click",function(){return a.goToPokemon(a.detail)}),M.TgZ(1,"div",1)(2,"figure"),M._UZ(3,"img",2),M.qZA()(),M.TgZ(4,"div",3)(5,"h5",4),M._uU(6),M.qZA()(),M.TgZ(7,"div",5),M.YNc(8,b,3,2,"div",6),M.qZA()()),2&r&&(M.xp6(3),M.Q6J("src",null==a.detail?null:a.detail.imageUrl,M.LSH),M.xp6(3),M.Oqu(null==a.detail?null:a.detail.name),M.xp6(2),M.Q6J("ngForOf",null==a.detail?null:a.detail.types))},directives:[f.sg],styles:["@keyframes swing{15%{transform:translateY(5px)}30%{transform:translateY(-5px)}50%{transform:translateY(3px)}65%{transform:translateY(-3px)}80%{transform:translateY(2px)}to{transform:translateY(0)}}.pokemon-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;transition:all .2s ease}.pokemon-card[_ngcontent-%COMP%]   .pokemon-image[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{background-attachment:fixed;background:#F2F2F2;float:left;display:block;position:relative;border-radius:5px;margin:0}.pokemon-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif;color:#313131;margin-bottom:5px}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{font-family:Flexo-Medium,arial,sans-serif;border-radius:3px;line-height:18px;max-width:110px;margin:0 1.5625% 0 0;width:38.4375%;float:left;text-transform:none;font-size:11px;text-align:center}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill.background-color__fighting[_ngcontent-%COMP%]{background:linear-gradient(180deg,#d56723 50%,#d56723 50%);background-color:#d56723;color:#fff}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill.background-color__flying[_ngcontent-%COMP%]{background:linear-gradient(180deg,#3dc7ef 50%,#bdb9b8 50%);background-color:#3dc7ef;color:#212121}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill.background-color__poison[_ngcontent-%COMP%]{background:linear-gradient(180deg,#b97fc9 50%,#b97fc9 50%);background-color:#b97fc9;color:#fff}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill.background-color__ground[_ngcontent-%COMP%]{background:linear-gradient(180deg,#f7de3f 50%,#f7de3f 50%);background-color:#f7de3f;color:#212121}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill.background-color__rock[_ngcontent-%COMP%]{background:linear-gradient(180deg,#a38c21 50%,#a38c21 50%);background-color:#a38c21;color:#fff}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill.background-color__bug[_ngcontent-%COMP%]{background:linear-gradient(180deg,#729f3f 50%,#729f3f 50%);background-color:#729f3f;color:#fff}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill.background-color__ghost[_ngcontent-%COMP%]{background:linear-gradient(180deg,#7b62a3 50%,#7b62a3 50%);background-color:#7b62a3;color:#fff}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill.background-color__steel[_ngcontent-%COMP%]{background:linear-gradient(180deg,#9eb7b8 50%,#9eb7b8 50%);background-color:#9eb7b8;color:#212121}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill.background-color__fire[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fd7d24 50%,#fd7d24 50%);background-color:#fd7d24;color:#fff}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill.background-color__water[_ngcontent-%COMP%]{background:linear-gradient(180deg,#4592c4 50%,#4592c4 50%);background-color:#4592c4;color:#fff}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill.background-color__grass[_ngcontent-%COMP%]{background:linear-gradient(180deg,#9bcc50 50%,#9bcc50 50%);background-color:#9bcc50;color:#212121}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill.background-color__electric[_ngcontent-%COMP%]{background:linear-gradient(180deg,#eed535 50%,#eed535 50%);background-color:#eed535;color:#212121}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill.background-color__psychic[_ngcontent-%COMP%]{background:linear-gradient(180deg,#f366b9 50%,#f366b9 50%);background-color:#f366b9;color:#fff}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill.background-color__ice[_ngcontent-%COMP%]{background:linear-gradient(180deg,#51c4e7 50%,#51c4e7 50%);background-color:#51c4e7;color:#212121}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill.background-color__dragon[_ngcontent-%COMP%]{background:linear-gradient(180deg,#53a4cf 50%,#f16e57 50%);background-color:#53a4cf;color:#fff}.pokemon-card[_ngcontent-%COMP%]   .pokemon-abilities[_ngcontent-%COMP%]   .pill.background-color__fairy[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fdb9e9 50%,#fdb9e9 50%);background-color:#fdb9e9;color:#212121}.pokemon-card[_ngcontent-%COMP%]:hover{animation:swing 1s ease;animation-iteration-count:1;cursor:pointer}"]}),s})(),Ve=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=M.Xpm({type:s,selectors:[["poke-loader"]],decls:4,vars:0,consts:[[1,"jump-container"],[1,"pokeball"],[1,"pokeball__inner-circle"],[1,"pokeball__line"]],template:function(r,a){1&r&&(M.TgZ(0,"div",0)(1,"div",1),M._UZ(2,"div",2)(3,"div",3),M.qZA()())},styles:["@media screen and (min-width: 50em){.jump-container[_ngcontent-%COMP%]{animation:rotateball 2s 1s infinite alternate}}.pokeball[_ngcontent-%COMP%]{border-radius:50%;border:2px solid #616161;height:2.5em;margin:0 auto 1rem;position:relative;width:2.5em}@media screen and (min-width: 35em){.pokeball[_ngcontent-%COMP%]{border:4px solid #616161;width:3.5em;height:3.5em}}.pokeball__inner-circle[_ngcontent-%COMP%]{background-color:#616161;border-radius:50%;border:2px solid #616161;height:.75em;left:.75em;position:absolute;top:.75em;width:.75em}@media screen and (min-width: 35em){.pokeball__inner-circle[_ngcontent-%COMP%]{width:1.1em;height:1.1em;left:1.05em;top:1.05em}}.pokeball__line[_ngcontent-%COMP%]{border-top:2px solid #616161;position:relative;top:1.1em;width:100%}@media screen and (min-width: 35em){.pokeball__line[_ngcontent-%COMP%]{top:1.6em}}@keyframes rotateball{0%{transform:rotate(0) rotate(360deg)}to{transform:rotate(0) rotate(-360deg)}}"]}),s})();function vt(s,i){if(1&s){const r=M.EpF();M.TgZ(0,"li",6)(1,"a")(2,"pokemon-card",7),M.NdJ("view",function(){const v=M.CHM(r).$implicit;return M.oxw(2).handleView(v)}),M.qZA()()()}if(2&s){const r=i.$implicit;M.xp6(2),M.Q6J("detail",r)}}function Bn(s,i){if(1&s){const r=M.EpF();M.TgZ(0,"button",8),M.NdJ("click",function(){return M.CHM(r),M.oxw(2).loadMorePokemon()}),M._uU(1," Load More Pokemon "),M.qZA()}}function ti(s,i){if(1&s&&(M.TgZ(0,"div",2)(1,"ul",3),M.YNc(2,vt,3,1,"li",4),M.qZA(),M.YNc(3,Bn,2,0,"button",5),M.qZA()),2&s){const r=i.ngIf,a=M.oxw();M.xp6(2),M.Q6J("ngForOf",r.results),M.xp6(1),M.Q6J("ngIf",a.showLoadMore)}}function Ds(s,i){1&s&&M._UZ(0,"poke-loader")}let xs=(()=>{class s{constructor(r,a,h){this.pokedexService=r,this.router=a,this.store=h,this.pageByScroll$=Ft(window,"scroll"),this.showLoadMore=!0,this.showLoader=!1}ngOnInit(){this.pokedexResults$=this.store.select("pokemonResults"),this.pokedexService.getPokemonList().subscribe()}ngAfterViewInit(){this.pageByScroll$.pipe((0,vn.U)(()=>window.scrollY),(0,nr.h)(r=>r>=document.body.clientHeight-window.innerHeight),function ft(s,i=Ln.z){return(0,Mr.e)((r,a)=>{let h=null,v=null,w=null;const L=()=>{if(h){h.unsubscribe(),h=null;const Y=v;v=null,a.next(Y)}};function G(){const Y=w+s,Se=i.now();if(Se<Y)return h=this.schedule(void 0,Y-Se),void a.add(h);L()}r.subscribe((0,rr.x)(a,Y=>{v=Y,w=i.now(),h||(h=i.schedule(G,s),a.add(h))},()=>{L(),a.complete()},void 0,()=>{v=h=null}))})}(200)).subscribe(r=>{this.loadMorePokemon()})}loadMorePokemon(){this.showLoadMore=!1,this.pokedexResults$=this.store.select("pokemonResults"),this.pokedexService.getPokemonList().subscribe()}handleView(r){console.log("event",r),this.router.navigate(["/pokedex",r.name,r.id])}}return s.\u0275fac=function(r){return new(r||s)(M.Y36(T),M.Y36(Gn.F0),M.Y36(Xn.y))},s.\u0275cmp=M.Xpm({type:s,selectors:[["pokedex-list"]],decls:5,vars:4,consts:[["class","flex-1",4,"ngIf","ngIfElse"],["loading",""],[1,"flex-1"],[1,"flex","flex-wrap","justify-center","mx-auto"],["class","pokemon-figure mx-3 mb-12",4,"ngFor","ngForOf"],["class","block mx-auto px-4 py-2 font-semibold text-sm bg-cyan-500 text-white rounded-md shadow-sm",3,"click",4,"ngIf"],[1,"pokemon-figure","mx-3","mb-12"],[3,"detail","view"],[1,"block","mx-auto","px-4","py-2","font-semibold","text-sm","bg-cyan-500","text-white","rounded-md","shadow-sm",3,"click"]],template:function(r,a){if(1&r&&(M.YNc(0,ti,4,2,"div",0),M.ALo(1,"async"),M.YNc(2,Ds,1,0,"ng-template",null,1,M.W1O),M._UZ(4,"router-outlet")),2&r){const h=M.MAs(3);M.Q6J("ngIf",M.lcZ(1,2,a.pokedexResults$))("ngIfElse",h)}},directives:[f.O5,f.sg,j,Ve,Gn.lC],pipes:[f.Ov],encapsulation:2}),s})(),gn=(()=>{class s{transform(r){const h=10*r*.0328084,v=Number(h.toFixed(2));return console.log("fixedHeight",h),`${Math.floor(v)}' ${(s=>Number.isInteger(s)?0:`${s.toString().split(".")[1]}"`)(v)}`}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275pipe=M.Yjl({name:"height",type:s,pure:!0}),s})(),to=(()=>{class s{transform(r,...a){return`${r} lbs`}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275pipe=M.Yjl({name:"weightPipe",type:s,pure:!0}),s})();function br(s,i){if(1&s&&(M.ynx(0),M.TgZ(1,"span",8),M._uU(2),M.qZA(),M.BQk()),2&s){const r=i.$implicit;M.xp6(1),M.Q6J("className",r.class),M.xp6(1),M.hij(" ",r.gender," ")}}function ks(s,i){if(1&s&&(M.TgZ(0,"div",5)(1,"div",6)(2,"p",3),M._uU(3,"Height"),M.qZA(),M.TgZ(4,"p"),M._uU(5),M.ALo(6,"height"),M.qZA()(),M.TgZ(7,"div",6)(8,"p",3),M._uU(9,"Weight"),M.qZA(),M.TgZ(10,"p"),M._uU(11),M.ALo(12,"weightPipe"),M.qZA()(),M.TgZ(13,"div",6)(14,"p",3),M._uU(15,"Gender"),M.qZA(),M.YNc(16,br,3,2,"ng-container",7),M.qZA()()),2&s){const r=i.ngIf,a=M.oxw();M.xp6(5),M.Oqu(M.lcZ(6,3,a.pokemonInfo.height)),M.xp6(6),M.Oqu(M.lcZ(12,5,a.pokemonInfo.weight)),M.xp6(5),M.Q6J("ngForOf",a.buildGender(r.gender_rate,r.has_gender_differences))}}function yo(s,i){if(1&s&&(M.TgZ(0,"div",9),M._uU(1),M.ALo(2,"titlecase"),M._UZ(3,"span"),M.qZA()),2&s){const r=i.$implicit;M.xp6(1),M.hij(" ",M.lcZ(2,1,r.ability.name)," ")}}const ci={female:{gender:"female",class:"material-symbols-outlined"},male:{gender:"male",class:"material-symbols-outlined"},unknown:{gender:"unknown",class:""}};let no=(()=>{class s{constructor(r){this.service=r}ngOnInit(){this.pokemonSpecie$=this.service.getPokemonSpecies(this.pokemonInfo.name)}buildSingleGender(r){return 8===r?[ci.female]:[ci.male]}buildGender(r,a){return a?this.buildSingleGender(r):[ci.female,ci.male]}getGender(r,a){return r>1&&this.buildGender(r,a),[ci.unknown]}}return s.\u0275fac=function(r){return new(r||s)(M.Y36(T))},s.\u0275cmp=M.Xpm({type:s,selectors:[["pokemon-ability-info"]],inputs:{pokemonInfo:"pokemonInfo"},decls:7,vars:4,consts:[[1,"pokemon-abilty-info","flex","flex-1","p-5","rounded-md","self-baseline"],["class","flex-1",4,"ngIf"],[1,"flex-1","mb-2","abilities_list"],[1,"text-white","mb-2"],["class","mb-2 flex",4,"ngFor","ngForOf"],[1,"flex-1"],[1,"mb-2"],[4,"ngFor","ngForOf"],[3,"className"],[1,"mb-2","flex"]],template:function(r,a){1&r&&(M.TgZ(0,"div",0),M.YNc(1,ks,17,7,"div",1),M.ALo(2,"async"),M.TgZ(3,"div",2)(4,"p",3),M._uU(5,"Abilities"),M.qZA(),M.YNc(6,yo,4,3,"div",4),M.qZA()()),2&r&&(M.xp6(1),M.Q6J("ngIf",M.lcZ(2,2,a.pokemonSpecie$)),M.xp6(5),M.Q6J("ngForOf",a.pokemonInfo.abilities))},directives:[f.O5,f.sg],pipes:[f.Ov,gn,to,f.rS],styles:['@import"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0";.pokemon-abilty-info[_ngcontent-%COMP%]{background-color:#30a7d7}.pokemon-abilty-info[_ngcontent-%COMP%]   .abilities_list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{font-family:Flexo-Bold,arial,sans-serif;background:#fff;border-radius:16px;color:#30a7d7;content:"?";font-size:75.5%;height:16px;line-height:140%;margin:.25em 0 0 .75em;position:absolute;text-align:center;width:16px}']}),s})();function ua(s,i){if(1&s&&(M.ynx(0),M.TgZ(1,"span",9),M._uU(2),M.ALo(3,"titlecase"),M.qZA(),M.BQk()),2&s){const r=i.$implicit,a=M.oxw(2);M.xp6(1),M.Q6J("className","w-2/6 py-2 mr-2 rounded-lg pill background-color__"+a.getAbilitie(r)),M.xp6(1),M.Oqu(M.lcZ(3,2,a.getAbilitie(r)))}}function La(s,i){if(1&s&&(M.TgZ(0,"div")(1,"h1"),M._uU(2),M.qZA(),M.TgZ(3,"div",1)(4,"div",2),M._UZ(5,"img",3),M.qZA(),M.TgZ(6,"div",4),M._UZ(7,"pokemon-ability-info",5),M.TgZ(8,"h3",6),M._uU(9,"Type"),M.qZA(),M.TgZ(10,"div",7),M.YNc(11,ua,4,4,"ng-container",8),M.qZA()()()()),2&s){const r=i.ngIf;M.xp6(2),M.Oqu(r.name),M.xp6(3),M.s9C("src",r.imageUrl,M.LSH),M.xp6(2),M.Q6J("pokemonInfo",r),M.xp6(4),M.Q6J("ngForOf",null==r?null:r.types)}}const eu=[{path:"pokedex",children:[{path:"",component:xs,pathMatch:"full"},{path:":name/:id",component:(()=>{class s{constructor(r,a,h){this.route=r,this.router=a,this.service=h}ngOnInit(){this.pokemon$=this.route.paramMap.pipe((0,Yn.w)(r=>{const a=r.get("name");return r.get("id"),this.service.getPokemonDetail(a,!0)}))}gotoPokemon(r){this.router.navigate(["/pokedex",{id:r?r.id:null}])}getAbilitie(r){return r.type?r.type.name:null}}return s.\u0275fac=function(r){return new(r||s)(M.Y36(Gn.gz),M.Y36(Gn.F0),M.Y36(T))},s.\u0275cmp=M.Xpm({type:s,selectors:[["app-pokemon-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"pokedex-pokemon-profile","flex"],[1,"pokedex-pokemon-image","flex-1","m-2.5"],[3,"src"],[1,"flex-1","m-2.5","flex-col"],[3,"pokemonInfo"],[1,"my-2"],[1,"pokemon-type","flex","text-center"],[4,"ngFor","ngForOf"],[3,"className"]],template:function(r,a){1&r&&(M.YNc(0,La,12,4,"div",0),M.ALo(1,"async")),2&r&&M.Q6J("ngIf",M.lcZ(1,1,a.pokemon$))},directives:[f.O5,no,f.sg],pipes:[f.Ov,f.rS],styles:[".pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokedex-pokemon-image[_ngcontent-%COMP%]{background-color:#f2f2f2;border-radius:5px;position:relative}.pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokemon-type[_ngcontent-%COMP%]   .pill.background-color__fighting[_ngcontent-%COMP%]{background:linear-gradient(180deg,#d56723 50%,#d56723 50%);background-color:#d56723;color:#fff}.pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokemon-type[_ngcontent-%COMP%]   .pill.background-color__flying[_ngcontent-%COMP%]{background:linear-gradient(180deg,#3dc7ef 50%,#bdb9b8 50%);background-color:#3dc7ef;color:#212121}.pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokemon-type[_ngcontent-%COMP%]   .pill.background-color__poison[_ngcontent-%COMP%]{background:linear-gradient(180deg,#b97fc9 50%,#b97fc9 50%);background-color:#b97fc9;color:#fff}.pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokemon-type[_ngcontent-%COMP%]   .pill.background-color__ground[_ngcontent-%COMP%]{background:linear-gradient(180deg,#f7de3f 50%,#f7de3f 50%);background-color:#f7de3f;color:#212121}.pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokemon-type[_ngcontent-%COMP%]   .pill.background-color__rock[_ngcontent-%COMP%]{background:linear-gradient(180deg,#a38c21 50%,#a38c21 50%);background-color:#a38c21;color:#fff}.pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokemon-type[_ngcontent-%COMP%]   .pill.background-color__bug[_ngcontent-%COMP%]{background:linear-gradient(180deg,#729f3f 50%,#729f3f 50%);background-color:#729f3f;color:#fff}.pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokemon-type[_ngcontent-%COMP%]   .pill.background-color__ghost[_ngcontent-%COMP%]{background:linear-gradient(180deg,#7b62a3 50%,#7b62a3 50%);background-color:#7b62a3;color:#fff}.pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokemon-type[_ngcontent-%COMP%]   .pill.background-color__steel[_ngcontent-%COMP%]{background:linear-gradient(180deg,#9eb7b8 50%,#9eb7b8 50%);background-color:#9eb7b8;color:#212121}.pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokemon-type[_ngcontent-%COMP%]   .pill.background-color__fire[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fd7d24 50%,#fd7d24 50%);background-color:#fd7d24;color:#fff}.pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokemon-type[_ngcontent-%COMP%]   .pill.background-color__water[_ngcontent-%COMP%]{background:linear-gradient(180deg,#4592c4 50%,#4592c4 50%);background-color:#4592c4;color:#fff}.pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokemon-type[_ngcontent-%COMP%]   .pill.background-color__grass[_ngcontent-%COMP%]{background:linear-gradient(180deg,#9bcc50 50%,#9bcc50 50%);background-color:#9bcc50;color:#212121}.pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokemon-type[_ngcontent-%COMP%]   .pill.background-color__electric[_ngcontent-%COMP%]{background:linear-gradient(180deg,#eed535 50%,#eed535 50%);background-color:#eed535;color:#212121}.pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokemon-type[_ngcontent-%COMP%]   .pill.background-color__psychic[_ngcontent-%COMP%]{background:linear-gradient(180deg,#f366b9 50%,#f366b9 50%);background-color:#f366b9;color:#fff}.pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokemon-type[_ngcontent-%COMP%]   .pill.background-color__ice[_ngcontent-%COMP%]{background:linear-gradient(180deg,#51c4e7 50%,#51c4e7 50%);background-color:#51c4e7;color:#212121}.pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokemon-type[_ngcontent-%COMP%]   .pill.background-color__dragon[_ngcontent-%COMP%]{background:linear-gradient(180deg,#53a4cf 50%,#f16e57 50%);background-color:#53a4cf;color:#fff}.pokedex-pokemon-profile[_ngcontent-%COMP%]   .pokemon-type[_ngcontent-%COMP%]   .pill.background-color__fairy[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fdb9e9 50%,#fdb9e9 50%);background-color:#fdb9e9;color:#212121}"]}),s})()}]}];let Ns=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=M.oAB({type:s}),s.\u0275inj=M.cJS({providers:[T,Xn.y],imports:[[f.ez,xe,Gn.Bz.forChild(eu)]]}),s})();var Br=k(2011),xr=k(1205),xo=k(6451),Fs=k(3099),Mi=k(5026),ca=k(1884),Zo=k(4671),Yo=k(3269),Pi=k(5813),qo=(k(1451),k(3942)),Ls=k(4859),Vs=k(9681),K=k(2090),Qo=k(1877);const Us="@firebase/database";let No="";function Bs(s){No=s}class El{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,r){null==r?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,K.Pz)(r))}get(i){const r=this.domStorage_.getItem(this.prefixedName_(i));return null==r?null:(0,K.cI)(r)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class Fo{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,r){null==r?delete this.cache_[i]:this.cache_[i]=r}get(i){return(0,K.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const di=function(s){try{if("undefined"!=typeof window&&void 0!==window[s]){const i=window[s];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new El(i)}}catch(i){}return new Fo},Hi=di("localStorage"),gr=di("sessionStorage"),Is=new Qo.Yd("@firebase/database"),Cl=function(){let s=1;return function(){return s++}}(),tu=function(s){const i=(0,K.dS)(s),r=new K.gQ;r.update(i);const a=r.digest();return K.US.encodeByteArray(a)},ro=function(...s){let i="";for(let r=0;r<s.length;r++){const a=s[r];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?i+=ro.apply(null,a):i+="object"==typeof a?(0,K.Pz)(a):a,i+=" "}return i};let vo=null,bl=!0;const js=function(s,i){(0,K.hu)(!i||!0===s||!1===s,"Can't turn on custom loggers persistently."),!0===s?(Is.logLevel=Qo.in.VERBOSE,vo=Is.log.bind(Is),i&&gr.set("logging_enabled",!0)):"function"==typeof s?vo=s:(vo=null,gr.remove("logging_enabled"))},Kn=function(...s){if(!0===bl&&(bl=!1,null===vo&&!0===gr.get("logging_enabled")&&js(!0)),vo){const i=ro.apply(null,s);vo(i)}},Xi=function(s){return function(...i){Kn(s,...i)}},bn=function(...s){const i="FIREBASE INTERNAL ERROR: "+ro(...s);Is.error(i)},$i=function(...s){const i=`FIREBASE FATAL ERROR: ${ro(...s)}`;throw Is.error(i),new Error(i)},ni=function(...s){const i="FIREBASE WARNING: "+ro(...s);Is.warn(i)},Oi=function(s){return"number"==typeof s&&(s!=s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},ws="[MIN_NAME]",jr="[MAX_NAME]",es=function(s,i){if(s===i)return 0;if(s===ws||i===jr)return-1;if(i===ws||s===jr)return 1;{const r=ns(s),a=ns(i);return null!==r?null!==a?r-a==0?s.length-i.length:r-a:-1:null!==a?1:s<i?-1:1}},Dl=function(s,i){return s===i?0:s<i?-1:1},Eo=function(s,i){if(i&&s in i)return i[s];throw new Error("Missing required key ("+s+") in object: "+(0,K.Pz)(i))},ha=function(s){if("object"!=typeof s||null===s)return(0,K.Pz)(s);const i=[];for(const a in s)i.push(a);i.sort();let r="{";for(let a=0;a<i.length;a++)0!==a&&(r+=","),r+=(0,K.Pz)(i[a]),r+=":",r+=ha(s[i[a]]);return r+="}",r},Ti=function(s,i){const r=s.length;if(r<=i)return[s];const a=[];for(let h=0;h<r;h+=i)a.push(s.substring(h,h+i>r?r:h+i));return a};function ur(s,i){for(const r in s)s.hasOwnProperty(r)&&i(r,s[r])}const Hs=function(s){(0,K.hu)(!Oi(s),"Invalid JSON number");const a=1023;let h,v,w,L,G;0===s?(v=0,w=0,h=1/s==-1/0?1:0):(h=s<0,(s=Math.abs(s))>=Math.pow(2,1-a)?(L=Math.min(Math.floor(Math.log(s)/Math.LN2),a),v=L+a,w=Math.round(s*Math.pow(2,52-L)-Math.pow(2,52))):(v=0,w=Math.round(s/Math.pow(2,-1074))));const Y=[];for(G=52;G;G-=1)Y.push(w%2?1:0),w=Math.floor(w/2);for(G=11;G;G-=1)Y.push(v%2?1:0),v=Math.floor(v/2);Y.push(h?1:0),Y.reverse();const Se=Y.join("");let Oe="";for(G=0;G<64;G+=8){let Ge=parseInt(Se.substr(G,8),2).toString(16);1===Ge.length&&(Ge="0"+Ge),Oe+=Ge}return Oe.toLowerCase()},Co=new RegExp("^-?(0*)\\d{1,10}$"),Ts=-2147483648,Dr=2147483647,ns=function(s){if(Co.test(s)){const i=Number(s);if(i>=Ts&&i<=Dr)return i}return null},Wi=function(s){try{s()}catch(i){setTimeout(()=>{throw ni("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},Do=function(s,i){const r=setTimeout(s,i);return"object"==typeof r&&r.unref&&r.unref(),r};class Ba{constructor(i,r){this.appName_=i,this.appCheckProvider=r,this.appCheck=null==r?void 0:r.getImmediate({optional:!0}),this.appCheck||null==r||r.get().then(a=>this.appCheck=a)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((r,a)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(r,a):r(null)},0)})}addTokenChangeListener(i){var r;null===(r=this.appCheckProvider)||void 0===r||r.get().then(a=>a.addTokenListener(i))}notifyForInvalidToken(){ni(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Xo{constructor(i,r,a){this.appName_=i,this.firebaseOptions_=r,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(h=>this.auth_=h)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(r=>r&&"auth/token-not-initialized"===r.code?(Kn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,a)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(r,a):r(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(r=>r.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(r=>r.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ni(i)}}let $s=(()=>{class s{constructor(r){this.accessToken=r}getToken(r){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(r){r(this.accessToken)}removeTokenChangeListener(r){}notifyForInvalidToken(){}}return s.OWNER="owner",s})();const y=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,H="websocket",q="long_polling";class ie{constructor(i,r,a,h,v=!1,w="",L=!1){this.secure=r,this.namespace=a,this.webSocketOnly=h,this.nodeAdmin=v,this.persistenceKey=w,this.includeNamespaceInQueryParams=L,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hi.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&Hi.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function mt(s,i,r){let a;if((0,K.hu)("string"==typeof i,"typeof type must == string"),(0,K.hu)("object"==typeof r,"typeof params must == object"),i===H)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else{if(i!==q)throw new Error("Unknown connection type: "+i);a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?"}(function Be(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams})(s)&&(r.ns=s.namespace);const h=[];return ur(r,(v,w)=>{h.push(v+"="+w)}),a+h.join("&")}class qt{constructor(){this.counters_={}}incrementCounter(i,r=1){(0,K.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=r}get(){return(0,K.p$)(this.counters_)}}const wt={},Dn={};function An(s){const i=s.toString();return wt[i]||(wt[i]=new qt),wt[i]}class rs{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,r){this.closeAfterResponse=i,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,r){for(this.pendingResponses[i]=r;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let h=0;h<a.length;++h)a[h]&&Wi(()=>{this.onMessage_(a[h])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class na{constructor(i,r,a,h,v,w,L){this.connId=i,this.repoInfo=r,this.applicationId=a,this.appCheckToken=h,this.authToken=v,this.transportSessionId=w,this.lastSessionId=L,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xi(i),this.stats_=An(r),this.urlFn=G=>(this.appCheckToken&&(G.ac=this.appCheckToken),mt(r,q,G))}open(i,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new rs(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(s){if((0,K.Yr)()||"complete"===document.readyState)s();else{let i=!1;const r=function(){document.body?i||(i=!0,s()):setTimeout(r,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&r()}),window.attachEvent("onload",r))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Uo((...v)=>{const[w,L,G,Y,Se]=v;if(this.incrementIncomingBytes_(v),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===w)this.id=L,this.password=G;else{if("close"!==w)throw new Error("Unrecognized command received: "+w);L?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(L,()=>{this.onClosed_()})):this.onClosed_()}},(...v)=>{const[w,L]=v;this.incrementIncomingBytes_(v),this.myPacketOrderer.handleResponse(w,L)},()=>{this.onClosed_()},this.urlFn);const a={start:"t"};a.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(a.cb=this.scriptTagHolder.uniqueCallbackIdentifier),a.v="5",this.transportSessionId&&(a.s=this.transportSessionId),this.lastSessionId&&(a.ls=this.lastSessionId),this.applicationId&&(a.p=this.applicationId),this.appCheckToken&&(a.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&y.test(location.hostname)&&(a.r="f");const h=this.urlFn(a);this.log_("Connecting via long-poll to "+h),this.scriptTagHolder.addTag(h,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){na.forceAllow_=!0}static forceDisallow(){na.forceDisallow_=!0}static isAvailable(){return!((0,K.Yr)()||!na.forceAllow_&&(na.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const r=(0,K.Pz)(i);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=(0,K.h$)(r),h=Ti(a,1840);for(let v=0;v<h.length;v++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,h.length,h[v]),this.curSegmentNum++}addDisconnectPingFrame(i,r){if((0,K.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const a={dframe:"t"};a.id=i,a.pw=r,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const r=(0,K.Pz)(i).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Uo{constructor(i,r,a,h){if(this.onDisconnect=a,this.urlFn=h,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,K.Yr)())this.commandCB=i,this.onMessageCB=r;else{this.uniqueCallbackIdentifier=Cl(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=r,this.myIFrame=Uo.createIFrame_();let v="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(v='<script>document.domain="'+document.domain+'";<\/script>');const w="<html><body>"+v+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(w),this.myIFrame.doc.close()}catch(L){Kn("frame writing exception"),L.stack&&Kn(L.stack),Kn(L)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||Kn("No IE domain setting required")}catch(r){const a=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,r){for(this.myID=i,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let r=this.urlFn(i),a="",h=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+a.length<=1870;){const w=this.pendingSegs.shift();a=a+"&seg"+h+"="+w.seg+"&ts"+h+"="+w.ts+"&d"+h+"="+w.d,h++}return r+=a,this.addLongPollTag_(r,this.currentSerial),!0}return!1}enqueueSegment(i,r,a){this.pendingSegs.push({seg:i,ts:r,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(i,r){this.outstandingRequests.add(r);const a=()=>{this.outstandingRequests.delete(r),this.newRequest_()},h=setTimeout(a,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(h),a()})}addTag(i,r){(0,K.Yr)()?this.doNodeLongPoll(i,r):setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=i,a.onload=a.onreadystatechange=function(){const h=a.readyState;(!h||"loaded"===h||"complete"===h)&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),r())},a.onerror=()=>{Kn("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch(a){}},Math.floor(1))}}let oo=null;"undefined"!=typeof MozWebSocket?oo=MozWebSocket:"undefined"!=typeof WebSocket&&(oo=WebSocket);let Gs=(()=>{class s{constructor(r,a,h,v,w,L,G){this.connId=r,this.applicationId=h,this.appCheckToken=v,this.authToken=w,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xi(this.connId),this.stats_=An(a),this.connURL=s.connectionURL_(a,L,G,v,h),this.nodeAdmin=a.nodeAdmin}static connectionURL_(r,a,h,v,w){const L={v:"5"};return!(0,K.Yr)()&&"undefined"!=typeof location&&location.hostname&&y.test(location.hostname)&&(L.r="f"),a&&(L.s=a),h&&(L.ls=h),v&&(L.ac=v),w&&(L.p=w),mt(r,H,L)}open(r,a){this.onDisconnect=a,this.onMessage=r,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hi.set("previous_websocket_failure",!0);try{let h;if((0,K.Yr)()){h={headers:{"User-Agent":`Firebase/5/${No}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(h.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(h.headers["X-Firebase-AppCheck"]=this.appCheckToken);const w=process.env,L=0===this.connURL.indexOf("wss://")?w.HTTPS_PROXY||w.https_proxy:w.HTTP_PROXY||w.http_proxy;L&&(h.proxy={origin:L})}this.mySock=new oo(this.connURL,[],h)}catch(h){this.log_("Error instantiating WebSocket.");const v=h.message||h.data;return v&&this.log_(v),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=h=>{this.handleIncomingFrame(h)},this.mySock.onerror=h=>{this.log_("WebSocket error.  Closing connection.");const v=h.message||h.data;v&&this.log_(v),this.onClosed_()}}start(){}static forceDisallow(){s.forceDisallow_=!0}static isAvailable(){let r=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const h=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);h&&h.length>1&&parseFloat(h[1])<4.4&&(r=!0)}return!r&&null!==oo&&!s.forceDisallow_}static previouslyFailed(){return Hi.isInMemoryStorage||!0===Hi.get("previous_websocket_failure")}markConnectionHealthy(){Hi.remove("previous_websocket_failure")}appendFrame_(r){if(this.frames.push(r),this.frames.length===this.totalFrames){const a=this.frames.join("");this.frames=null;const h=(0,K.cI)(a);this.onMessage(h)}}handleNewFrameCount_(r){this.totalFrames=r,this.frames=[]}extractFrameCount_(r){if((0,K.hu)(null===this.frames,"We already have a frame buffer"),r.length<=6){const a=Number(r);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),r}handleIncomingFrame(r){if(null===this.mySock)return;const a=r.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(a);else{const h=this.extractFrameCount_(a);null!==h&&this.appendFrame_(h)}}send(r){this.resetKeepAlive();const a=(0,K.Pz)(r);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const h=Ti(a,16384);h.length>1&&this.sendString_(String(h.length));for(let v=0;v<h.length;v++)this.sendString_(h[v])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(r){try{this.mySock.send(r)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return s.responsesRequiredToBeHealthy=2,s.healthyTimeout=3e4,s})(),Tl=(()=>{class s{constructor(r){this.initTransports_(r)}static get ALL_TRANSPORTS(){return[na,Gs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(r){const a=Gs&&Gs.isAvailable();let h=a&&!Gs.previouslyFailed();if(r.webSocketOnly&&(a||ni("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),h=!0),h)this.transports_=[Gs];else{const v=this.transports_=[];for(const w of s.ALL_TRANSPORTS)w&&w.isAvailable()&&v.push(w);s.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return s.globalTransportInitialized_=!1,s})();class ao{constructor(i,r,a,h,v,w,L,G,Y,Se){this.id=i,this.repoInfo_=r,this.applicationId_=a,this.appCheckToken_=h,this.authToken_=v,this.onMessage_=w,this.onReady_=L,this.onDisconnect_=G,this.onKill_=Y,this.lastSessionId=Se,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xi("c:"+this.id+":"),this.transportManager_=new Tl(r),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,a)},Math.floor(0));const h=i.healthyTimeout||0;h>0&&(this.healthyTimeout_=Do(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(h)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return r=>{i===this.conn_?this.onConnectionLost_(r):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return r=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(r):i===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const r=i.t;"a"===r?this.upgradeIfSecondaryHealthy_():"r"===r?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===r&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const r=Eo("t",i),a=Eo("d",i);if("c"===r)this.onSecondaryControl_(a);else{if("d"!==r)throw new Error("Unknown protocol layer: "+r);this.pendingDataMessages.push(a)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const r=Eo("t",i),a=Eo("d",i);"c"===r?this.onControl_(a):"d"===r&&this.onDataMessage_(a)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const r=Eo("t",i);if("d"in i){const a=i.d;if("h"===r)this.onHandshake_(a);else if("n"===r){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let h=0;h<this.pendingDataMessages.length;++h)this.onDataMessage_(this.pendingDataMessages[h]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===r?this.onConnectionShutdown_(a):"r"===r?this.onReset_(a):"e"===r?bn("Server Error: "+a):"o"===r?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bn("Unknown control packet command: "+r)}}onHandshake_(i){const r=i.ts,a=i.v,h=i.h;this.sessionId=i.s,this.repoInfo_.host=h,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),"5"!==a&&ni("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,a),Do(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,r){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Do(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ml{put(i,r,a,h){}merge(i,r,a,h){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,r,a){}onDisconnectMerge(i,r,a){}onDisconnectCancel(i,r){}reportStats(i){}}class Bo{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,K.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...r){if(Array.isArray(this.listeners_[i])){const a=[...this.listeners_[i]];for(let h=0;h<a.length;h++)a[h].callback.apply(a[h].context,r)}}on(i,r,a){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:r,context:a});const h=this.getInitialEvent(i);h&&r.apply(a,h)}off(i,r,a){this.validateEventType_(i);const h=this.listeners_[i]||[];for(let v=0;v<h.length;v++)if(h[v].callback===r&&(!a||a===h[v].context))return void h.splice(v,1)}validateEventType_(i){(0,K.hu)(this.allowedEvents_.find(r=>r===i),"Unknown event: "+i)}}class Pl extends Bo{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,K.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Pl}getInitialEvent(i){return(0,K.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class kn{constructor(i,r){if(void 0===r){this.pieces_=i.split("/");let a=0;for(let h=0;h<this.pieces_.length;h++)this.pieces_[h].length>0&&(this.pieces_[a]=this.pieces_[h],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=r}toString(){let i="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)""!==this.pieces_[r]&&(i+="/"+this.pieces_[r]);return i||"/"}}function Sn(){return new kn("")}function Jt(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function xi(s){return s.pieces_.length-s.pieceNum_}function jn(s){let i=s.pieceNum_;return i<s.pieces_.length&&i++,new kn(s.pieces_,i)}function ru(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function lo(s,i=0){return s.pieces_.slice(s.pieceNum_+i)}function os(s){if(s.pieceNum_>=s.pieces_.length)return null;const i=[];for(let r=s.pieceNum_;r<s.pieces_.length-1;r++)i.push(s.pieces_[r]);return new kn(i,0)}function Ir(s,i){const r=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)r.push(s.pieces_[a]);if(i instanceof kn)for(let a=i.pieceNum_;a<i.pieces_.length;a++)r.push(i.pieces_[a]);else{const a=i.split("/");for(let h=0;h<a.length;h++)a[h].length>0&&r.push(a[h])}return new kn(r,0)}function hn(s){return s.pieceNum_>=s.pieces_.length}function vi(s,i){const r=Jt(s),a=Jt(i);if(null===r)return i;if(r===a)return vi(jn(s),jn(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+s+")")}function Rl(s,i){const r=lo(s,0),a=lo(i,0);for(let h=0;h<r.length&&h<a.length;h++){const v=es(r[h],a[h]);if(0!==v)return v}return r.length===a.length?0:r.length<a.length?-1:1}function xl(s,i){if(xi(s)!==xi(i))return!1;for(let r=s.pieceNum_,a=i.pieceNum_;r<=s.pieces_.length;r++,a++)if(s.pieces_[r]!==i.pieces_[a])return!1;return!0}function ki(s,i){let r=s.pieceNum_,a=i.pieceNum_;if(xi(s)>xi(i))return!1;for(;r<s.pieces_.length;){if(s.pieces_[r]!==i.pieces_[a])return!1;++r,++a}return!0}class I{constructor(i,r){this.errorPrefix_=r,this.parts_=lo(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=(0,K.ug)(this.parts_[a]);J(this)}}function J(s){if(s.byteLength_>768)throw new Error(s.errorPrefix_+"has a key path longer than 768 bytes ("+s.byteLength_+").");if(s.parts_.length>32)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ve(s))}function ve(s){return 0===s.parts_.length?"":"in property '"+s.parts_.join(".")+"'"}class Pe extends Bo{constructor(){let i,r;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(r="visibilitychange",i="hidden"):void 0!==document.mozHidden?(r="mozvisibilitychange",i="mozHidden"):void 0!==document.msHidden?(r="msvisibilitychange",i="msHidden"):void 0!==document.webkitHidden&&(r="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const a=!document[i];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}static getInstance(){return new Pe}getInitialEvent(i){return(0,K.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const Ke=1e3;let fs,wr=(()=>{class s extends Ml{constructor(r,a,h,v,w,L,G,Y){if(super(),this.repoInfo_=r,this.applicationId_=a,this.onDataUpdate_=h,this.onConnectStatus_=v,this.onServerInfoUpdate_=w,this.authTokenProvider_=L,this.appCheckTokenProvider_=G,this.authOverride_=Y,this.id=s.nextPersistentConnectionId_++,this.log_=Xi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ke,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Y&&!(0,K.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Pe.getInstance().on("visible",this.onVisible_,this),-1===r.host.indexOf("fblocal")&&Pl.getInstance().on("online",this.onOnline_,this)}sendRequest(r,a,h){const v=++this.requestNumber_,w={r:v,a:r,b:a};this.log_((0,K.Pz)(w)),(0,K.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(w),h&&(this.requestCBHash_[v]=h)}get(r){this.initConnection_();const a=new K.BH,h={p:r._path.toString(),q:r._queryObject};return this.outstandingGets_.push({action:"g",request:h,onComplete:L=>{const G=L.d;"ok"===L.s?a.resolve(G):a.reject(G)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),a.promise}listen(r,a,h,v){this.initConnection_();const w=r._queryIdentifier,L=r._path.toString();this.log_("Listen called for "+L+" "+w),this.listens.has(L)||this.listens.set(L,new Map),(0,K.hu)(r._queryParams.isDefault()||!r._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,K.hu)(!this.listens.get(L).has(w),"listen() called twice for same path/queryId.");const G={onComplete:v,hashFn:a,query:r,tag:h};this.listens.get(L).set(w,G),this.connected_&&this.sendListen_(G)}sendGet_(r){const a=this.outstandingGets_[r];this.sendRequest("g",a.request,h=>{delete this.outstandingGets_[r],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),a.onComplete&&a.onComplete(h)})}sendListen_(r){const a=r.query,h=a._path.toString(),v=a._queryIdentifier;this.log_("Listen on "+h+" for "+v);const w={p:h};r.tag&&(w.q=a._queryObject,w.t=r.tag),w.h=r.hashFn(),this.sendRequest("q",w,G=>{const Y=G.d,Se=G.s;s.warnOnListenWarnings_(Y,a),(this.listens.get(h)&&this.listens.get(h).get(v))===r&&(this.log_("listen response",G),"ok"!==Se&&this.removeListen_(h,v),r.onComplete&&r.onComplete(Se,Y))})}static warnOnListenWarnings_(r,a){if(r&&"object"==typeof r&&(0,K.r3)(r,"w")){const h=(0,K.DV)(r,"w");if(Array.isArray(h)&&~h.indexOf("no_index")){const v='".indexOn": "'+a._queryParams.getIndex().toString()+'"',w=a._path.toString();ni(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${v} at ${w} to your security rules for better performance.`)}}}refreshAuthToken(r){this.authToken_=r,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(r)}reduceReconnectDelayIfAdminCredential_(r){(r&&40===r.length||(0,K.GJ)(r))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(r){this.appCheckToken_=r,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const r=this.authToken_,a=(0,K.w9)(r)?"auth":"gauth",h={cred:r};null===this.authOverride_?h.noauth=!0:"object"==typeof this.authOverride_&&(h.authvar=this.authOverride_),this.sendRequest(a,h,v=>{const w=v.s,L=v.d||"error";this.authToken_===r&&("ok"===w?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(w,L))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},r=>{const a=r.s,h=r.d||"error";"ok"===a?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(a,h)})}unlisten(r,a){const h=r._path.toString(),v=r._queryIdentifier;this.log_("Unlisten called for "+h+" "+v),(0,K.hu)(r._queryParams.isDefault()||!r._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(h,v)&&this.connected_&&this.sendUnlisten_(h,v,r._queryObject,a)}sendUnlisten_(r,a,h,v){this.log_("Unlisten on "+r+" for "+a);const w={p:r};v&&(w.q=h,w.t=v),this.sendRequest("n",w)}onDisconnectPut(r,a,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",r,a,h):this.onDisconnectRequestQueue_.push({pathString:r,action:"o",data:a,onComplete:h})}onDisconnectMerge(r,a,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",r,a,h):this.onDisconnectRequestQueue_.push({pathString:r,action:"om",data:a,onComplete:h})}onDisconnectCancel(r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",r,null,a):this.onDisconnectRequestQueue_.push({pathString:r,action:"oc",data:null,onComplete:a})}sendOnDisconnect_(r,a,h,v){const w={p:a,d:h};this.log_("onDisconnect "+r,w),this.sendRequest(r,w,L=>{v&&setTimeout(()=>{v(L.s,L.d)},Math.floor(0))})}put(r,a,h,v){this.putInternal("p",r,a,h,v)}merge(r,a,h,v){this.putInternal("m",r,a,h,v)}putInternal(r,a,h,v,w){this.initConnection_();const L={p:a,d:h};void 0!==w&&(L.h=w),this.outstandingPuts_.push({action:r,request:L,onComplete:v}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+a)}sendPut_(r){const a=this.outstandingPuts_[r].action,h=this.outstandingPuts_[r].request,v=this.outstandingPuts_[r].onComplete;this.outstandingPuts_[r].queued=this.connected_,this.sendRequest(a,h,w=>{this.log_(a+" response",w),delete this.outstandingPuts_[r],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),v&&v(w.s,w.d)})}reportStats(r){if(this.connected_){const a={c:r};this.log_("reportStats",a),this.sendRequest("s",a,h=>{"ok"!==h.s&&this.log_("reportStats","Error sending stats: "+h.d)})}}onDataMessage_(r){if("r"in r){this.log_("from server: "+(0,K.Pz)(r));const a=r.r,h=this.requestCBHash_[a];h&&(delete this.requestCBHash_[a],h(r.b))}else{if("error"in r)throw"A server-side error has occurred: "+r.error;"a"in r&&this.onDataPush_(r.a,r.b)}}onDataPush_(r,a){this.log_("handleServerMessage",r,a),"d"===r?this.onDataUpdate_(a.p,a.d,!1,a.t):"m"===r?this.onDataUpdate_(a.p,a.d,!0,a.t):"c"===r?this.onListenRevoked_(a.p,a.q):"ac"===r?this.onAuthRevoked_(a.s,a.d):"apc"===r?this.onAppCheckRevoked_(a.s,a.d):"sd"===r?this.onSecurityDebugPacket_(a):bn("Unrecognized action received from server: "+(0,K.Pz)(r)+"\nAre you using the latest client?")}onReady_(r,a){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(r),this.lastSessionId=a,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(r){(0,K.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(r))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(r){r&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ke,this.realtime_||this.scheduleConnect_(0)),this.visible_=r}onOnline_(r){r?(this.log_("Browser went online."),this.reconnectDelay_=Ke,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ke),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const r=(new Date).getTime()-this.lastConnectionAttemptTime_;let a=Math.max(0,this.reconnectDelay_-r);a=Math.random()*a,this.log_("Trying to reconnect in "+a+"ms"),this.scheduleConnect_(a),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var r=this;return(0,xn.Z)(function*(){if(r.shouldReconnect_()){r.log_("Making a connection attempt"),r.lastConnectionAttemptTime_=(new Date).getTime(),r.lastConnectionEstablishedTime_=null;const a=r.onDataMessage_.bind(r),h=r.onReady_.bind(r),v=r.onRealtimeDisconnect_.bind(r),w=r.id+":"+s.nextConnectionId_++,L=r.lastSessionId;let G=!1,Y=null;const Se=function(){Y?Y.close():(G=!0,v())};r.realtime_={close:Se,sendRequest:function(ct){(0,K.hu)(Y,"sendRequest call when we're not connected not allowed."),Y.sendRequest(ct)}};const Ge=r.forceTokenRefresh_;r.forceTokenRefresh_=!1;try{const[ct,Et]=yield Promise.all([r.authTokenProvider_.getToken(Ge),r.appCheckTokenProvider_.getToken(Ge)]);G?Kn("getToken() completed but was canceled"):(Kn("getToken() completed. Creating connection."),r.authToken_=ct&&ct.accessToken,r.appCheckToken_=Et&&Et.token,Y=new ao(w,r.repoInfo_,r.applicationId_,r.appCheckToken_,r.authToken_,a,h,v,Mn=>{ni(Mn+" ("+r.repoInfo_.toString()+")"),r.interrupt("server_kill")},L))}catch(ct){r.log_("Failed to get token: "+ct),G||(r.repoInfo_.nodeAdmin&&ni(ct),Se())}}})()}interrupt(r){Kn("Interrupting connection for reason: "+r),this.interruptReasons_[r]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(r){Kn("Resuming connection for reason: "+r),delete this.interruptReasons_[r],(0,K.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ke,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(r){const a=r-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:a})}cancelSentTransactions_(){for(let r=0;r<this.outstandingPuts_.length;r++){const a=this.outstandingPuts_[r];a&&"h"in a.request&&a.queued&&(a.onComplete&&a.onComplete("disconnect"),delete this.outstandingPuts_[r],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(r,a){let h;h=a?a.map(w=>ha(w)).join("$"):"default";const v=this.removeListen_(r,h);v&&v.onComplete&&v.onComplete("permission_denied")}removeListen_(r,a){const h=new kn(r).toString();let v;if(this.listens.has(h)){const w=this.listens.get(h);v=w.get(a),w.delete(a),0===w.size&&this.listens.delete(h)}else v=void 0;return v}onAuthRevoked_(r,a){Kn("Auth token revoked: "+r+"/"+a),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===r||"permission_denied"===r)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(r,a){Kn("App check token revoked: "+r+"/"+a),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===r||"permission_denied"===r)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(r){this.securityDebugCallback_?this.securityDebugCallback_(r):"msg"in r&&console.log("FIREBASE: "+r.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const r of this.listens.values())for(const a of r.values())this.sendListen_(a);for(let r=0;r<this.outstandingPuts_.length;r++)this.outstandingPuts_[r]&&this.sendPut_(r);for(;this.onDisconnectRequestQueue_.length;){const r=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(r.action,r.pathString,r.data,r.onComplete)}for(let r=0;r<this.outstandingGets_.length;r++)this.outstandingGets_[r]&&this.sendGet_(r)}sendConnectStats_(){const r={};let a="js";(0,K.Yr)()&&(a=this.repoInfo_.nodeAdmin?"admin_node":"node"),r["sdk."+a+"."+No.replace(/\./g,"-")]=1,(0,K.uI)()?r["framework.cordova"]=1:(0,K.b$)()&&(r["framework.reactnative"]=1),this.reportStats(r)}shouldReconnect_(){const r=Pl.getInstance().currentlyOnline();return(0,K.xb)(this.interruptReasons_)&&r}}return s.nextPersistentConnectionId_=0,s.nextConnectionId_=0,s})();class on{constructor(i,r){this.name=i,this.node=r}static Wrap(i,r){return new on(i,r)}}class zs{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,r){const a=new on(ws,i),h=new on(ws,r);return 0!==this.compare(a,h)}minPost(){return on.MIN}}class ga extends zs{static get __EMPTY_NODE(){return fs}static set __EMPTY_NODE(i){fs=i}compare(i,r){return es(i.name,r.name)}isDefinedOn(i){throw(0,K.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,r){return!1}minPost(){return on.MIN}maxPost(){return new on(jr,fs)}makePost(i,r){return(0,K.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new on(i,fs)}toString(){return".key"}}const Zi=new ga;class Ks{constructor(i,r,a,h,v=null){this.isReverse_=h,this.resultGenerator_=v,this.nodeStack_=[];let w=1;for(;!i.isEmpty();)if(i=i,w=r?a(i.key,r):1,h&&(w*=-1),w<0)i=this.isReverse_?i.left:i.right;else{if(0===w){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let r,i=this.nodeStack_.pop();if(r=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let iu,Ei=(()=>{class s{constructor(r,a,h,v,w){this.key=r,this.value=a,this.color=null!=h?h:s.RED,this.left=null!=v?v:ri.EMPTY_NODE,this.right=null!=w?w:ri.EMPTY_NODE}copy(r,a,h,v,w){return new s(null!=r?r:this.key,null!=a?a:this.value,null!=h?h:this.color,null!=v?v:this.left,null!=w?w:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||!!r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,a,h){let v=this;const w=h(r,v.key);return v=w<0?v.copy(null,null,null,v.left.insert(r,a,h),null):0===w?v.copy(null,a,null,null,null):v.copy(null,null,null,null,v.right.insert(r,a,h)),v.fixUp_()}removeMin_(){if(this.left.isEmpty())return ri.EMPTY_NODE;let r=this;return!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.removeMin_(),null),r.fixUp_()}remove(r,a){let h,v;if(h=this,a(r,h.key)<0)!h.left.isEmpty()&&!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.remove(r,a),null);else{if(h.left.isRed_()&&(h=h.rotateRight_()),!h.right.isEmpty()&&!h.right.isRed_()&&!h.right.left.isRed_()&&(h=h.moveRedRight_()),0===a(r,h.key)){if(h.right.isEmpty())return ri.EMPTY_NODE;v=h.right.min_(),h=h.copy(v.key,v.value,null,null,h.right.removeMin_())}h=h.copy(null,null,null,null,h.right.remove(r,a))}return h.fixUp_()}isRed_(){return this.color}fixUp_(){let r=this;return r.right.isRed_()&&!r.left.isRed_()&&(r=r.rotateLeft_()),r.left.isRed_()&&r.left.left.isRed_()&&(r=r.rotateRight_()),r.left.isRed_()&&r.right.isRed_()&&(r=r.colorFlip_()),r}moveRedLeft_(){let r=this.colorFlip_();return r.right.left.isRed_()&&(r=r.copy(null,null,null,null,r.right.rotateRight_()),r=r.rotateLeft_(),r=r.colorFlip_()),r}moveRedRight_(){let r=this.colorFlip_();return r.left.left.isRed_()&&(r=r.rotateRight_(),r=r.colorFlip_()),r}rotateLeft_(){const r=this.copy(null,null,s.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight_(){const r=this.copy(null,null,s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip_(){const r=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,a)}checkMaxDepth_(){const r=this.check_();return Math.pow(2,r)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const r=this.left.check_();if(r!==this.right.check_())throw new Error("Black depths differ");return r+(this.isRed_()?0:1)}}return s.RED=!0,s.BLACK=!1,s})();class ri{constructor(i,r=ri.EMPTY_NODE){this.comparator_=i,this.root_=r}insert(i,r){return new ri(this.comparator_,this.root_.insert(i,r,this.comparator_).copy(null,null,Ei.BLACK,null,null))}remove(i){return new ri(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,Ei.BLACK,null,null))}get(i){let r,a=this.root_;for(;!a.isEmpty();){if(r=this.comparator_(i,a.key),0===r)return a.value;r<0?a=a.left:r>0&&(a=a.right)}return null}getPredecessorKey(i){let r,a=this.root_,h=null;for(;!a.isEmpty();){if(r=this.comparator_(i,a.key),0===r){if(a.left.isEmpty())return h?h.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}r<0?a=a.left:r>0&&(h=a,a=a.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new Ks(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,r){return new Ks(this.root_,i,this.comparator_,!1,r)}getReverseIteratorFrom(i,r){return new Ks(this.root_,i,this.comparator_,!0,r)}getReverseIterator(i){return new Ks(this.root_,null,this.comparator_,!0,i)}}function xu(s,i){return es(s.name,i.name)}function Ac(s,i){return es(s,i)}ri.EMPTY_NODE=new class Ss{copy(i,r,a,h,v){return this}insert(i,r,a){return new Ei(i,r,null)}remove(i,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Fd=function(s){return"number"==typeof s?"number:"+Hs(s):"string:"+s},kl=function(s){if(s.isLeafNode()){const i=s.val();(0,K.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,K.r3)(i,".sv"),"Priority must be a string or number.")}else(0,K.hu)(s===iu||s.isEmpty(),"priority of unexpected type.");(0,K.hu)(s===iu||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Mc,Nl,su,Ha=(()=>{class s{constructor(r,a=s.__childrenNodeConstructor.EMPTY_NODE){this.value_=r,this.priorityNode_=a,this.lazyHash_=null,(0,K.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),kl(this.priorityNode_)}static set __childrenNodeConstructor(r){Mc=r}static get __childrenNodeConstructor(){return Mc}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(r){return new s(this.value_,r)}getImmediateChild(r){return".priority"===r?this.priorityNode_:s.__childrenNodeConstructor.EMPTY_NODE}getChild(r){return hn(r)?this:".priority"===Jt(r)?this.priorityNode_:s.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(r,a){return null}updateImmediateChild(r,a){return".priority"===r?this.updatePriority(a):a.isEmpty()&&".priority"!==r?this:s.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(r,a).updatePriority(this.priorityNode_)}updateChild(r,a){const h=Jt(r);return null===h?a:a.isEmpty()&&".priority"!==h?this:((0,K.hu)(".priority"!==h||1===xi(r),".priority must be the last token in a path"),this.updateImmediateChild(h,s.__childrenNodeConstructor.EMPTY_NODE.updateChild(jn(r),a)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(r,a){return!1}val(r){return r&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let r="";this.priorityNode_.isEmpty()||(r+="priority:"+Fd(this.priorityNode_.val())+":");const a=typeof this.value_;r+=a+":",r+="number"===a?Hs(this.value_):this.value_,this.lazyHash_=tu(r)}return this.lazyHash_}getValue(){return this.value_}compareTo(r){return r===s.__childrenNodeConstructor.EMPTY_NODE?1:r instanceof s.__childrenNodeConstructor?-1:((0,K.hu)(r.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(r))}compareToLeafNode_(r){const a=typeof r.value_,h=typeof this.value_,v=s.VALUE_TYPE_ORDER.indexOf(a),w=s.VALUE_TYPE_ORDER.indexOf(h);return(0,K.hu)(v>=0,"Unknown leaf type: "+a),(0,K.hu)(w>=0,"Unknown leaf type: "+h),v===w?"object"===h?0:this.value_<r.value_?-1:this.value_===r.value_?0:1:w-v}withIndex(){return this}isIndexed(){return!0}equals(r){if(r===this)return!0;if(r.isLeafNode()){const a=r;return this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}return!1}}return s.VALUE_TYPE_ORDER=["object","boolean","number","string"],s})();const Tr=new class Vd extends zs{compare(i,r){const a=i.node.getPriority(),h=r.node.getPriority(),v=a.compareTo(h);return 0===v?es(i.name,r.name):v}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,r){return!i.getPriority().equals(r.getPriority())}minPost(){return on.MIN}maxPost(){return new on(jr,new Ha("[PRIORITY-POST]",su))}makePost(i,r){const a=Nl(i);return new on(r,new Ha("[PRIORITY-POST]",a))}toString(){return".priority"}},Wa=Math.log(2);class ku{constructor(i){this.count=parseInt(Math.log(i+1)/Wa,10),this.current_=this.count-1;const h=(v=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&h}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const Fl=function(s,i,r,a){s.sort(i);const h=function(G,Y){const Se=Y-G;let Oe,Ge;if(0===Se)return null;if(1===Se)return Oe=s[G],Ge=r?r(Oe):Oe,new Ei(Ge,Oe.node,Ei.BLACK,null,null);{const ct=parseInt(Se/2,10)+G,Et=h(G,ct),Mn=h(ct+1,Y);return Oe=s[ct],Ge=r?r(Oe):Oe,new Ei(Ge,Oe.node,Ei.BLACK,Et,Mn)}},L=function(G){let Y=null,Se=null,Oe=s.length;const Ge=function(Et,Mn){const bi=Oe-Et,gi=Oe;Oe-=Et;const Js=h(bi+1,gi),gl=s[bi],wd=r?r(gl):gl;ct(new Ei(wd,gl.node,Mn,null,Js))},ct=function(Et){Y?(Y.left=Et,Y=Et):(Se=Et,Y=Et)};for(let Et=0;Et<G.count;++Et){const Mn=G.nextBitIsOne(),bi=Math.pow(2,G.count-(Et+1));Mn?Ge(bi,Ei.BLACK):(Ge(bi,Ei.BLACK),Ge(bi,Ei.RED))}return Se}(new ku(s.length));return new ri(a||i,L)};let ou;const ma={};class Ao{constructor(i,r){this.indexes_=i,this.indexSet_=r}static get Default(){return(0,K.hu)(ma&&Tr,"ChildrenNode.ts has not been loaded"),ou=ou||new Ao({".priority":ma},{".priority":Tr}),ou}get(i){const r=(0,K.DV)(this.indexes_,i);if(!r)throw new Error("No index defined for "+i);return r instanceof ri?r:null}hasIndex(i){return(0,K.r3)(this.indexSet_,i.toString())}addIndex(i,r){(0,K.hu)(i!==Zi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let h=!1;const v=r.getIterator(on.Wrap);let L,w=v.getNext();for(;w;)h=h||i.isDefinedOn(w.node),a.push(w),w=v.getNext();L=h?Fl(a,i.getCompare()):ma;const G=i.toString(),Y=Object.assign({},this.indexSet_);Y[G]=i;const Se=Object.assign({},this.indexes_);return Se[G]=L,new Ao(Se,Y)}addToIndexes(i,r){const a=(0,K.UI)(this.indexes_,(h,v)=>{const w=(0,K.DV)(this.indexSet_,v);if((0,K.hu)(w,"Missing index implementation for "+v),h===ma){if(w.isDefinedOn(i.node)){const L=[],G=r.getIterator(on.Wrap);let Y=G.getNext();for(;Y;)Y.name!==i.name&&L.push(Y),Y=G.getNext();return L.push(i),Fl(L,w.getCompare())}return ma}{const L=r.get(i.name);let G=h;return L&&(G=G.remove(new on(i.name,L))),G.insert(i,i.node)}});return new Ao(a,this.indexSet_)}removeFromIndexes(i,r){const a=(0,K.UI)(this.indexes_,h=>{if(h===ma)return h;{const v=r.get(i.name);return v?h.remove(new on(i.name,v)):h}});return new Ao(a,this.indexSet_)}}let Ga,un=(()=>{class s{constructor(r,a,h){this.children_=r,this.priorityNode_=a,this.indexMap_=h,this.lazyHash_=null,this.priorityNode_&&kl(this.priorityNode_),this.children_.isEmpty()&&(0,K.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ga||(Ga=new s(new ri(Ac),null,Ao.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ga}updatePriority(r){return this.children_.isEmpty()?this:new s(this.children_,r,this.indexMap_)}getImmediateChild(r){if(".priority"===r)return this.getPriority();{const a=this.children_.get(r);return null===a?Ga:a}}getChild(r){const a=Jt(r);return null===a?this:this.getImmediateChild(a).getChild(jn(r))}hasChild(r){return null!==this.children_.get(r)}updateImmediateChild(r,a){if((0,K.hu)(a,"We should always be passing snapshot nodes"),".priority"===r)return this.updatePriority(a);{const h=new on(r,a);let v,w;a.isEmpty()?(v=this.children_.remove(r),w=this.indexMap_.removeFromIndexes(h,this.children_)):(v=this.children_.insert(r,a),w=this.indexMap_.addToIndexes(h,this.children_));const L=v.isEmpty()?Ga:this.priorityNode_;return new s(v,L,w)}}updateChild(r,a){const h=Jt(r);if(null===h)return a;{(0,K.hu)(".priority"!==Jt(r)||1===xi(r),".priority must be the last token in a path");const v=this.getImmediateChild(h).updateChild(jn(r),a);return this.updateImmediateChild(h,v)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(r){if(this.isEmpty())return null;const a={};let h=0,v=0,w=!0;if(this.forEachChild(Tr,(L,G)=>{a[L]=G.val(r),h++,w&&s.INTEGER_REGEXP_.test(L)?v=Math.max(v,Number(L)):w=!1}),!r&&w&&v<2*h){const L=[];for(const G in a)L[G]=a[G];return L}return r&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a}hash(){if(null===this.lazyHash_){let r="";this.getPriority().isEmpty()||(r+="priority:"+Fd(this.getPriority().val())+":"),this.forEachChild(Tr,(a,h)=>{const v=h.hash();""!==v&&(r+=":"+a+":"+v)}),this.lazyHash_=""===r?"":tu(r)}return this.lazyHash_}getPredecessorChildName(r,a,h){const v=this.resolveIndex_(h);if(v){const w=v.getPredecessorKey(new on(r,a));return w?w.name:null}return this.children_.getPredecessorKey(r)}getFirstChildName(r){const a=this.resolveIndex_(r);if(a){const h=a.minKey();return h&&h.name}return this.children_.minKey()}getFirstChild(r){const a=this.getFirstChildName(r);return a?new on(a,this.children_.get(a)):null}getLastChildName(r){const a=this.resolveIndex_(r);if(a){const h=a.maxKey();return h&&h.name}return this.children_.maxKey()}getLastChild(r){const a=this.getLastChildName(r);return a?new on(a,this.children_.get(a)):null}forEachChild(r,a){const h=this.resolveIndex_(r);return h?h.inorderTraversal(v=>a(v.name,v.node)):this.children_.inorderTraversal(a)}getIterator(r){return this.getIteratorFrom(r.minPost(),r)}getIteratorFrom(r,a){const h=this.resolveIndex_(a);if(h)return h.getIteratorFrom(r,v=>v);{const v=this.children_.getIteratorFrom(r.name,on.Wrap);let w=v.peek();for(;null!=w&&a.compare(w,r)<0;)v.getNext(),w=v.peek();return v}}getReverseIterator(r){return this.getReverseIteratorFrom(r.maxPost(),r)}getReverseIteratorFrom(r,a){const h=this.resolveIndex_(a);if(h)return h.getReverseIteratorFrom(r,v=>v);{const v=this.children_.getReverseIteratorFrom(r.name,on.Wrap);let w=v.peek();for(;null!=w&&a.compare(w,r)>0;)v.getNext(),w=v.peek();return v}}compareTo(r){return this.isEmpty()?r.isEmpty()?0:-1:r.isLeafNode()||r.isEmpty()?1:r===Ll?-1:0}withIndex(r){if(r===Zi||this.indexMap_.hasIndex(r))return this;{const a=this.indexMap_.addIndex(r,this.children_);return new s(this.children_,this.priorityNode_,a)}}isIndexed(r){return r===Zi||this.indexMap_.hasIndex(r)}equals(r){if(r===this)return!0;if(r.isLeafNode())return!1;{const a=r;if(this.getPriority().equals(a.getPriority())){if(this.children_.count()===a.children_.count()){const h=this.getIterator(Tr),v=a.getIterator(Tr);let w=h.getNext(),L=v.getNext();for(;w&&L;){if(w.name!==L.name||!w.node.equals(L.node))return!1;w=h.getNext(),L=v.getNext()}return null===w&&null===L}return!1}return!1}}resolveIndex_(r){return r===Zi?null:this.indexMap_.get(r.toString())}}return s.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,s})();const Ll=new class Ud extends un{constructor(){super(new ri(Ac),un.EMPTY_NODE,Ao.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return un.EMPTY_NODE}isEmpty(){return!1}};function Hn(s,i=null){if(null===s)return un.EMPTY_NODE;if("object"==typeof s&&".priority"in s&&(i=s[".priority"]),(0,K.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof s&&".value"in s&&null!==s[".value"]&&(s=s[".value"]),"object"!=typeof s||".sv"in s)return new Ha(s,Hn(i));if(s instanceof Array){let r=un.EMPTY_NODE;return ur(s,(a,h)=>{if((0,K.r3)(s,a)&&"."!==a.substring(0,1)){const v=Hn(h);(v.isLeafNode()||!v.isEmpty())&&(r=r.updateImmediateChild(a,v))}}),r.updatePriority(Hn(i))}{const r=[];let a=!1;if(ur(s,(w,L)=>{if("."!==w.substring(0,1)){const G=Hn(L);G.isEmpty()||(a=a||!G.getPriority().isEmpty(),r.push(new on(w,G)))}}),0===r.length)return un.EMPTY_NODE;const v=Fl(r,xu,w=>w.name,Ac);if(a){const w=Fl(r,Tr.getCompare());return new un(v,Hn(i),new Ao({".priority":w},{".priority":Tr}))}return new un(v,Hn(i),Ao.Default)}}Object.defineProperties(on,{MIN:{value:new on(ws,un.EMPTY_NODE)},MAX:{value:new on(jr,Ll)}}),ga.__EMPTY_NODE=un.EMPTY_NODE,Ha.__childrenNodeConstructor=un,function Sc(s){iu=s}(Ll),function Ld(s){su=s}(Ll),function $a(s){Nl=s}(Hn);class _a extends zs{constructor(i){super(),this.indexPath_=i,(0,K.hu)(!hn(i)&&".priority"!==Jt(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,r){const a=this.extractChild(i.node),h=this.extractChild(r.node),v=a.compareTo(h);return 0===v?es(i.name,r.name):v}makePost(i,r){const a=Hn(i),h=un.EMPTY_NODE.updateChild(this.indexPath_,a);return new on(r,h)}maxPost(){const i=un.EMPTY_NODE.updateChild(this.indexPath_,Ll);return new on(jr,i)}toString(){return lo(this.indexPath_,0).join("/")}}const Pc=new class Nu extends zs{compare(i,r){const a=i.node.compareTo(r.node);return 0===a?es(i.name,r.name):a}isDefinedOn(i){return!0}indexedValueChanged(i,r){return!i.equals(r)}minPost(){return on.MIN}maxPost(){return on.MAX}makePost(i,r){const a=Hn(i);return new on(r,a)}toString(){return".value"}},za="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Lu=function(){let s=0;const i=[];return function(r){const a=r===s;let h;s=r;const v=new Array(8);for(h=7;h>=0;h--)v[h]=za.charAt(r%64),r=Math.floor(r/64);(0,K.hu)(0===r,"Cannot push at time == 0");let w=v.join("");if(a){for(h=11;h>=0&&63===i[h];h--)i[h]=0;i[h]++}else for(h=0;h<12;h++)i[h]=Math.floor(64*Math.random());for(h=0;h<12;h++)w+=za.charAt(i[h]);return(0,K.hu)(20===w.length,"nextPushId: Length should be 20."),w}}(),Vu=function(s){if(s===""+Dr)return"-";const i=ns(s);if(null!=i)return""+(i+1);const r=new Array(s.length);for(let w=0;w<r.length;w++)r[w]=s.charAt(w);if(r.length<786)return r.push("-"),r.join("");let a=r.length-1;for(;a>=0&&"z"===r[a];)a--;if(-1===a)return jr;const v=za.charAt(za.indexOf(r[a])+1);return r[a]=v,r.slice(0,a+1).join("")},Rc=function(s){if(s===""+Ts)return ws;const i=ns(s);if(null!=i)return""+(i-1);const r=new Array(s.length);for(let a=0;a<r.length;a++)r[a]=s.charAt(a);return"-"===r[r.length-1]?1===r.length?""+Dr:(delete r[r.length-1],r.join("")):(r[r.length-1]=za.charAt(za.indexOf(r[r.length-1])-1),r.join("")+"z".repeat(786-r.length))};function xc(s){return{type:"value",snapshotNode:s}}function Ka(s,i){return{type:"child_added",snapshotNode:i,childName:s}}function Uu(s,i){return{type:"child_removed",snapshotNode:i,childName:s}}function uo(s,i,r){return{type:"child_changed",snapshotNode:i,childName:s,oldSnap:r}}class lu{constructor(i){this.index_=i}updateChild(i,r,a,h,v,w){(0,K.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const L=i.getImmediateChild(r);return L.getChild(h).equals(a.getChild(h))&&L.isEmpty()===a.isEmpty()||(null!=w&&(a.isEmpty()?i.hasChild(r)?w.trackChildChange(Uu(r,L)):(0,K.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):L.isEmpty()?w.trackChildChange(Ka(r,a)):w.trackChildChange(uo(r,a,L))),i.isLeafNode()&&a.isEmpty())?i:i.updateImmediateChild(r,a).withIndex(this.index_)}updateFullNode(i,r,a){return null!=a&&(i.isLeafNode()||i.forEachChild(Tr,(h,v)=>{r.hasChild(h)||a.trackChildChange(Uu(h,v))}),r.isLeafNode()||r.forEachChild(Tr,(h,v)=>{if(i.hasChild(h)){const w=i.getImmediateChild(h);w.equals(v)||a.trackChildChange(uo(h,v,w))}else a.trackChildChange(Ka(h,v))})),r.withIndex(this.index_)}updatePriority(i,r){return i.isEmpty()?un.EMPTY_NODE:i.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Yi{constructor(i){this.indexedFilter_=new lu(i.getIndex()),this.index_=i.getIndex(),this.startPost_=Yi.getStartPost_(i),this.endPost_=Yi.getEndPost_(i)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){return this.index_.compare(this.getStartPost(),i)<=0&&this.index_.compare(i,this.getEndPost())<=0}updateChild(i,r,a,h,v,w){return this.matches(new on(r,a))||(a=un.EMPTY_NODE),this.indexedFilter_.updateChild(i,r,a,h,v,w)}updateFullNode(i,r,a){r.isLeafNode()&&(r=un.EMPTY_NODE);let h=r.withIndex(this.index_);h=h.updatePriority(un.EMPTY_NODE);const v=this;return r.forEachChild(Tr,(w,L)=>{v.matches(new on(w,L))||(h=h.updateImmediateChild(w,un.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,h,a)}updatePriority(i,r){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const r=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),r)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const r=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),r)}return i.getIndex().maxPost()}}class Vl{constructor(i){this.rangedFilter_=new Yi(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft()}updateChild(i,r,a,h,v,w){return this.rangedFilter_.matches(new on(r,a))||(a=un.EMPTY_NODE),i.getImmediateChild(r).equals(a)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,r,a,h,v,w):this.fullLimitUpdateChild_(i,r,a,v,w)}updateFullNode(i,r,a){let h;if(r.isLeafNode()||r.isEmpty())h=un.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<r.numChildren()&&r.isIndexed(this.index_)){let v;h=un.EMPTY_NODE.withIndex(this.index_),v=this.reverse_?r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let w=0;for(;v.hasNext()&&w<this.limit_;){const L=v.getNext();let G;if(G=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),L)<=0:this.index_.compare(L,this.rangedFilter_.getEndPost())<=0,!G)break;h=h.updateImmediateChild(L.name,L.node),w++}}else{let v,w,L,G;if(h=r.withIndex(this.index_),h=h.updatePriority(un.EMPTY_NODE),this.reverse_){G=h.getReverseIterator(this.index_),v=this.rangedFilter_.getEndPost(),w=this.rangedFilter_.getStartPost();const Oe=this.index_.getCompare();L=(Ge,ct)=>Oe(ct,Ge)}else G=h.getIterator(this.index_),v=this.rangedFilter_.getStartPost(),w=this.rangedFilter_.getEndPost(),L=this.index_.getCompare();let Y=0,Se=!1;for(;G.hasNext();){const Oe=G.getNext();!Se&&L(v,Oe)<=0&&(Se=!0),Se&&Y<this.limit_&&L(Oe,w)<=0?Y++:h=h.updateImmediateChild(Oe.name,un.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,h,a)}updatePriority(i,r){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,r,a,h,v){let w;if(this.reverse_){const Oe=this.index_.getCompare();w=(Ge,ct)=>Oe(ct,Ge)}else w=this.index_.getCompare();const L=i;(0,K.hu)(L.numChildren()===this.limit_,"");const G=new on(r,a),Y=this.reverse_?L.getFirstChild(this.index_):L.getLastChild(this.index_),Se=this.rangedFilter_.matches(G);if(L.hasChild(r)){const Oe=L.getImmediateChild(r);let Ge=h.getChildAfterChild(this.index_,Y,this.reverse_);for(;null!=Ge&&(Ge.name===r||L.hasChild(Ge.name));)Ge=h.getChildAfterChild(this.index_,Ge,this.reverse_);const ct=null==Ge?1:w(Ge,G);if(Se&&!a.isEmpty()&&ct>=0)return null!=v&&v.trackChildChange(uo(r,a,Oe)),L.updateImmediateChild(r,a);{null!=v&&v.trackChildChange(Uu(r,Oe));const Mn=L.updateImmediateChild(r,un.EMPTY_NODE);return null!=Ge&&this.rangedFilter_.matches(Ge)?(null!=v&&v.trackChildChange(Ka(Ge.name,Ge.node)),Mn.updateImmediateChild(Ge.name,Ge.node)):Mn}}return a.isEmpty()?i:Se&&w(Y,G)>=0?(null!=v&&(v.trackChildChange(Uu(Y.name,Y.node)),v.trackChildChange(Ka(r,a))),L.updateImmediateChild(r,a).updateImmediateChild(Y.name,un.EMPTY_NODE)):i}}class ya{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tr}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,K.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,K.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ws}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,K.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,K.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:jr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,K.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Tr}copy(){const i=new ya;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function Lc(s,i,r){const a=s.copy();return a.startSet_=!0,void 0===i&&(i=null),a.indexStartValue_=i,null!=r?(a.startNameSet_=!0,a.indexStartName_=r):(a.startNameSet_=!1,a.indexStartName_=""),a}function va(s,i,r){const a=s.copy();return a.endSet_=!0,void 0===i&&(i=null),a.indexEndValue_=i,void 0!==r?(a.endNameSet_=!0,a.indexEndName_=r):(a.endNameSet_=!1,a.indexEndName_=""),a}function Za(s,i){const r=s.copy();return r.index_=i,r}function Hd(s){const i={};if(s.isDefault())return i;let r;return s.index_===Tr?r="$priority":s.index_===Pc?r="$value":s.index_===Zi?r="$key":((0,K.hu)(s.index_ instanceof _a,"Unrecognized index type!"),r=s.index_.toString()),i.orderBy=(0,K.Pz)(r),s.startSet_&&(i.startAt=(0,K.Pz)(s.indexStartValue_),s.startNameSet_&&(i.startAt+=","+(0,K.Pz)(s.indexStartName_))),s.endSet_&&(i.endAt=(0,K.Pz)(s.indexEndValue_),s.endNameSet_&&(i.endAt+=","+(0,K.Pz)(s.indexEndName_))),s.limitSet_&&(s.isViewFromLeft()?i.limitToFirst=s.limit_:i.limitToLast=s.limit_),i}function $d(s){const i={};if(s.startSet_&&(i.sp=s.indexStartValue_,s.startNameSet_&&(i.sn=s.indexStartName_)),s.endSet_&&(i.ep=s.indexEndValue_,s.endNameSet_&&(i.en=s.indexEndName_)),s.limitSet_){i.l=s.limit_;let r=s.viewFrom_;""===r&&(r=s.isViewFromLeft()?"l":"r"),i.vf=r}return s.index_!==Tr&&(i.i=s.index_.toString()),i}class Ul extends Ml{constructor(i,r,a,h){super(),this.repoInfo_=i,this.onDataUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=h,this.log_=Xi("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,r){return void 0!==r?"tag$"+r:((0,K.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,r,a,h){const v=i._path.toString();this.log_("Listen called for "+v+" "+i._queryIdentifier);const w=Ul.getListenId_(i,a),L={};this.listens_[w]=L;const G=Hd(i._queryParams);this.restRequest_(v+".json",G,(Y,Se)=>{let Oe=Se;if(404===Y&&(Oe=null,Y=null),null===Y&&this.onDataUpdate_(v,Oe,!1,a),(0,K.DV)(this.listens_,w)===L){let Ge;Ge=Y?401===Y?"permission_denied":"rest_error:"+Y:"ok",h(Ge,null)}})}unlisten(i,r){const a=Ul.getListenId_(i,r);delete this.listens_[a]}get(i){const r=Hd(i._queryParams),a=i._path.toString(),h=new K.BH;return this.restRequest_(a+".json",r,(v,w)=>{let L=w;404===v&&(L=null,v=null),null===v?(this.onDataUpdate_(a,L,!1,null),h.resolve(L)):h.reject(new Error(L))}),h.promise}refreshAuthToken(i){}restRequest_(i,r={},a){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([h,v])=>{h&&h.accessToken&&(r.auth=h.accessToken),v&&v.token&&(r.ac=v.token);const w=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,K.xO)(r);this.log_("Sending REST request for "+w);const L=new XMLHttpRequest;L.onreadystatechange=()=>{if(a&&4===L.readyState){this.log_("REST Response for "+w+" received. status:",L.status,"response:",L.responseText);let G=null;if(L.status>=200&&L.status<300){try{G=(0,K.cI)(L.responseText)}catch(Y){ni("Failed to parse JSON response for "+w+": "+L.responseText)}a(null,G)}else 401!==L.status&&404!==L.status&&ni("Got unsuccessful REST response for "+w+" Status: "+L.status),a(L.status);a=null}},L.open("GET",w,!0),L.send()})}}class Vc{constructor(){this.rootNode_=un.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,r){this.rootNode_=this.rootNode_.updateChild(i,r)}}function Ya(){return{value:null,children:new Map}}function qa(s,i,r){if(hn(i))s.value=r,s.children.clear();else if(null!==s.value)s.value=s.value.updateChild(i,r);else{const a=Jt(i);s.children.has(a)||s.children.set(a,Ya()),qa(s.children.get(a),i=jn(i),r)}}function ju(s,i){if(hn(i))return s.value=null,s.children.clear(),!0;if(null!==s.value){if(s.value.isLeafNode())return!1;{const r=s.value;return s.value=null,r.forEachChild(Tr,(a,h)=>{qa(s,new kn(a),h)}),ju(s,i)}}if(s.children.size>0){const r=Jt(i);return i=jn(i),s.children.has(r)&&ju(s.children.get(r),i)&&s.children.delete(r),0===s.children.size}return!0}function Qa(s,i,r){null!==s.value?r(i,s.value):function Ja(s,i){s.children.forEach((r,a)=>{i(a,r)})}(s,(a,h)=>{Qa(h,new kn(i.toString()+"/"+a),r)})}class Wd{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),r=Object.assign({},i);return this.last_&&ur(this.last_,(a,h)=>{r[a]=r[a]-h}),this.last_=i,r}}class Gd{constructor(i,r){this.server_=r,this.statsToReport_={},this.statsListener_=new Wd(i);const a=1e4+2e4*Math.random();Do(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const i=this.statsListener_.get(),r={};let a=!1;ur(i,(h,v)=>{v>0&&(0,K.r3)(this.statsToReport_,h)&&(r[h]=v,a=!0)}),a&&this.server_.reportStats(r),Do(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Zs=(()=>{return(s=Zs||(Zs={}))[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Zs;var s})();function Hu(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class hu{constructor(i,r,a){this.path=i,this.affectedTree=r,this.revert=a,this.type=Zs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(hn(this.path)){if(null!=this.affectedTree.value)return(0,K.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new kn(i));return new hu(Sn(),r,this.revert)}}return(0,K.hu)(Jt(this.path)===i,"operationForChild called for unrelated child."),new hu(jn(this.path),this.affectedTree,this.revert)}}class Bl{constructor(i,r){this.source=i,this.path=r,this.type=Zs.LISTEN_COMPLETE}operationForChild(i){return hn(this.path)?new Bl(this.source,Sn()):new Bl(this.source,jn(this.path))}}class co{constructor(i,r,a){this.source=i,this.path=r,this.snap=a,this.type=Zs.OVERWRITE}operationForChild(i){return hn(this.path)?new co(this.source,Sn(),this.snap.getImmediateChild(i)):new co(this.source,jn(this.path),this.snap)}}class el{constructor(i,r,a){this.source=i,this.path=r,this.children=a,this.type=Zs.MERGE}operationForChild(i){if(hn(this.path)){const r=this.children.subtree(new kn(i));return r.isEmpty()?null:r.value?new co(this.source,Sn(),r.value):new el(this.source,Sn(),r)}return(0,K.hu)(Jt(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new el(this.source,jn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class sa{constructor(i,r,a){this.node_=i,this.fullyInitialized_=r,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(hn(i))return this.isFullyInitialized()&&!this.filtered_;const r=Jt(i);return this.isCompleteForChild(r)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class qh{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function Ci(s,i,r,a,h,v){const w=a.filter(L=>L.type===r);w.sort((L,G)=>function Wu(s,i,r){if(null==i.childName||null==r.childName)throw(0,K.g5)("Should only compare child_ events.");const a=new on(i.childName,i.snapshotNode),h=new on(r.childName,r.snapshotNode);return s.index_.compare(a,h)}(s,L,G)),w.forEach(L=>{const G=function $u(s,i,r){return"value"===i.type||"child_removed"===i.type||(i.prevName=r.getPredecessorChildName(i.childName,i.snapshotNode,s.index_)),i}(s,L,v);h.forEach(Y=>{Y.respondsTo(L.type)&&i.push(Y.createEvent(G,s.query_))})})}function Ea(s,i){return{eventCache:s,serverCache:i}}function Zr(s,i,r,a){return Ea(new sa(i,r,a),s.serverCache)}function Ca(s,i,r,a){return Ea(s.eventCache,new sa(i,r,a))}function tl(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function jo(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let Gu;class Jn{constructor(i,r=(()=>(Gu||(Gu=new ri(Dl)),Gu))()){this.value=i,this.children=r}static fromObject(i){let r=new Jn(null);return ur(i,(a,h)=>{r=r.set(new kn(a),h)}),r}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,r){if(null!=this.value&&r(this.value))return{path:Sn(),value:this.value};if(hn(i))return null;{const a=Jt(i),h=this.children.get(a);if(null!==h){const v=h.findRootMostMatchingPathAndValue(jn(i),r);return null!=v?{path:Ir(new kn(a),v.path),value:v.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(hn(i))return this;{const r=Jt(i),a=this.children.get(r);return null!==a?a.subtree(jn(i)):new Jn(null)}}set(i,r){if(hn(i))return new Jn(r,this.children);{const a=Jt(i),v=(this.children.get(a)||new Jn(null)).set(jn(i),r),w=this.children.insert(a,v);return new Jn(this.value,w)}}remove(i){if(hn(i))return this.children.isEmpty()?new Jn(null):new Jn(null,this.children);{const r=Jt(i),a=this.children.get(r);if(a){const h=a.remove(jn(i));let v;return v=h.isEmpty()?this.children.remove(r):this.children.insert(r,h),null===this.value&&v.isEmpty()?new Jn(null):new Jn(this.value,v)}return this}}get(i){if(hn(i))return this.value;{const r=Jt(i),a=this.children.get(r);return a?a.get(jn(i)):null}}setTree(i,r){if(hn(i))return r;{const a=Jt(i),v=(this.children.get(a)||new Jn(null)).setTree(jn(i),r);let w;return w=v.isEmpty()?this.children.remove(a):this.children.insert(a,v),new Jn(this.value,w)}}fold(i){return this.fold_(Sn(),i)}fold_(i,r){const a={};return this.children.inorderTraversal((h,v)=>{a[h]=v.fold_(Ir(i,h),r)}),r(i,this.value,a)}findOnPath(i,r){return this.findOnPath_(i,Sn(),r)}findOnPath_(i,r,a){const h=!!this.value&&a(r,this.value);if(h)return h;if(hn(i))return null;{const v=Jt(i),w=this.children.get(v);return w?w.findOnPath_(jn(i),Ir(r,v),a):null}}foreachOnPath(i,r){return this.foreachOnPath_(i,Sn(),r)}foreachOnPath_(i,r,a){if(hn(i))return this;{this.value&&a(r,this.value);const h=Jt(i),v=this.children.get(h);return v?v.foreachOnPath_(jn(i),Ir(r,h),a):new Jn(null)}}foreach(i){this.foreach_(Sn(),i)}foreach_(i,r){this.children.inorderTraversal((a,h)=>{h.foreach_(Ir(i,a),r)}),this.value&&r(i,this.value)}foreachChild(i){this.children.inorderTraversal((r,a)=>{a.value&&i(r,a.value)})}}class Ms{constructor(i){this.writeTree_=i}static empty(){return new Ms(new Jn(null))}}function Hl(s,i,r){if(hn(i))return new Ms(new Jn(r));{const a=s.writeTree_.findRootMostValueAndPath(i);if(null!=a){const h=a.path;let v=a.value;const w=vi(h,i);return v=v.updateChild(w,r),new Ms(s.writeTree_.set(h,v))}{const h=new Jn(r),v=s.writeTree_.setTree(i,h);return new Ms(v)}}}function nl(s,i,r){let a=s;return ur(r,(h,v)=>{a=Hl(a,Ir(i,h),v)}),a}function fu(s,i){if(hn(i))return Ms.empty();{const r=s.writeTree_.setTree(i,new Jn(null));return new Ms(r)}}function zu(s,i){return null!=So(s,i)}function So(s,i){const r=s.writeTree_.findRootMostValueAndPath(i);return null!=r?s.writeTree_.get(r.path).getChild(vi(r.path,i)):null}function Uc(s){const i=[],r=s.writeTree_.value;return null!=r?r.isLeafNode()||r.forEachChild(Tr,(a,h)=>{i.push(new on(a,h))}):s.writeTree_.children.inorderTraversal((a,h)=>{null!=h.value&&i.push(new on(a,h.value))}),i}function as(s,i){if(hn(i))return s;{const r=So(s,i);return new Ms(null!=r?new Jn(r):s.writeTree_.subtree(i))}}function rl(s){return s.writeTree_.isEmpty()}function il(s,i){return Bc(Sn(),s.writeTree_,i)}function Bc(s,i,r){if(null!=i.value)return r.updateChild(s,i.value);{let a=null;return i.children.inorderTraversal((h,v)=>{".priority"===h?((0,K.hu)(null!==v.value,"Priority writes must always be leaf nodes"),a=v.value):r=Bc(Ir(s,h),v,r)}),!r.getChild(s).isEmpty()&&null!==a&&(r=r.updateChild(Ir(s,".priority"),a)),r}}function ba(s,i){return ke(i,s)}function zd(s,i){if(s.snap)return ki(s.path,i);for(const r in s.children)if(s.children.hasOwnProperty(r)&&ki(Ir(s.path,r),i))return!0;return!1}function $l(s){return s.visible}function Yu(s,i,r){let a=Ms.empty();for(let h=0;h<s.length;++h){const v=s[h];if(i(v)){const w=v.path;let L;if(v.snap)ki(r,w)?(L=vi(r,w),a=Hl(a,L,v.snap)):ki(w,r)&&(L=vi(w,r),a=Hl(a,Sn(),v.snap.getChild(L)));else{if(!v.children)throw(0,K.g5)("WriteRecord should have .snap or .children");if(ki(r,w))L=vi(r,w),a=nl(a,L,v.children);else if(ki(w,r))if(L=vi(w,r),hn(L))a=nl(a,Sn(),v.children);else{const G=(0,K.DV)(v.children,Jt(L));if(G){const Y=G.getChild(jn(L));a=Hl(a,Sn(),Y)}}}}}return a}function qu(s,i,r,a,h){if(a||h){const v=as(s.visibleWrites,i);return!h&&rl(v)?r:h||null!=r||zu(v,Sn())?il(Yu(s.allWrites,function(Y){return(Y.visible||h)&&(!a||!~a.indexOf(Y.writeId))&&(ki(Y.path,i)||ki(i,Y.path))},i),r||un.EMPTY_NODE):null}{const v=So(s.visibleWrites,i);if(null!=v)return v;{const w=as(s.visibleWrites,i);return rl(w)?r:null!=r||zu(w,Sn())?il(w,r||un.EMPTY_NODE):null}}}function p(s,i,r,a){return qu(s.writeTree,s.treePath,i,r,a)}function u(s,i){return function Kd(s,i,r){let a=un.EMPTY_NODE;const h=So(s.visibleWrites,i);if(h)return h.isLeafNode()||h.forEachChild(Tr,(v,w)=>{a=a.updateImmediateChild(v,w)}),a;if(r){const v=as(s.visibleWrites,i);return r.forEachChild(Tr,(w,L)=>{const G=il(as(v,new kn(w)),L);a=a.updateImmediateChild(w,G)}),Uc(v).forEach(w=>{a=a.updateImmediateChild(w.name,w.node)}),a}return Uc(as(s.visibleWrites,i)).forEach(w=>{a=a.updateImmediateChild(w.name,w.node)}),a}(s.writeTree,s.treePath,i)}function c(s,i,r,a){return function Qu(s,i,r,a,h){(0,K.hu)(a||h,"Either existingEventSnap or existingServerSnap must exist");const v=Ir(i,r);if(zu(s.visibleWrites,v))return null;{const w=as(s.visibleWrites,v);return rl(w)?h.getChild(r):il(w,h.getChild(r))}}(s.writeTree,s.treePath,i,r,a)}function _(s,i){return function Yd(s,i){return So(s.visibleWrites,i)}(s.writeTree,Ir(s.treePath,i))}function $(s,i,r){return function Zd(s,i,r,a){const h=Ir(i,r),v=So(s.visibleWrites,h);return null!=v?v:a.isCompleteForChild(r)?il(as(s.visibleWrites,h),a.getNode().getImmediateChild(r)):null}(s.writeTree,s.treePath,i,r)}function fe(s,i){return ke(Ir(s.treePath,i),s.writeTree)}function ke(s,i){return{treePath:s,writeTree:i}}class dt{constructor(){this.changeMap=new Map}trackChildChange(i){const r=i.type,a=i.childName;(0,K.hu)("child_added"===r||"child_changed"===r||"child_removed"===r,"Only child changes supported for tracking"),(0,K.hu)(".priority"!==a,"Only non-priority child changes can be tracked.");const h=this.changeMap.get(a);if(h){const v=h.type;if("child_added"===r&&"child_removed"===v)this.changeMap.set(a,uo(a,i.snapshotNode,h.snapshotNode));else if("child_removed"===r&&"child_added"===v)this.changeMap.delete(a);else if("child_removed"===r&&"child_changed"===v)this.changeMap.set(a,Uu(a,h.oldSnap));else if("child_changed"===r&&"child_added"===v)this.changeMap.set(a,Ka(a,i.snapshotNode));else{if("child_changed"!==r||"child_changed"!==v)throw(0,K.g5)("Illegal combination of changes: "+i+" occurred after "+h);this.changeMap.set(a,uo(a,i.snapshotNode,h.oldSnap))}}else this.changeMap.set(a,i)}getChanges(){return Array.from(this.changeMap.values())}}const $t=new class St{getCompleteChild(i){return null}getChildAfterChild(i,r,a){return null}};class Vt{constructor(i,r,a=null){this.writes_=i,this.viewCache_=r,this.optCompleteServerCache_=a}getCompleteChild(i){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(i))return r.getNode().getImmediateChild(i);{const a=null!=this.optCompleteServerCache_?new sa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $(this.writes_,i,a)}}getChildAfterChild(i,r,a){const h=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:jo(this.viewCache_),v=function N(s,i,r,a,h,v){return function qd(s,i,r,a,h,v,w){let L;const G=as(s.visibleWrites,i),Y=So(G,Sn());if(null!=Y)L=Y;else{if(null==r)return[];L=il(G,r)}if(L=L.withIndex(w),L.isEmpty()||L.isLeafNode())return[];{const Se=[],Oe=w.getCompare(),Ge=v?L.getReverseIteratorFrom(a,w):L.getIteratorFrom(a,w);let ct=Ge.getNext();for(;ct&&Se.length<h;)0!==Oe(ct,a)&&Se.push(ct),ct=Ge.getNext();return Se}}(s.writeTree,s.treePath,i,r,a,h,v)}(this.writes_,h,r,1,a,i);return 0===v.length?null:v[0]}}function Xu(s,i,r,a,h,v){const w=i.eventCache;if(null!=_(a,r))return i;{let L,G;if(hn(r))if((0,K.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const Y=jo(i),Oe=u(a,Y instanceof un?Y:un.EMPTY_NODE);L=s.filter.updateFullNode(i.eventCache.getNode(),Oe,v)}else{const Y=p(a,jo(i));L=s.filter.updateFullNode(i.eventCache.getNode(),Y,v)}else{const Y=Jt(r);if(".priority"===Y){(0,K.hu)(1===xi(r),"Can't have a priority with additional path components");const Se=w.getNode();G=i.serverCache.getNode();const Oe=c(a,r,Se,G);L=null!=Oe?s.filter.updatePriority(Se,Oe):w.getNode()}else{const Se=jn(r);let Oe;if(w.isCompleteForChild(Y)){G=i.serverCache.getNode();const Ge=c(a,r,w.getNode(),G);Oe=null!=Ge?w.getNode().getImmediateChild(Y).updateChild(Se,Ge):w.getNode().getImmediateChild(Y)}else Oe=$(a,Y,i.serverCache);L=null!=Oe?s.filter.updateChild(w.getNode(),Y,Oe,Se,h,v):w.getNode()}}return Zr(i,L,w.isFullyInitialized()||hn(r),s.filter.filtersNodes())}}function Po(s,i,r,a,h,v,w,L){const G=i.serverCache;let Y;const Se=w?s.filter:s.filter.getIndexedFilter();if(hn(r))Y=Se.updateFullNode(G.getNode(),a,null);else if(Se.filtersNodes()&&!G.isFiltered()){const ct=G.getNode().updateChild(r,a);Y=Se.updateFullNode(G.getNode(),ct,null)}else{const ct=Jt(r);if(!G.isCompleteForPath(r)&&xi(r)>1)return i;const Et=jn(r),bi=G.getNode().getImmediateChild(ct).updateChild(Et,a);Y=".priority"===ct?Se.updatePriority(G.getNode(),bi):Se.updateChild(G.getNode(),ct,bi,Et,$t,null)}const Oe=Ca(i,Y,G.isFullyInitialized()||hn(r),Se.filtersNodes());return Xu(s,Oe,r,h,new Vt(h,Oe,v),L)}function al(s,i,r,a,h,v,w){const L=i.eventCache;let G,Y;const Se=new Vt(h,i,v);if(hn(r))Y=s.filter.updateFullNode(i.eventCache.getNode(),a,w),G=Zr(i,Y,!0,s.filter.filtersNodes());else{const Oe=Jt(r);if(".priority"===Oe)Y=s.filter.updatePriority(i.eventCache.getNode(),a),G=Zr(i,Y,L.isFullyInitialized(),L.isFiltered());else{const Ge=jn(r),ct=L.getNode().getImmediateChild(Oe);let Et;if(hn(Ge))Et=a;else{const Mn=Se.getCompleteChild(Oe);Et=null!=Mn?".priority"===ru(Ge)&&Mn.getChild(os(Ge)).isEmpty()?Mn:Mn.updateChild(Ge,a):un.EMPTY_NODE}G=ct.equals(Et)?i:Zr(i,s.filter.updateChild(L.getNode(),Oe,Et,Ge,Se,w),L.isFullyInitialized(),s.filter.filtersNodes())}}return G}function Wl(s,i){return s.eventCache.isCompleteForChild(i)}function Gl(s,i,r){return r.foreach((a,h)=>{i=i.updateChild(a,h)}),i}function zl(s,i,r,a,h,v,w,L){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let Y,G=i;Y=hn(r)?a:new Jn(null).setTree(r,a);const Se=i.serverCache.getNode();return Y.children.inorderTraversal((Oe,Ge)=>{if(Se.hasChild(Oe)){const Et=Gl(0,i.serverCache.getNode().getImmediateChild(Oe),Ge);G=Po(s,G,new kn(Oe),Et,h,v,w,L)}}),Y.children.inorderTraversal((Oe,Ge)=>{const ct=!i.serverCache.isCompleteForChild(Oe)&&void 0===Ge.value;if(!Se.hasChild(Oe)&&!ct){const Mn=Gl(0,i.serverCache.getNode().getImmediateChild(Oe),Ge);G=Po(s,G,new kn(Oe),Mn,h,v,w,L)}}),G}class Jd{constructor(i,r){this.query_=i,this.eventRegistrations_=[];const a=this.query_._queryParams,h=new lu(a.getIndex()),v=function kc(s){return s.loadsAllData()?new lu(s.getIndex()):s.hasLimit()?new Vl(s):new Yi(s)}(a);this.processor_=function pi(s){return{filter:s}}(v);const w=r.serverCache,L=r.eventCache,G=h.updateFullNode(un.EMPTY_NODE,w.getNode(),null),Y=v.updateFullNode(un.EMPTY_NODE,L.getNode(),null),Se=new sa(G,w.isFullyInitialized(),h.filtersNodes()),Oe=new sa(Y,L.isFullyInitialized(),v.filtersNodes());this.viewCache_=Ea(Oe,Se),this.eventGenerator_=new qh(this.query_)}get query(){return this.query_}}function Xd(s,i){const r=jo(s.viewCache_);return r&&(s.query._queryParams.loadsAllData()||!hn(i)&&!r.getImmediateChild(Jt(i)).isEmpty())?r.getChild(i):null}function eh(s){return 0===s.eventRegistrations_.length}function Jh(s,i,r){const a=[];if(r){(0,K.hu)(null==i,"A cancel should cancel all event registrations.");const h=s.query._path;s.eventRegistrations_.forEach(v=>{const w=v.createCancelEvent(r,h);w&&a.push(w)})}if(i){let h=[];for(let v=0;v<s.eventRegistrations_.length;++v){const w=s.eventRegistrations_[v];if(w.matches(i)){if(i.hasAnyCallback()){h=h.concat(s.eventRegistrations_.slice(v+1));break}}else h.push(w)}s.eventRegistrations_=h}else s.eventRegistrations_=[];return a}function Xh(s,i,r,a){i.type===Zs.MERGE&&null!==i.source.queryId&&((0,K.hu)(jo(s.viewCache_),"We should always have a full cache before handling merges"),(0,K.hu)(tl(s.viewCache_),"Missing event cache, even though we have a server cache"));const h=s.viewCache_,v=function ol(s,i,r,a,h){const v=new dt;let w,L;if(r.type===Zs.OVERWRITE){const Y=r;Y.source.fromUser?w=al(s,i,Y.path,Y.snap,a,h,v):((0,K.hu)(Y.source.fromServer,"Unknown source."),L=Y.source.tagged||i.serverCache.isFiltered()&&!hn(Y.path),w=Po(s,i,Y.path,Y.snap,a,h,L,v))}else if(r.type===Zs.MERGE){const Y=r;Y.source.fromUser?w=function Hc(s,i,r,a,h,v,w){let L=i;return a.foreach((G,Y)=>{const Se=Ir(r,G);Wl(i,Jt(Se))&&(L=al(s,L,Se,Y,h,v,w))}),a.foreach((G,Y)=>{const Se=Ir(r,G);Wl(i,Jt(Se))||(L=al(s,L,Se,Y,h,v,w))}),L}(s,i,Y.path,Y.children,a,h,v):((0,K.hu)(Y.source.fromServer,"Unknown source."),L=Y.source.tagged||i.serverCache.isFiltered(),w=zl(s,i,Y.path,Y.children,a,h,L,v))}else if(r.type===Zs.ACK_USER_WRITE){const Y=r;w=Y.revert?function ec(s,i,r,a,h,v){let w;if(null!=_(a,r))return i;{const L=new Vt(a,i,h),G=i.eventCache.getNode();let Y;if(hn(r)||".priority"===Jt(r)){let Se;if(i.serverCache.isFullyInitialized())Se=p(a,jo(i));else{const Oe=i.serverCache.getNode();(0,K.hu)(Oe instanceof un,"serverChildren would be complete if leaf node"),Se=u(a,Oe)}Se=Se,Y=s.filter.updateFullNode(G,Se,v)}else{const Se=Jt(r);let Oe=$(a,Se,i.serverCache);null==Oe&&i.serverCache.isCompleteForChild(Se)&&(Oe=G.getImmediateChild(Se)),Y=null!=Oe?s.filter.updateChild(G,Se,Oe,jn(r),L,v):i.eventCache.getNode().hasChild(Se)?s.filter.updateChild(G,Se,un.EMPTY_NODE,jn(r),L,v):G,Y.isEmpty()&&i.serverCache.isFullyInitialized()&&(w=p(a,jo(i)),w.isLeafNode()&&(Y=s.filter.updateFullNode(Y,w,v)))}return w=i.serverCache.isFullyInitialized()||null!=_(a,Sn()),Zr(i,Y,w,s.filter.filtersNodes())}}(s,i,Y.path,a,h,v):function $c(s,i,r,a,h,v,w){if(null!=_(h,r))return i;const L=i.serverCache.isFiltered(),G=i.serverCache;if(null!=a.value){if(hn(r)&&G.isFullyInitialized()||G.isCompleteForPath(r))return Po(s,i,r,G.getNode().getChild(r),h,v,L,w);if(hn(r)){let Y=new Jn(null);return G.getNode().forEachChild(Zi,(Se,Oe)=>{Y=Y.set(new kn(Se),Oe)}),zl(s,i,r,Y,h,v,L,w)}return i}{let Y=new Jn(null);return a.foreach((Se,Oe)=>{const Ge=Ir(r,Se);G.isCompleteForPath(Ge)&&(Y=Y.set(Se,G.getNode().getChild(Ge)))}),zl(s,i,r,Y,h,v,L,w)}}(s,i,Y.path,Y.affectedTree,a,h,v)}else{if(r.type!==Zs.LISTEN_COMPLETE)throw(0,K.g5)("Unknown operation type: "+r.type);w=function Qd(s,i,r,a,h){const v=i.serverCache;return Xu(s,Ca(i,v.getNode(),v.isFullyInitialized()||hn(r),v.isFiltered()),r,a,$t,h)}(s,i,r.path,a,v)}const G=v.getChanges();return function Ju(s,i,r){const a=i.eventCache;if(a.isFullyInitialized()){const h=a.getNode().isLeafNode()||a.getNode().isEmpty(),v=tl(s);(r.length>0||!s.eventCache.isFullyInitialized()||h&&!a.getNode().equals(v)||!a.getNode().getPriority().equals(v.getPriority()))&&r.push(xc(tl(i)))}}(i,w,G),{viewCache:w,changes:G}}(s.processor_,h,i,r,a);return function Ps(s,i){(0,K.hu)(i.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),(0,K.hu)(i.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}(s.processor_,v.viewCache),(0,K.hu)(v.viewCache.serverCache.isFullyInitialized()||!h.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=v.viewCache,nh(s,v.changes,v.viewCache.eventCache.getNode(),null)}function nh(s,i,r,a){return function jl(s,i,r,a){const h=[],v=[];return i.forEach(w=>{"child_changed"===w.type&&s.index_.indexedValueChanged(w.oldSnap,w.snapshotNode)&&v.push(function au(s,i){return{type:"child_moved",snapshotNode:i,childName:s}}(w.childName,w.snapshotNode))}),Ci(s,h,"child_removed",i,a,r),Ci(s,h,"child_added",i,a,r),Ci(s,h,"child_moved",v,a,r),Ci(s,h,"child_changed",i,a,r),Ci(s,h,"value",i,a,r),h}(s.eventGenerator_,i,r,a?[a]:s.eventRegistrations_)}let oa,rc;class rh{constructor(){this.views=new Map}}function ih(s,i,r,a){const h=i.source.queryId;if(null!==h){const v=s.views.get(h);return(0,K.hu)(null!=v,"SyncTree gave us an op for an invalid query."),Xh(v,i,r,a)}{let v=[];for(const w of s.views.values())v=v.concat(Xh(w,i,r,a));return v}}function Gc(s,i,r,a,h){const w=s.views.get(i._queryIdentifier);if(!w){let L=p(r,h?a:null),G=!1;L?G=!0:a instanceof un?(L=u(r,a),G=!1):(L=un.EMPTY_NODE,G=!1);const Y=Ea(new sa(L,G,!1),new sa(a,h,!1));return new Jd(i,Y)}return w}function zc(s){const i=[];for(const r of s.views.values())r.query._queryParams.loadsAllData()||i.push(r);return i}function Da(s,i){let r=null;for(const a of s.views.values())r=r||Xd(a,i);return r}function tc(s,i){return i._queryParams.loadsAllData()?pu(s):s.views.get(i._queryIdentifier)}function nc(s,i){return null!=tc(s,i)}function Ia(s){return null!=pu(s)}function pu(s){for(const i of s.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let Pp=1;class oh{constructor(i){this.listenProvider_=i,this.syncPointTree_=new Jn(null),this.pendingWriteTree_=function sl(){return{visibleWrites:Ms.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ah(s,i,r,a,h){return function jc(s,i,r,a,h){(0,K.hu)(a>s.lastWriteId,"Stacking an older write on top of newer ones"),void 0===h&&(h=!0),s.allWrites.push({path:i,snap:r,writeId:a,visible:h}),h&&(s.visibleWrites=Hl(s.visibleWrites,i,r)),s.lastWriteId=a}(s.pendingWriteTree_,i,r,a,h),h?gu(s,new co({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,r)):[]}function wa(s,i,r=!1){const a=function Ku(s,i){for(let r=0;r<s.allWrites.length;r++){const a=s.allWrites[r];if(a.writeId===i)return a}return null}(s.pendingWriteTree_,i);if(function Zu(s,i){const r=s.allWrites.findIndex(L=>L.writeId===i);(0,K.hu)(r>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[r];s.allWrites.splice(r,1);let h=a.visible,v=!1,w=s.allWrites.length-1;for(;h&&w>=0;){const L=s.allWrites[w];L.visible&&(w>=r&&zd(L,a.path)?h=!1:ki(a.path,L.path)&&(v=!0)),w--}return!!h&&(v?(function Mo(s){s.visibleWrites=Yu(s.allWrites,$l,Sn()),s.lastWriteId=s.allWrites.length>0?s.allWrites[s.allWrites.length-1].writeId:-1}(s),!0):(a.snap?s.visibleWrites=fu(s.visibleWrites,a.path):ur(a.children,G=>{s.visibleWrites=fu(s.visibleWrites,Ir(a.path,G))}),!0))}(s.pendingWriteTree_,i)){let v=new Jn(null);return null!=a.snap?v=v.set(Sn(),!0):ur(a.children,w=>{v=v.set(new kn(w),!0)}),gu(s,new hu(a.path,v,r))}return[]}function Kl(s,i,r){return gu(s,new co({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,r))}function Kc(s,i,r,a){const h=i._path,v=s.syncPointTree_.get(h);let w=[];if(v&&("default"===i._queryIdentifier||nc(v,i))){const L=function rf(s,i,r,a){const h=i._queryIdentifier,v=[];let w=[];const L=Ia(s);if("default"===h)for(const[G,Y]of s.views.entries())w=w.concat(Jh(Y,r,a)),eh(Y)&&(s.views.delete(G),Y.query._queryParams.loadsAllData()||v.push(Y.query));else{const G=s.views.get(h);G&&(w=w.concat(Jh(G,r,a)),eh(G)&&(s.views.delete(h),G.query._queryParams.loadsAllData()||v.push(G.query)))}return L&&!Ia(s)&&v.push(new(function Mp(){return(0,K.hu)(oa,"Reference.ts has not been loaded"),oa}())(i._repo,i._path)),{removed:v,events:w}}(v,i,r,a);(function Wc(s){return 0===s.views.size})(v)&&(s.syncPointTree_=s.syncPointTree_.remove(h));const G=L.removed;w=L.events;const Y=-1!==G.findIndex(Oe=>Oe._queryParams.loadsAllData()),Se=s.syncPointTree_.findOnPath(h,(Oe,Ge)=>Ia(Ge));if(Y&&!Se){const Oe=s.syncPointTree_.subtree(h);if(!Oe.isEmpty()){const Ge=function hf(s){return s.fold((i,r,a)=>{if(r&&Ia(r))return[pu(r)];{let h=[];return r&&(h=zc(r)),ur(a,(v,w)=>{h=h.concat(w)}),h}})}(Oe);for(let ct=0;ct<Ge.length;++ct){const Et=Ge[ct],Mn=Et.query,bi=lh(s,Et);s.listenProvider_.startListening(mu(Mn),oc(s,Mn),bi.hashFn,bi.onComplete)}}}!Se&&G.length>0&&!a&&(Y?s.listenProvider_.stopListening(mu(i),null):G.forEach(Oe=>{const Ge=s.queryToTagMap.get(Zc(Oe));s.listenProvider_.stopListening(mu(Oe),Ge)})),function qc(s,i){for(let r=0;r<i.length;++r){const a=i[r];if(!a._queryParams.loadsAllData()){const h=Zc(a),v=s.queryToTagMap.get(h);s.queryToTagMap.delete(h),s.tagToQueryMap.delete(v)}}}(s,G)}return w}function lf(s,i,r,a){const h=uh(s,a);if(null!=h){const v=an(h),w=v.path,L=v.queryId,G=vi(w,i);return Yc(s,w,new co(Hu(L),G,r))}return[]}function Oo(s,i){const r=s._path;let a=null,h=!1;i.syncPointTree_.foreachOnPath(r,(Y,Se)=>{const Oe=vi(Y,r);a=a||Da(Se,Oe),h=h||Ia(Se)});let w,v=i.syncPointTree_.get(r);v?(h=h||Ia(v),a=a||Da(v,Sn())):(v=new rh,i.syncPointTree_=i.syncPointTree_.set(r,v)),null!=a?w=!0:(w=!1,a=un.EMPTY_NODE,i.syncPointTree_.subtree(r).foreachChild((Se,Oe)=>{const Ge=Da(Oe,Sn());Ge&&(a=a.updateImmediateChild(Se,Ge))}));const L=nc(v,s);if(!L&&!s._queryParams.loadsAllData()){const Y=Zc(s);(0,K.hu)(!i.queryToTagMap.has(Y),"View does not exist, but we have a tag");const Se=function Ho(){return Pp++}();i.queryToTagMap.set(Y,Se),i.tagToQueryMap.set(Se,Y)}return{syncPoint:v,writesCache:ba(i.pendingWriteTree_,r),serverCache:a,serverCacheComplete:w,foundAncestorDefaultView:h,viewAlreadyExists:L}}function uf(s,i,r){const{syncPoint:a,serverCache:h,writesCache:v,serverCacheComplete:w,viewAlreadyExists:L,foundAncestorDefaultView:G}=Oo(i,s);let Y=function nf(s,i,r,a,h,v){const w=Gc(s,i,a,h,v);return s.views.has(i._queryIdentifier)||s.views.set(i._queryIdentifier,w),function th(s,i){s.eventRegistrations_.push(i)}(w,r),function ef(s,i){const r=s.viewCache_.eventCache,a=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Tr,(v,w)=>{a.push(Ka(v,w))}),r.isFullyInitialized()&&a.push(xc(r.getNode())),nh(s,a,r.getNode(),i)}(w,r)}(a,i,r,v,h,w);if(!L&&!G){const Se=tc(a,i);Y=Y.concat(function ff(s,i,r){const a=i._path,h=oc(s,i),v=lh(s,r),w=s.listenProvider_.startListening(mu(i),h,v.hashFn,v.onComplete),L=s.syncPointTree_.subtree(a);if(h)(0,K.hu)(!Ia(L.value),"If we're adding a query, it shouldn't be shadowed");else{const G=L.fold((Y,Se,Oe)=>{if(!hn(Y)&&Se&&Ia(Se))return[pu(Se).query];{let Ge=[];return Se&&(Ge=Ge.concat(zc(Se).map(ct=>ct.query))),ur(Oe,(ct,Et)=>{Ge=Ge.concat(Et)}),Ge}});for(let Y=0;Y<G.length;++Y){const Se=G[Y];s.listenProvider_.stopListening(mu(Se),oc(s,Se))}}return w}(s,i,Se))}return Y}function sc(s,i,r){const h=s.pendingWriteTree_,v=s.syncPointTree_.findOnPath(i,(w,L)=>{const Y=Da(L,vi(w,i));if(Y)return Y});return qu(h,i,v,r,!0)}function gu(s,i){return cf(i,s.syncPointTree_,null,ba(s.pendingWriteTree_,Sn()))}function cf(s,i,r,a){if(hn(s.path))return df(s,i,r,a);{const h=i.get(Sn());null==r&&null!=h&&(r=Da(h,Sn()));let v=[];const w=Jt(s.path),L=s.operationForChild(w),G=i.children.get(w);if(G&&L){const Y=r?r.getImmediateChild(w):null,Se=fe(a,w);v=v.concat(cf(L,G,Y,Se))}return h&&(v=v.concat(ih(h,s,a,r))),v}}function df(s,i,r,a){const h=i.get(Sn());null==r&&null!=h&&(r=Da(h,Sn()));let v=[];return i.children.inorderTraversal((w,L)=>{const G=r?r.getImmediateChild(w):null,Y=fe(a,w),Se=s.operationForChild(w);Se&&(v=v.concat(df(Se,L,G,Y)))}),h&&(v=v.concat(ih(h,s,a,r))),v}function lh(s,i){const r=i.query,a=oc(s,r);return{hashFn:()=>(function Sp(s){return s.viewCache_.serverCache.getNode()}(i)||un.EMPTY_NODE).hash(),onComplete:h=>{if("ok"===h)return a?function of(s,i,r){const a=uh(s,r);if(a){const h=an(a),v=h.path,w=h.queryId,L=vi(v,i);return Yc(s,v,new Bl(Hu(w),L))}return[]}(s,r._path,a):function Tm(s,i){return gu(s,new Bl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(s,r._path);{const v=function Ua(s,i){let r="Unknown Error";"too_big"===s?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===s?r="Client doesn't have permission to access the desired data.":"unavailable"===s&&(r="The service is unavailable");const a=new Error(s+" at "+i._path.toString()+": "+r);return a.code=s.toUpperCase(),a}(h,r);return Kc(s,r,null,v)}}}}function oc(s,i){const r=Zc(i);return s.queryToTagMap.get(r)}function Zc(s){return s._path.toString()+"$"+s._queryIdentifier}function uh(s,i){return s.tagToQueryMap.get(i)}function an(s){const i=s.indexOf("$");return(0,K.hu)(-1!==i&&i<s.length-1,"Bad queryKey."),{queryId:s.substr(i+1),path:new kn(s.substr(0,i))}}function Yc(s,i,r){const a=s.syncPointTree_.get(i);return(0,K.hu)(a,"Missing sync point for query tag that we're tracking"),ih(a,r,ba(s.pendingWriteTree_,i),null)}function mu(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(function ic(){return(0,K.hu)(rc,"Reference.ts has not been loaded"),rc}())(s._repo,s._path):s}class ch{constructor(i){this.node_=i}getImmediateChild(i){const r=this.node_.getImmediateChild(i);return new ch(r)}node(){return this.node_}}class ac{constructor(i,r){this.syncTree_=i,this.path_=r}getImmediateChild(i){const r=Ir(this.path_,i);return new ac(this.syncTree_,r)}node(){return sc(this.syncTree_,this.path_)}}const Qc=function(s,i,r){return s&&"object"==typeof s?((0,K.hu)(".sv"in s,"Unexpected leaf node or priority contents"),"string"==typeof s[".sv"]?pf(s[".sv"],i,r):"object"==typeof s[".sv"]?dh(s[".sv"],i):void(0,K.hu)(!1,"Unexpected server value: "+JSON.stringify(s,null,2))):s},pf=function(s,i,r){if("timestamp"===s)return r.timestamp;(0,K.hu)(!1,"Unexpected server value: "+s)},dh=function(s,i,r){s.hasOwnProperty("increment")||(0,K.hu)(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;"number"!=typeof a&&(0,K.hu)(!1,"Unexpected increment value: "+a);const h=i.node();if((0,K.hu)(null!=h,"Expected ChildrenNode.EMPTY_NODE for nulls"),!h.isLeafNode())return a;const w=h.getValue();return"number"!=typeof w?a:w+a},kp=function(s,i,r,a){return gf(i,new ac(r,s),a)},Jc=function(s,i,r){return gf(s,new ch(i),r)};function gf(s,i,r){const a=s.getPriority().val(),h=Qc(a,i.getImmediateChild(".priority"),r);let v;if(s.isLeafNode()){const w=s,L=Qc(w.getValue(),i,r);return L!==w.getValue()||h!==w.getPriority().val()?new Ha(L,Hn(h)):s}{const w=s;return v=w,h!==w.getPriority().val()&&(v=v.updatePriority(new Ha(h))),w.forEachChild(Tr,(L,G)=>{const Y=gf(G,i.getImmediateChild(L),r);Y!==G&&(v=v.updateImmediateChild(L,Y))}),v}}class _u{constructor(i="",r=null,a={children:{},childCount:0}){this.name=i,this.parent=r,this.node=a}}function Zl(s,i){let r=i instanceof kn?i:new kn(i),a=s,h=Jt(r);for(;null!==h;){const v=(0,K.DV)(a.node.children,h)||{children:{},childCount:0};a=new _u(h,a,v),r=jn(r),h=Jt(r)}return a}function Aa(s){return s.node.value}function lc(s,i){s.node.value=i,td(s)}function Xc(s){return s.node.childCount>0}function ed(s,i){ur(s.node.children,(r,a)=>{i(new _u(r,s,a))})}function mf(s,i,r,a){r&&!a&&i(s),ed(s,h=>{mf(h,i,!0,a)}),r&&a&&i(s)}function uc(s){return new kn(null===s.parent?s.name:uc(s.parent)+"/"+s.name)}function td(s){null!==s.parent&&function Sm(s,i,r){const a=function Am(s){return void 0===Aa(s)&&!Xc(s)}(r),h=(0,K.r3)(s.node.children,i);a&&h?(delete s.node.children[i],s.node.childCount--,td(s)):!a&&!h&&(s.node.children[i]=r.node,s.node.childCount++,td(s))}(s.parent,s.name,s)}const Fp=/[\[\].#$\/\u0000-\u001F\u007F]/,Mm=/[\[\].#$\u0000-\u001F\u007F]/,nd=10485760,cc=function(s){return"string"==typeof s&&0!==s.length&&!Fp.test(s)},_f=function(s){return"string"==typeof s&&0!==s.length&&!Mm.test(s)},rd=function(s){return null===s||"string"==typeof s||"number"==typeof s&&!Oi(s)||s&&"object"==typeof s&&(0,K.r3)(s,".sv")},Sa=function(s,i,r,a){a&&void 0===i||id((0,K.gK)(s,"value"),i,r)},id=function(s,i,r){const a=r instanceof kn?new I(r,s):r;if(void 0===i)throw new Error(s+"contains undefined "+ve(a));if("function"==typeof i)throw new Error(s+"contains a function "+ve(a)+" with contents = "+i.toString());if(Oi(i))throw new Error(s+"contains "+i.toString()+" "+ve(a));if("string"==typeof i&&i.length>nd/3&&(0,K.ug)(i)>nd)throw new Error(s+"contains a string greater than "+nd+" utf8 bytes "+ve(a)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let h=!1,v=!1;if(ur(i,(w,L)=>{if(".value"===w)h=!0;else if(".priority"!==w&&".sv"!==w&&(v=!0,!cc(w)))throw new Error(s+" contains an invalid key ("+w+") "+ve(a)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function O(s,i){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(i),s.byteLength_+=(0,K.ug)(i),J(s)})(a,w),id(s,L,a),function V(s){const i=s.parts_.pop();s.byteLength_-=(0,K.ug)(i),s.parts_.length>0&&(s.byteLength_-=1)}(a)}),h&&v)throw new Error(s+' contains ".value" child '+ve(a)+" in addition to actual children.")}},Lp=function(s,i,r,a){if(a&&void 0===i)return;const h=(0,K.gK)(s,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(h+" must be an object containing the children to replace.");const v=[];ur(i,(w,L)=>{const G=new kn(w);if(id(h,L,Ir(r,G)),".priority"===ru(G)&&!rd(L))throw new Error(h+"contains an invalid value for '"+G.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");v.push(G)}),function(s,i){let r,a;for(r=0;r<i.length;r++){a=i[r];const v=lo(a);for(let w=0;w<v.length;w++)if((".priority"!==v[w]||w!==v.length-1)&&!cc(v[w]))throw new Error(s+"contains an invalid key ("+v[w]+") in path "+a.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(Rl);let h=null;for(r=0;r<i.length;r++){if(a=i[r],null!==h&&ki(h,a))throw new Error(s+"contains a path "+h.toString()+" that is ancestor of another path "+a.toString());h=a}}(h,v)},yf=function(s,i,r){if(!r||void 0!==i){if(Oi(i))throw new Error((0,K.gK)(s,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!rd(i))throw new Error((0,K.gK)(s,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},sd=function(s,i,r,a){if(!(a&&void 0===r||cc(r)))throw new Error((0,K.gK)(s,i)+'was an invalid key = "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},od=function(s,i,r,a){if(!(a&&void 0===r||_f(r)))throw new Error((0,K.gK)(s,i)+'was an invalid path = "'+r+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},$o=function(s,i){if(".info"===Jt(i))throw new Error(s+" failed = Can't modify data under /.info/")},Ma=function(s,i){const r=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!cc(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==r.length&&!function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),_f(s)}(r))throw new Error((0,K.gK)(s,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class fh{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ad(s,i){let r=null;for(let a=0;a<i.length;a++){const h=i[a],v=h.getPath();null!==r&&!xl(v,r.path)&&(s.eventLists_.push(r),r=null),null===r&&(r={events:[],path:v}),r.events.push(h)}r&&s.eventLists_.push(r)}function ph(s,i,r){ad(s,r),gh(s,a=>xl(a,i))}function Ys(s,i,r){ad(s,r),gh(s,a=>ki(a,i)||ki(i,a))}function gh(s,i){s.recursionDepth_++;let r=!0;for(let a=0;a<s.eventLists_.length;a++){const h=s.eventLists_[a];h&&(i(h.path)?(mh(s.eventLists_[a]),s.eventLists_[a]=null):r=!1)}r&&(s.eventLists_=[]),s.recursionDepth_--}function mh(s){for(let i=0;i<s.events.length;i++){const r=s.events[i];if(null!==r){s.events[i]=null;const a=r.getEventRunner();vo&&Kn("event: "+r.toString()),Wi(a)}}}const vf="repo_interrupt";class Ef{constructor(i,r,a,h){this.repoInfo_=i,this.forceRestClient_=r,this.authTokenProvider_=a,this.appCheckProvider_=h,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fh,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ya(),this.transactionQueueTree_=new _u,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ld(s){const r=s.infoData_.getNode(new kn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+r}function dc(s){return function(s){return(s=s||{}).timestamp=s.timestamp||(new Date).getTime(),s}({timestamp:ld(s)})}function _h(s,i,r,a,h){s.dataUpdateCount++;const v=new kn(i);r=s.interceptServerDataCallback_?s.interceptServerDataCallback_(i,r):r;let w=[];if(h)if(a){const G=(0,K.UI)(r,Y=>Hn(Y));w=function Rp(s,i,r,a){const h=uh(s,a);if(h){const v=an(h),w=v.path,L=v.queryId,G=vi(w,i),Y=Jn.fromObject(r);return Yc(s,w,new el(Hu(L),G,Y))}return[]}(s.serverSyncTree_,v,G,h)}else{const G=Hn(r);w=lf(s.serverSyncTree_,v,G,h)}else if(a){const G=(0,K.UI)(r,Y=>Hn(Y));w=function sf(s,i,r){const a=Jn.fromObject(r);return gu(s,new el({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,a))}(s.serverSyncTree_,v,G)}else{const G=Hn(r);w=Kl(s.serverSyncTree_,v,G)}let L=v;w.length>0&&(L=vu(s,v)),Ys(s.eventQueue_,L,w)}function Cf(s,i){Yl(s,"connected",i),!1===i&&function yu(s){cl(s,"onDisconnectEvents");const i=dc(s),r=Ya();Qa(s.onDisconnect_,Sn(),(h,v)=>{const w=kp(h,v,s.serverSyncTree_,i);qa(r,h,w)});let a=[];Qa(r,Sn(),(h,v)=>{a=a.concat(Kl(s.serverSyncTree_,h,v));const w=Af(s,h);vu(s,w)}),s.onDisconnect_=Ya(),Ys(s.eventQueue_,Sn(),a)}(s)}function Yl(s,i,r){const a=new kn("/.info/"+i),h=Hn(r);s.infoData_.updateSnapshot(a,h);const v=Kl(s.infoSyncTree_,a,h);Ys(s.eventQueue_,a,v)}function Pa(s){return s.nextWriteId_++}function yh(s,i){const r=function xp(s,i){const r=i._path;let a=null;s.syncPointTree_.foreachOnPath(r,(Y,Se)=>{const Oe=vi(Y,r);a=a||Da(Se,Oe)});let h=s.syncPointTree_.get(r);h?a=a||Da(h,Sn()):(h=new rh,s.syncPointTree_=s.syncPointTree_.set(r,h));const v=null!=a,w=v?new sa(a,!0,!1):null;return function Qh(s){return tl(s.viewCache_)}(Gc(h,i,ba(s.pendingWriteTree_,i._path),v?w.getNode():un.EMPTY_NODE,v))}(s.serverSyncTree_,i);return null!=r?Promise.resolve(r):s.server_.get(i).then(a=>{const h=Hn(a).withIndex(i._queryParams.getIndex());if(i._queryParams.loadsAllData())Kl(s.serverSyncTree_,i._path,h);else{const w=function af(s,i){const{syncPoint:r,serverCache:a,writesCache:h,serverCacheComplete:v}=Oo(i,s),w=Gc(r,i,h,a,v);return r.views.has(i._queryIdentifier)||r.views.set(i._queryIdentifier,w),i._queryParams.loadsAllData()?null:oc(s,i)}(s.serverSyncTree_,i);lf(s.serverSyncTree_,i._path,h,w)}return Kc(s.serverSyncTree_,i,null).length>0&&cl(s,"unexpected cancel events in repoGetValue"),h},a=>(cl(s,"get for query "+(0,K.Pz)(i)+" failed: "+a),Promise.reject(new Error(a))))}function ul(s,i,r,a,h){cl(s,"set",{path:i.toString(),value:r,priority:a});const v=dc(s),w=Hn(r,a),L=sc(s.serverSyncTree_,i),G=Jc(w,L,v),Y=Pa(s),Se=ah(s.serverSyncTree_,i,G,Y,!0);ad(s.eventQueue_,Se),s.server_.put(i.toString(),w.val(!0),(Ge,ct)=>{const Et="ok"===Ge;Et||ni("set at "+i+" failed: "+Ge);const Mn=wa(s.serverSyncTree_,Y,!Et);Ys(s.eventQueue_,i,Mn),ql(0,h,Ge,ct)});const Oe=Af(s,i);vu(s,Oe),Ys(s.eventQueue_,Oe,[])}function Bp(s,i,r){s.server_.onDisconnectCancel(i.toString(),(a,h)=>{"ok"===a&&ju(s.onDisconnect_,i),ql(0,r,a,h)})}function vh(s,i,r,a){const h=Hn(r);s.server_.onDisconnectPut(i.toString(),h.val(!0),(v,w)=>{"ok"===v&&qa(s.onDisconnect_,i,h),ql(0,a,v,w)})}function ud(s,i,r){let a;a=".info"===Jt(i._path)?Kc(s.infoSyncTree_,i,r):Kc(s.serverSyncTree_,i,r),ph(s.eventQueue_,i._path,a)}function fc(s){s.persistentConnection_&&s.persistentConnection_.interrupt(vf)}function cl(s,...i){let r="";s.persistentConnection_&&(r=s.persistentConnection_.id+":"),Kn(r,...i)}function ql(s,i,r,a){i&&Wi(()=>{if("ok"===r)i(null);else{const h=(r||"error").toUpperCase();let v=h;a&&(v+=": "+a);const w=new Error(v);w.code=h,i(w)}})}function cd(s,i,r){return sc(s.serverSyncTree_,i,r)||un.EMPTY_NODE}function dd(s,i=s.transactionQueueTree_){if(i||bh(s,i),Aa(i)){const r=wf(s,i);(0,K.hu)(r.length>0,"Sending zero length transaction queue"),r.every(h=>0===h.status)&&function If(s,i,r){const a=r.map(Y=>Y.currentWriteId),h=cd(s,i,a);let v=h;const w=h.hash();for(let Y=0;Y<r.length;Y++){const Se=r[Y];(0,K.hu)(0===Se.status,"tryToSendTransactionQueue_: items in queue should all be run."),Se.status=1,Se.retryCount++;const Oe=vi(i,Se.path);v=v.updateChild(Oe,Se.currentOutputSnapshotRaw)}const L=v.val(!0),G=i;s.server_.put(G.toString(),L,Y=>{cl(s,"transaction put response",{path:G.toString(),status:Y});let Se=[];if("ok"===Y){const Oe=[];for(let Ge=0;Ge<r.length;Ge++)r[Ge].status=2,Se=Se.concat(wa(s.serverSyncTree_,r[Ge].currentWriteId)),r[Ge].onComplete&&Oe.push(()=>r[Ge].onComplete(null,!0,r[Ge].currentOutputSnapshotResolved)),r[Ge].unwatcher();bh(s,Zl(s.transactionQueueTree_,i)),dd(s,s.transactionQueueTree_),Ys(s.eventQueue_,i,Se);for(let Ge=0;Ge<Oe.length;Ge++)Wi(Oe[Ge])}else{if("datastale"===Y)for(let Oe=0;Oe<r.length;Oe++)r[Oe].status=3===r[Oe].status?4:0;else{ni("transaction at "+G.toString()+" failed: "+Y);for(let Oe=0;Oe<r.length;Oe++)r[Oe].status=4,r[Oe].abortReason=Y}vu(s,i)}},w)}(s,uc(i),r)}else Xc(i)&&ed(i,r=>{dd(s,r)})}function vu(s,i){const r=qs(s,i),a=uc(r);return function Hp(s,i,r){if(0===i.length)return;const a=[];let h=[];const w=i.filter(L=>0===L.status).map(L=>L.currentWriteId);for(let L=0;L<i.length;L++){const G=i[L],Y=vi(r,G.path);let Oe,Se=!1;if((0,K.hu)(null!==Y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===G.status)Se=!0,Oe=G.abortReason,h=h.concat(wa(s.serverSyncTree_,G.currentWriteId,!0));else if(0===G.status)if(G.retryCount>=25)Se=!0,Oe="maxretry",h=h.concat(wa(s.serverSyncTree_,G.currentWriteId,!0));else{const Ge=cd(s,G.path,w);G.currentInputSnapshot=Ge;const ct=i[L].update(Ge.val());if(void 0!==ct){id("transaction failed: Data returned ",ct,G.path);let Et=Hn(ct);"object"==typeof ct&&null!=ct&&(0,K.r3)(ct,".priority")||(Et=Et.updatePriority(Ge.getPriority()));const bi=G.currentWriteId,gi=dc(s),Js=Jc(Et,Ge,gi);G.currentOutputSnapshotRaw=Et,G.currentOutputSnapshotResolved=Js,G.currentWriteId=Pa(s),w.splice(w.indexOf(bi),1),h=h.concat(ah(s.serverSyncTree_,G.path,Js,G.currentWriteId,G.applyLocally)),h=h.concat(wa(s.serverSyncTree_,bi,!0))}else Se=!0,Oe="nodata",h=h.concat(wa(s.serverSyncTree_,G.currentWriteId,!0))}Ys(s.eventQueue_,r,h),h=[],Se&&(i[L].status=2,setTimeout(i[L].unwatcher,Math.floor(0)),i[L].onComplete&&a.push("nodata"===Oe?()=>i[L].onComplete(null,!1,i[L].currentInputSnapshot):()=>i[L].onComplete(new Error(Oe),!1,null)))}bh(s,s.transactionQueueTree_);for(let L=0;L<a.length;L++)Wi(a[L]);dd(s,s.transactionQueueTree_)}(s,wf(s,r),a),a}function qs(s,i){let r,a=s.transactionQueueTree_;for(r=Jt(i);null!==r&&void 0===Aa(a);)a=Zl(a,r),r=Jt(i=jn(i));return a}function wf(s,i){const r=[];return Tf(s,i,r),r.sort((a,h)=>a.order-h.order),r}function Tf(s,i,r){const a=Aa(i);if(a)for(let h=0;h<a.length;h++)r.push(a[h]);ed(i,h=>{Tf(s,h,r)})}function bh(s,i){const r=Aa(i);if(r){let a=0;for(let h=0;h<r.length;h++)2!==r[h].status&&(r[a]=r[h],a++);r.length=a,lc(i,r.length>0?r:void 0)}ed(i,a=>{bh(s,a)})}function Af(s,i){const r=uc(qs(s,i)),a=Zl(s.transactionQueueTree_,i);return function Np(s,i,r){let a=r?s:s.parent;for(;null!==a;){if(i(a))return!0;a=a.parent}}(a,h=>{hd(s,h)}),hd(s,a),mf(a,h=>{hd(s,h)}),r}function hd(s,i){const r=Aa(i);if(r){const a=[];let h=[],v=-1;for(let w=0;w<r.length;w++)3===r[w].status||(1===r[w].status?((0,K.hu)(v===w-1,"All SENT items should be at beginning of queue."),v=w,r[w].status=3,r[w].abortReason="set"):((0,K.hu)(0===r[w].status,"Unexpected transaction status in abort"),r[w].unwatcher(),h=h.concat(wa(s.serverSyncTree_,r[w].currentWriteId,!0)),r[w].onComplete&&a.push(r[w].onComplete.bind(null,new Error("set"),!1,null))));-1===v?lc(i,void 0):r.length=v+1,Ys(s.eventQueue_,uc(i),h);for(let w=0;w<a.length;w++)Wi(a[w])}}const pc=function(s,i){const r=Sf(s),a=r.namespace;return"firebase.com"===r.domain&&$i(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||"undefined"===a)&&"localhost"!==r.domain&&$i("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ni("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ie(r.host,r.secure,a,"ws"===r.scheme||"wss"===r.scheme,i,"",a!==r.subdomain),path:new kn(r.pathString)}},Sf=function(s){let i="",r="",a="",h="",v="",w=!0,L="https",G=443;if("string"==typeof s){let Y=s.indexOf("//");Y>=0&&(L=s.substring(0,Y-1),s=s.substring(Y+2));let Se=s.indexOf("/");-1===Se&&(Se=s.length);let Oe=s.indexOf("?");-1===Oe&&(Oe=s.length),i=s.substring(0,Math.min(Se,Oe)),Se<Oe&&(h=function Rm(s){let i="";const r=s.split("/");for(let a=0;a<r.length;a++)if(r[a].length>0){let h=r[a];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch(v){}i+="/"+h}return i}(s.substring(Se,Oe)));const Ge=function $p(s){const i={};"?"===s.charAt(0)&&(s=s.substring(1));for(const r of s.split("&")){if(0===r.length)continue;const a=r.split("=");2===a.length?i[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):ni(`Invalid query segment '${r}' in query '${s}'`)}return i}(s.substring(Math.min(s.length,Oe)));Y=i.indexOf(":"),Y>=0?(w="https"===L||"wss"===L,G=parseInt(i.substring(Y+1),10)):Y=i.length;const ct=i.slice(0,Y);if("localhost"===ct.toLowerCase())r="localhost";else if(ct.split(".").length<=2)r=ct;else{const Et=i.indexOf(".");a=i.substring(0,Et).toLowerCase(),r=i.substring(Et+1),v=a}"ns"in Ge&&(v=Ge.ns)}return{host:i,port:G,domain:r,subdomain:a,secure:w,scheme:L,pathString:h,namespace:v}};class Mf{constructor(i,r,a,h){this.eventType=i,this.eventRegistration=r,this.snapshot=a,this.prevName=h}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,K.Pz)(this.snapshot.exportVal())}}class Pf{constructor(i,r,a){this.eventRegistration=i,this.error=r,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Of{constructor(i,r){this.snapshotCallback=i,this.cancelCallback=r}onValue(i,r){this.snapshotCallback.call(null,i,r)}onCancel(i){return(0,K.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class Dh{constructor(i,r){this._repo=i,this._path=r}cancel(){const i=new K.BH;return Bp(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){$o("OnDisconnect.remove",this._path);const i=new K.BH;return vh(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){$o("OnDisconnect.set",this._path),Sa("OnDisconnect.set",i,this._path,!1);const r=new K.BH;return vh(this._repo,this._path,i,r.wrapCallback(()=>{})),r.promise}setWithPriority(i,r){$o("OnDisconnect.setWithPriority",this._path),Sa("OnDisconnect.setWithPriority",i,this._path,!1),yf("OnDisconnect.setWithPriority",r,!1);const a=new K.BH;return function bf(s,i,r,a,h){const v=Hn(r,a);s.server_.onDisconnectPut(i.toString(),v.val(!0),(w,L)=>{"ok"===w&&qa(s.onDisconnect_,i,v),ql(0,h,w,L)})}(this._repo,this._path,i,r,a.wrapCallback(()=>{})),a.promise}update(i){$o("OnDisconnect.update",this._path),Lp("OnDisconnect.update",i,this._path,!1);const r=new K.BH;return function Eh(s,i,r,a){if((0,K.xb)(r))return Kn("onDisconnect().update() called with empty data.  Don't do anything."),void ql(0,a,"ok",void 0);s.server_.onDisconnectMerge(i.toString(),r,(h,v)=>{"ok"===h&&ur(r,(w,L)=>{const G=Hn(L);qa(s.onDisconnect_,Ir(i,w),G)}),ql(0,a,h,v)})}(this._repo,this._path,i,r.wrapCallback(()=>{})),r.promise}}class Qs{constructor(i,r,a,h){this._repo=i,this._path=r,this._queryParams=a,this._orderByCalled=h}get key(){return hn(this._path)?null:ru(this._path)}get ref(){return new ho(this._repo,this._path)}get _queryIdentifier(){const i=$d(this._queryParams),r=ha(i);return"{}"===r?"default":r}get _queryObject(){return $d(this._queryParams)}isEqual(i){if(!((i=(0,K.m9)(i))instanceof Qs))return!1;const r=this._repo===i._repo,a=xl(this._path,i._path);return r&&a&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ss(s){let i="";for(let r=s.pieceNum_;r<s.pieces_.length;r++)""!==s.pieces_[r]&&(i+="/"+encodeURIComponent(String(s.pieces_[r])));return i||"/"}(this._path)}}function gc(s,i){if(!0===s._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function dl(s){let i=null,r=null;if(s.hasStart()&&(i=s.getIndexStartValue()),s.hasEnd()&&(r=s.getIndexEndValue()),s.getIndex()===Zi){const a="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",h="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(s.hasStart()){if(s.getIndexStartName()!==ws)throw new Error(a);if("string"!=typeof i)throw new Error(h)}if(s.hasEnd()){if(s.getIndexEndName()!==jr)throw new Error(a);if("string"!=typeof r)throw new Error(h)}}else if(s.getIndex()===Tr){if(null!=i&&!rd(i)||null!=r&&!rd(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,K.hu)(s.getIndex()instanceof _a||s.getIndex()===Pc,"unknown index type."),null!=i&&"object"==typeof i||null!=r&&"object"==typeof r)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function fd(s){if(s.hasStart()&&s.hasEnd()&&s.hasLimit()&&!s.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ho extends Qs{constructor(i,r){super(i,r,new ya,!1)}get parent(){const i=os(this._path);return null===i?null:new ho(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class hl{constructor(i,r,a){this._node=i,this.ref=r,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const r=new kn(i),a=Oa(this.ref,i);return new hl(this._node.getChild(r),a,Tr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(a,h)=>i(new hl(h,Oa(this.ref,a),Tr)))}hasChild(i){const r=new kn(i);return!this._node.getChild(r).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Rf(s,i){return(s=(0,K.m9)(s))._checkNotDeleted("ref"),void 0!==i?Oa(s._root,i):s._root}function Wo(s,i){(s=(0,K.m9)(s))._checkNotDeleted("refFromURL");const r=pc(i,s._repo.repoInfo_.nodeAdmin);Ma("refFromURL",r);const a=r.repoInfo;return!s._repo.repoInfo_.isCustomHost()&&a.host!==s._repo.repoInfo_.host&&$i("refFromURL: Host name does not match the current database: (found "+a.host+" but expected "+s._repo.repoInfo_.host+")"),Rf(s,r.path.toString())}function Oa(s,i){return null===Jt((s=(0,K.m9)(s))._path)?(r=i,r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),od("child","path",r,!1)):od("child","path",i,!1),new ho(s._repo,Ir(s._path,i));var r}function pd(s,i){s=(0,K.m9)(s),$o("set",s._path),Sa("set",i,s._path,!1);const r=new K.BH;return ul(s._repo,s._path,i,null,r.wrapCallback(()=>{})),r.promise}function Kp(s,i){Lp("update",i,s._path,!1);const r=new K.BH;return function hc(s,i,r,a){cl(s,"update",{path:i.toString(),value:r});let h=!0;const v=dc(s),w={};if(ur(r,(L,G)=>{h=!1,w[L]=kp(Ir(i,L),Hn(G),s.serverSyncTree_,v)}),h)Kn("update() called with empty data.  Don't do anything."),ql(0,a,"ok",void 0);else{const L=Pa(s),G=function Op(s,i,r,a){!function gs(s,i,r,a){(0,K.hu)(a>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:i,children:r,writeId:a,visible:!0}),s.visibleWrites=nl(s.visibleWrites,i,r),s.lastWriteId=a}(s.pendingWriteTree_,i,r,a);const h=Jn.fromObject(r);return gu(s,new el({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,h))}(s.serverSyncTree_,i,w,L);ad(s.eventQueue_,G),s.server_.merge(i.toString(),r,(Y,Se)=>{const Oe="ok"===Y;Oe||ni("update at "+i+" failed: "+Y);const Ge=wa(s.serverSyncTree_,L,!Oe),ct=Ge.length>0?vu(s,i):i;Ys(s.eventQueue_,ct,Ge),ql(0,a,Y,Se)}),ur(r,Y=>{const Se=Af(s,Ir(i,Y));vu(s,Se)}),Ys(s.eventQueue_,i,[])}}(s._repo,s._path,i,r.wrapCallback(()=>{})),r.promise}class gd{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,r){const a=r._queryParams.getIndex();return new Mf("value",this,new hl(i.snapshotNode,new ho(r._repo,r._path),a))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,r){return this.callbackContext.hasCancelCallback?new Pf(this,i,r):null}matches(i){return i instanceof gd&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class md{constructor(i,r){this.eventType=i,this.callbackContext=r}respondsTo(i){let r="children_added"===i?"child_added":i;return r="children_removed"===r?"child_removed":r,this.eventType===r}createCancelEvent(i,r){return this.callbackContext.hasCancelCallback?new Pf(this,i,r):null}createEvent(i,r){(0,K.hu)(null!=i.childName,"Child events should have a childName.");const a=Oa(new ho(r._repo,r._path),i.childName),h=r._queryParams.getIndex();return new Mf(i.type,this,new hl(i.snapshotNode,a,h),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof md&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function fl(s,i,r,a,h){let v;if("object"==typeof a&&(v=void 0,h=a),"function"==typeof a&&(v=a),h&&h.onlyOnce){const G=r,Y=(Se,Oe)=>{ud(s._repo,s,L),G(Se,Oe)};Y.userCallback=r.userCallback,Y.context=r.context,r=Y}const w=new Of(r,v||void 0),L="value"===i?new gd(w):new md(i,w);return function Ch(s,i,r){let a;a=".info"===Jt(i._path)?uf(s.infoSyncTree_,i,r):uf(s.serverSyncTree_,i,r),ph(s.eventQueue_,i._path,a)}(s._repo,s,L),()=>ud(s._repo,s,L)}function mc(s,i,r,a){return fl(s,"value",i,r,a)}function xf(s,i,r,a){return fl(s,"child_added",i,r,a)}function _d(s,i,r,a){return fl(s,"child_changed",i,r,a)}function yd(s,i,r,a){return fl(s,"child_moved",i,r,a)}function wh(s,i,r,a){return fl(s,"child_removed",i,r,a)}function Zp(s,i,r){let a=null;const h=r?new Of(r):null;"value"===i?a=new gd(h):i&&(a=new md(i,h)),ud(s._repo,s,a)}class aa{}class vd extends aa{constructor(i,r){super(),this._value=i,this._key=r}_apply(i){Sa("endAt",this._value,i._path,!0);const r=va(i._queryParams,this._value,this._key);if(fd(r),dl(r),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qs(i._repo,i._path,r,i._orderByCalled)}}class Yp extends aa{constructor(i,r){super(),this._value=i,this._key=r}_apply(i){Sa("endBefore",this._value,i._path,!1);const r=function Bu(s,i,r){let a,h;return s.index_===Zi?("string"==typeof i&&(i=Rc(i)),h=va(s,i,r)):(a=null==r?ws:Rc(r),h=va(s,i,a)),h.endBeforeSet_=!0,h}(i._queryParams,this._value,this._key);if(fd(r),dl(r),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qs(i._repo,i._path,r,i._orderByCalled)}}class Th extends aa{constructor(i,r){super(),this._value=i,this._key=r}_apply(i){Sa("startAt",this._value,i._path,!0);const r=Lc(i._queryParams,this._value,this._key);if(fd(r),dl(r),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qs(i._repo,i._path,r,i._orderByCalled)}}class Ff extends aa{constructor(i,r){super(),this._value=i,this._key=r}_apply(i){Sa("startAfter",this._value,i._path,!1);const r=function Yh(s,i,r){let a;if(s.index_===Zi)"string"==typeof i&&(i=Vu(i)),a=Lc(s,i,r);else{let h;h=null==r?jr:Vu(r),a=Lc(s,i,h)}return a.startAfterSet_=!0,a}(i._queryParams,this._value,this._key);if(fd(r),dl(r),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qs(i._repo,i._path,r,i._orderByCalled)}}class Ra extends aa{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qs(i._repo,i._path,function Nc(s,i){const r=s.copy();return r.limitSet_=!0,r.limit_=i,r.viewFrom_="l",r}(i._queryParams,this._limit),i._orderByCalled)}}class qp extends aa{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qs(i._repo,i._path,function Fc(s,i){const r=s.copy();return r.limitSet_=!0,r.limit_=i,r.viewFrom_="r",r}(i._queryParams,this._limit),i._orderByCalled)}}class Fm extends aa{constructor(i){super(),this._path=i}_apply(i){gc(i,"orderByChild");const r=new kn(this._path);if(hn(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const a=new _a(r),h=Za(i._queryParams,a);return dl(h),new Qs(i._repo,i._path,h,!0)}}class Vf extends aa{_apply(i){gc(i,"orderByKey");const r=Za(i._queryParams,Zi);return dl(r),new Qs(i._repo,i._path,r,!0)}}class _c extends aa{_apply(i){gc(i,"orderByPriority");const r=Za(i._queryParams,Tr);return dl(r),new Qs(i._repo,i._path,r,!0)}}class Mh extends aa{_apply(i){gc(i,"orderByValue");const r=Za(i._queryParams,Pc);return dl(r),new Qs(i._repo,i._path,r,!0)}}class Bf extends aa{constructor(i,r){super(),this._value=i,this._key=r}_apply(i){if(Sa("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new vd(this._value,this._key)._apply(new Th(this._value,this._key)._apply(i))}}function Go(s,...i){let r=(0,K.m9)(s);for(const a of i)r=a._apply(r);return r}(function tf(s){(0,K.hu)(!oa,"__referenceConstructor has already been defined"),oa=s})(ho),function sh(s){(0,K.hu)(!rc,"__referenceConstructor has already been defined"),rc=s}(ho);const Oh={};function Ql(s,i,r,a,h){let v=a||s.options.databaseURL;void 0===v&&(s.options.projectId||$i("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Kn("Using default host for project ",s.options.projectId),v=`${s.options.projectId}-default-rtdb.firebaseio.com`);let G,Y,w=pc(v,h),L=w.repoInfo;"undefined"!=typeof process&&process.env&&(Y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Y?(G=!0,v=`http://${Y}?ns=${L.namespace}`,w=pc(v,h),L=w.repoInfo):G=!w.repoInfo.secure;const Se=h&&G?new $s($s.OWNER):new Xo(s.name,s.options,i);Ma("Invalid Firebase Database URL",w),hn(w.path)||$i("Database URL must point to the root of a Firebase Database (not including a child path).");const Oe=function Xp(s,i,r,a){let h=Oh[i.name];h||(h={},Oh[i.name]=h);let v=h[s.toURLString()];return v&&$i("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),v=new Ef(s,false,r,a),h[s.toURLString()]=v,v}(L,s,Se,new Ba(s.name,r));return new Eu(Oe,s)}class Eu{constructor(i,r){this._repoInternal=i,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Vp(s,i,r){if(s.stats_=An(s.repoInfo_),s.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)s.server_=new Ul(s.repoInfo_,(a,h,v,w)=>{_h(s,a,h,v,w)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Cf(s,!0),0);else{if(null!=r){if("object"!=typeof r)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,K.Pz)(r)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new wr(s.repoInfo_,i,(a,h,v,w)=>{_h(s,a,h,v,w)},a=>{Cf(s,a)},a=>{!function Up(s,i){ur(i,(r,a)=>{Yl(s,r,a)})}(s,a)},s.authTokenProvider_,s.appCheckProvider_,r),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=function cr(s,i){const r=s.toString();return Dn[r]||(Dn[r]=i()),Dn[r]}(s.repoInfo_,()=>new Gd(s.stats_,s.server_)),s.infoData_=new Vc,s.infoSyncTree_=new oh({startListening:(a,h,v,w)=>{let L=[];const G=s.infoData_.getNode(a._path);return G.isEmpty()||(L=Kl(s.infoSyncTree_,a._path,G),setTimeout(()=>{w("ok")},0)),L},stopListening:()=>{}}),Yl(s,"connected",!1),s.serverSyncTree_=new oh({startListening:(a,h,v,w)=>(s.server_.listen(a,v,h,(L,G)=>{const Y=w(L,G);Ys(s.eventQueue_,a._path,Y)}),[]),stopListening:(a,h)=>{s.server_.unlisten(a,h)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ho(this._repo,Sn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Wf(s,i){const r=Oh[i];(!r||r[s.key]!==s)&&$i(`Database ${i}(${s.repoInfo_}) has already been deleted.`),fc(s),delete r[s.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&$i("Cannot call "+i+" on a deleted database.")}}function Gf(){Tl.IS_TRANSPORT_INITIALIZED&&ni("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function tg(){Gf(),na.forceDisallow()}function ng(){Gf(),Gs.forceDisallow(),na.forceAllow()}function Kf(s,i){js(s,i)}const Yf={".sv":"timestamp"};class sg{constructor(i,r){this.committed=i,this.snapshot=r}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}wr.prototype.simpleListen=function(s,i){this.sendRequest("q",{p:s},i)},wr.prototype.echo=function(s,i){this.sendRequest("echo",{d:s},i)},function Zf(s){Bs(Vs.SDK_VERSION),(0,Vs._registerComponent)(new Ls.wA("database",(i,{instanceIdentifier:r})=>Ql(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),r),"PUBLIC").setMultipleInstances(!0)),(0,Vs.registerVersion)(Us,"0.13.3",s),(0,Vs.registerVersion)(Us,"0.13.3","esm2017")}();const ug=new Qo.Yd("@firebase/database-compat"),cg=function(s){ug.warn("FIREBASE WARNING: "+s)};class dg{constructor(i){this._delegate=i}cancel(i){(0,K.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,K.Wj)("OnDisconnect.cancel","onComplete",i,!0);const r=this._delegate.cancel();return i&&r.then(()=>i(null),a=>i(a)),r}remove(i){(0,K.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,K.Wj)("OnDisconnect.remove","onComplete",i,!0);const r=this._delegate.remove();return i&&r.then(()=>i(null),a=>i(a)),r}set(i,r){(0,K.Dv)("OnDisconnect.set",1,2,arguments.length),(0,K.Wj)("OnDisconnect.set","onComplete",r,!0);const a=this._delegate.set(i);return r&&a.then(()=>r(null),h=>r(h)),a}setWithPriority(i,r,a){(0,K.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,K.Wj)("OnDisconnect.setWithPriority","onComplete",a,!0);const h=this._delegate.setWithPriority(i,r);return a&&h.then(()=>a(null),v=>a(v)),h}update(i,r){if((0,K.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const h={};for(let v=0;v<i.length;++v)h[""+v]=i[v];i=h,cg("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,K.Wj)("OnDisconnect.update","onComplete",r,!0);const a=this._delegate.update(i);return r&&a.then(()=>r(null),h=>r(h)),a}}class Qf{constructor(i,r){this.committed=i,this.snapshot=r}toJSON(){return(0,K.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class xa{constructor(i,r){this._database=i,this._delegate=r}val(){return(0,K.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,K.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,K.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,K.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,K.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),od("DataSnapshot.child","path",i,!1),new xa(this._database,this._delegate.child(i))}hasChild(i){return(0,K.Dv)("DataSnapshot.hasChild",1,1,arguments.length),od("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,K.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,K.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,K.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(r=>i(new xa(this._database,r)))}hasChildren(){return(0,K.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,K.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,K.Dv)("DataSnapshot.ref",0,0,arguments.length),new ii(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ms{constructor(i,r){this.database=i,this._delegate=r}on(i,r,a,h){var v;(0,K.Dv)("Query.on",2,4,arguments.length),(0,K.Wj)("Query.on","callback",r,!1);const w=ms.getCancelAndContextArgs_("Query.on",a,h),L=(Y,Se)=>{r.call(w.context,new xa(this.database,Y),Se)};L.userCallback=r,L.context=w.context;const G=null===(v=w.cancel)||void 0===v?void 0:v.bind(w.context);switch(i){case"value":return mc(this._delegate,L,G),r;case"child_added":return xf(this._delegate,L,G),r;case"child_removed":return wh(this._delegate,L,G),r;case"child_changed":return _d(this._delegate,L,G),r;case"child_moved":return yd(this._delegate,L,G),r;default:throw new Error((0,K.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,r,a){if((0,K.Dv)("Query.off",0,3,arguments.length),function(s,i,r){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,K.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,K.Wj)("Query.off","callback",r,!0),(0,K.lb)("Query.off","context",a,!0),r){const h=()=>{};h.userCallback=r,h.context=a,Zp(this._delegate,i,h)}else Zp(this._delegate,i)}get(){return function Ih(s){return yh((s=(0,K.m9)(s))._repo,s).then(i=>new hl(i,new ho(s._repo,s._path),s._queryParams.getIndex()))}(this._delegate).then(i=>new xa(this.database,i))}once(i,r,a,h){(0,K.Dv)("Query.once",1,4,arguments.length),(0,K.Wj)("Query.once","callback",r,!0);const v=ms.getCancelAndContextArgs_("Query.once",a,h),w=new K.BH,L=(Y,Se)=>{const Oe=new xa(this.database,Y);r&&r.call(v.context,Oe,Se),w.resolve(Oe)};L.userCallback=r,L.context=v.context;const G=Y=>{v.cancel&&v.cancel.call(v.context,Y),w.reject(Y)};switch(i){case"value":mc(this._delegate,L,G,{onlyOnce:!0});break;case"child_added":xf(this._delegate,L,G,{onlyOnce:!0});break;case"child_removed":wh(this._delegate,L,G,{onlyOnce:!0});break;case"child_changed":_d(this._delegate,L,G,{onlyOnce:!0});break;case"child_moved":yd(this._delegate,L,G,{onlyOnce:!0});break;default:throw new Error((0,K.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return w.promise}limitToFirst(i){return(0,K.Dv)("Query.limitToFirst",1,1,arguments.length),new ms(this.database,Go(this._delegate,function Ed(s){if("number"!=typeof s||Math.floor(s)!==s||s<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ra(s)}(i)))}limitToLast(i){return(0,K.Dv)("Query.limitToLast",1,1,arguments.length),new ms(this.database,Go(this._delegate,function Qp(s){if("number"!=typeof s||Math.floor(s)!==s||s<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new qp(s)}(i)))}orderByChild(i){return(0,K.Dv)("Query.orderByChild",1,1,arguments.length),new ms(this.database,Go(this._delegate,function Ah(s){if("$key"===s)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===s)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===s)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return od("orderByChild","path",s,!1),new Fm(s)}(i)))}orderByKey(){return(0,K.Dv)("Query.orderByKey",0,0,arguments.length),new ms(this.database,Go(this._delegate,function Sh(){return new Vf}()))}orderByPriority(){return(0,K.Dv)("Query.orderByPriority",0,0,arguments.length),new ms(this.database,Go(this._delegate,function Jp(){return new _c}()))}orderByValue(){return(0,K.Dv)("Query.orderByValue",0,0,arguments.length),new ms(this.database,Go(this._delegate,function Uf(){return new Mh}()))}startAt(i=null,r){return(0,K.Dv)("Query.startAt",0,2,arguments.length),new ms(this.database,Go(this._delegate,function Nf(s=null,i){return sd("startAt","key",i,!0),new Th(s,i)}(i,r)))}startAfter(i=null,r){return(0,K.Dv)("Query.startAfter",0,2,arguments.length),new ms(this.database,Go(this._delegate,function Lf(s,i){return sd("startAfter","key",i,!0),new Ff(s,i)}(i,r)))}endAt(i=null,r){return(0,K.Dv)("Query.endAt",0,2,arguments.length),new ms(this.database,Go(this._delegate,function Nm(s,i){return sd("endAt","key",i,!0),new vd(s,i)}(i,r)))}endBefore(i=null,r){return(0,K.Dv)("Query.endBefore",0,2,arguments.length),new ms(this.database,Go(this._delegate,function kf(s,i){return sd("endBefore","key",i,!0),new Yp(s,i)}(i,r)))}equalTo(i,r){return(0,K.Dv)("Query.equalTo",1,2,arguments.length),new ms(this.database,Go(this._delegate,function jf(s,i){return sd("equalTo","key",i,!0),new Bf(s,i)}(i,r)))}toString(){return(0,K.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,K.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,K.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof ms))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,r,a){const h={cancel:void 0,context:void 0};if(r&&a)h.cancel=r,(0,K.Wj)(i,"cancel",h.cancel,!0),h.context=a,(0,K.lb)(i,"context",h.context,!0);else if(r)if("object"==typeof r&&null!==r)h.context=r;else{if("function"!=typeof r)throw new Error((0,K.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");h.cancel=r}return h}get ref(){return new ii(this.database,new ho(this._delegate._repo,this._delegate._path))}}class ii extends ms{constructor(i,r){super(i,new Qs(r._repo,r._path,new ya,!1)),this.database=i,this._delegate=r}getKey(){return(0,K.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,K.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new ii(this.database,Oa(this._delegate,i))}getParent(){(0,K.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new ii(this.database,i):null}getRoot(){return(0,K.Dv)("Reference.root",0,0,arguments.length),new ii(this.database,this._delegate.root)}set(i,r){(0,K.Dv)("Reference.set",1,2,arguments.length),(0,K.Wj)("Reference.set","onComplete",r,!0);const a=pd(this._delegate,i);return r&&a.then(()=>r(null),h=>r(h)),a}update(i,r){if((0,K.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const h={};for(let v=0;v<i.length;++v)h[""+v]=i[v];i=h,cg("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}$o("Reference.update",this._delegate._path),(0,K.Wj)("Reference.update","onComplete",r,!0);const a=Kp(this._delegate,i);return r&&a.then(()=>r(null),h=>r(h)),a}setWithPriority(i,r,a){(0,K.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,K.Wj)("Reference.setWithPriority","onComplete",a,!0);const h=function zp(s,i,r){if($o("setWithPriority",s._path),Sa("setWithPriority",i,s._path,!1),yf("setWithPriority",r,!1),".length"===s.key||".keys"===s.key)throw"setWithPriority failed: "+s.key+" is a read-only object.";const a=new K.BH;return ul(s._repo,s._path,i,r,a.wrapCallback(()=>{})),a.promise}(this._delegate,i,r);return a&&h.then(()=>a(null),v=>a(v)),h}remove(i){(0,K.Dv)("Reference.remove",0,1,arguments.length),(0,K.Wj)("Reference.remove","onComplete",i,!0);const r=function km(s){return $o("remove",s._path),pd(s,null)}(this._delegate);return i&&r.then(()=>i(null),a=>i(a)),r}transaction(i,r,a){(0,K.Dv)("Reference.transaction",1,3,arguments.length),(0,K.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,K.Wj)("Reference.transaction","onComplete",r,!0),function(s,i,r,a){if(void 0!==r&&"boolean"!=typeof r)throw new Error((0,K.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,a);const h=function og(s,i,r){var a;if(s=(0,K.m9)(s),$o("Reference.transaction",s._path),".length"===s.key||".keys"===s.key)throw"Reference.transaction failed: "+s.key+" is a read-only object.";const h=null===(a=null==r?void 0:r.applyLocally)||void 0===a||a,v=new K.BH,L=mc(s,()=>{});return function Df(s,i,r,a,h,v){cl(s,"transaction on "+i);const w={path:i,update:r,onComplete:a,status:null,order:Cl(),applyLocally:v,retryCount:0,unwatcher:h,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},L=cd(s,i,void 0);w.currentInputSnapshot=L;const G=w.update(L.val());if(void 0===G)w.unwatcher(),w.currentOutputSnapshotRaw=null,w.currentOutputSnapshotResolved=null,w.onComplete&&w.onComplete(null,!1,w.currentInputSnapshot);else{id("transaction failed: Data returned ",G,w.path),w.status=0;const Y=Zl(s.transactionQueueTree_,i),Se=Aa(Y)||[];let Oe;Se.push(w),lc(Y,Se),"object"==typeof G&&null!==G&&(0,K.r3)(G,".priority")?(Oe=(0,K.DV)(G,".priority"),(0,K.hu)(rd(Oe),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Oe=(sc(s.serverSyncTree_,i)||un.EMPTY_NODE).getPriority().val();const Ge=dc(s),ct=Hn(G,Oe),Et=Jc(ct,L,Ge);w.currentOutputSnapshotRaw=ct,w.currentOutputSnapshotResolved=Et,w.currentWriteId=Pa(s);const Mn=ah(s.serverSyncTree_,i,Et,w.currentWriteId,w.applyLocally);Ys(s.eventQueue_,i,Mn),dd(s,s.transactionQueueTree_)}}(s._repo,s._path,i,(G,Y,Se)=>{let Oe=null;G?v.reject(G):(Oe=new hl(Se,new ho(s._repo,s._path),Tr),v.resolve(new sg(Y,Oe)))},L,h),v.promise}(this._delegate,i,{applyLocally:a}).then(v=>new Qf(v.committed,new xa(this.database,v.snapshot)));return r&&h.then(v=>r(null,v.committed,v.snapshot),v=>r(v,!1,null)),h}setPriority(i,r){(0,K.Dv)("Reference.setPriority",1,2,arguments.length),(0,K.Wj)("Reference.setPriority","onComplete",r,!0);const a=function Gp(s,i){s=(0,K.m9)(s),$o("setPriority",s._path),yf("setPriority",i,!1);const r=new K.BH;return ul(s._repo,Ir(s._path,".priority"),i,null,r.wrapCallback(()=>{})),r.promise}(this._delegate,i);return r&&a.then(()=>r(null),h=>r(h)),a}push(i,r){(0,K.Dv)("Reference.push",0,2,arguments.length),(0,K.Wj)("Reference.push","onComplete",r,!0);const a=function Wp(s,i){s=(0,K.m9)(s),$o("push",s._path),Sa("push",i,s._path,!0);const r=ld(s._repo),a=Lu(r),h=Oa(s,a),v=Oa(s,a);let w;return w=null!=i?pd(v,i).then(()=>v):Promise.resolve(v),h.then=w.then.bind(w),h.catch=w.then.bind(w,void 0),h}(this._delegate,i),h=a.then(w=>new ii(this.database,w));r&&h.then(()=>r(null),w=>r(w));const v=new ii(this.database,a);return v.then=h.then.bind(h),v.catch=h.catch.bind(h,void 0),v}onDisconnect(){return $o("Reference.onDisconnect",this._delegate._path),new dg(new Dh(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Cd{constructor(i,r){this._delegate=i,this.app=r,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:tg,forceLongPolling:ng}}useEmulator(i,r,a={}){!function la(s,i,r,a={}){(s=(0,K.m9)(s))._checkNotDeleted("useEmulator"),s._instanceStarted&&$i("Cannot call useEmulator() after instance has already been initialized.");const h=s._repoInternal;let v;if(h.repoInfo_.nodeAdmin)a.mockUserToken&&$i('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),v=new $s($s.OWNER);else if(a.mockUserToken){const w="string"==typeof a.mockUserToken?a.mockUserToken:(0,K.Sg)(a.mockUserToken,s.app.options.projectId);v=new $s(w)}!function $f(s,i,r,a){s.repoInfo_=new ie(`${i}:${r}`,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams),a&&(s.authTokenProvider_=a)}(h,i,r,v)}(this._delegate,i,r,a)}ref(i){if((0,K.Dv)("database.ref",0,1,arguments.length),i instanceof ii){const r=Wo(this._delegate,i.toString());return new ii(this,r)}{const r=Rf(this._delegate,i);return new ii(this,r)}}refFromURL(i){(0,K.Dv)("database.refFromURL",1,1,arguments.length);const a=Wo(this._delegate,i);return new ii(this,a)}goOffline(){return(0,K.Dv)("database.goOffline",0,0,arguments.length),function Rh(s){(s=(0,K.m9)(s))._checkNotDeleted("goOffline"),fc(s._repo)}(this._delegate)}goOnline(){return(0,K.Dv)("database.goOnline",0,0,arguments.length),function zf(s){(s=(0,K.m9)(s))._checkNotDeleted("goOnline"),function jp(s){s.persistentConnection_&&s.persistentConnection_.resume(vf)}(s._repo)}(this._delegate)}}Cd.ServerValue={TIMESTAMP:function rg(){return Yf}(),increment:s=>function ig(s){return{".sv":{increment:s}}}(s)};var Jf=Object.freeze({__proto__:null,initStandalone:function Um({app:s,url:i,version:r,customAuthImpl:a,namespace:h,nodeAdmin:v=!1}){Bs(r);const w=new Ls.zt("auth-internal",new Ls.H0("database-standalone"));return w.setComponent(new Ls.wA("auth-internal",()=>a,"PRIVATE")),{instance:new Cd(Ql(s,w,void 0,i,v),s),namespace:h}}});const Xf=Cd.ServerValue;!function ep(s){s.INTERNAL.registerComponent(new Ls.wA("database-compat",(i,{instanceIdentifier:r})=>{const a=i.getProvider("app-compat").getImmediate(),h=i.getProvider("database").getImmediate({identifier:r});return new Cd(h,a)},"PUBLIC").setServiceProps({Reference:ii,Query:ms,Database:Cd,DataSnapshot:xa,enableLogging:Kf,INTERNAL:Jf,ServerValue:Xf}).setMultipleInstances(!0)),s.registerVersion("@firebase/database-compat","0.2.3")}(qo.Z);var hg=k(440),Bm=k(127);function np(s){return null==s}function bd(s){return"function"==typeof s.set}function rp(s,i){return bd(i)?i:s.ref(i)}function ip(s,i){if(function tp(s){return"string"==typeof s}(s))return i.stringCase();if(bd(s))return i.firebaseCase();if(function kh(s){return"function"==typeof s.exportVal}(s))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof s)}function yc(s,i,r="on",a=Ln.z){return new nn.y(h=>{let v=null;return v=s[r](i,(w,L)=>{a.schedule(()=>{h.next({snapshot:w,prevKey:L})}),"once"===r&&a.schedule(()=>h.complete())},w=>{a.schedule(()=>h.error(w))}),"on"===r?{unsubscribe(){null!=v&&s.off(i,v)}}:{unsubscribe(){}}}).pipe((0,vn.U)(h=>{const{snapshot:v,prevKey:w}=h;let L=null;return v.exists()&&(L=v.key),{type:i,payload:v,prevKey:w,key:L}}),(0,Fs.B)())}function sp(s,i){const r=s.length;for(let a=0;a<r;a++)if(s[a].payload.key===i)return a;return-1}function Dd(s,i){const{payload:r,prevKey:a,key:h}=i,v=sp(s,h),w=function pg(s,i){if(np(i))return 0;{const r=sp(s,i);return-1===r?s.length:r+1}}(s,a);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let L=null;i.payload.forEach(G=>{const Y={payload:G,type:"value",prevKey:L,key:G.key};return L=G.key,s=[...s,Y],!1})}return s;case"child_added":if(v>-1){const L=s[v-1];(L&&L.key||null)!==a&&(s=s.filter(G=>G.payload.key!==r.key)).splice(w,0,i)}else{if(null==a)return[i,...s];(s=s.slice()).splice(w,0,i)}return s;case"child_removed":return s.filter(L=>L.payload.key!==r.key);case"child_changed":return s.map(L=>L.payload.key===h?i:L);case"child_moved":if(v>-1){const L=s.splice(v,1)[0];return(s=s.slice()).splice(w,0,L),s}return s;default:return s}}function Jl(s){return(np(s)||0===s.length)&&(s=["child_added","child_removed","child_changed","child_moved"]),s}function op(s,i,r){return function fg(s,i,r){return yc(s,"value","once",r).pipe((0,Yn.w)(a=>{const h=[(0,Fi.of)(a)];return i.forEach(v=>h.push(yc(s,v,"on",r))),(0,xo.T)(...h).pipe((0,Mi.R)(Dd,[]))}),(0,ca.x)())}(s,i=Jl(i),r)}function Cu(s,i,r){const a=(i=Jl(i)).map(h=>yc(s,h,"on",r));return(0,xo.T)(...a)}function zo(s,i){return function(a,h){return ip(a,{stringCase:()=>s.child(a)[i](h),firebaseCase:()=>a[i](h),snapshotCase:()=>a.ref[i](h)})}}function vc(s){return function(r){return r?ip(r,{stringCase:()=>s.child(r).remove(),firebaseCase:()=>r.remove(),snapshotCase:()=>r.ref.remove()}):s.remove()}}function pl(s,i){return function(){return yc(s,"value","on",i)}}const Ro=new M.OlP("angularfire2.realtimeDatabaseURL"),Fh=new M.OlP("angularfire2.database.use-emulator");let bu=(()=>{class s{constructor(r,a,h,v,w,L,G,Y,Se,Oe,Ge,ct,Et,Mn,bi){this.schedulers=L;const gi=G,Js=(0,Br.on)(r,w,a);Y&&(0,xr.nw)(Js,w,Se,Ge,ct,Et,Oe,Mn),this.database=(0,Br.cc)(`${Js.name}.database.${h}`,"AngularFireDatabase",Js.name,()=>{const gl=w.runOutsideAngular(()=>Js.database(h||void 0));return gi&&gl.useEmulator(...gi),gl},[gi])}list(r,a){const h=this.schedulers.ngZone.runOutsideAngular(()=>rp(this.database,r));let v=h;return a&&(v=a(h)),function _s(s,i){const r=i.schedulers.outsideAngular,a=i.schedulers.ngZone.run(()=>s.ref);return{query:s,update:zo(a,"update"),set:zo(a,"set"),push:h=>a.push(h),remove:vc(a),snapshotChanges:h=>op(s,h,r).pipe(Pi.iC),stateChanges:h=>Cu(s,h,r).pipe(Pi.iC),auditTrail:h=>function gg(s,i,r){return function Nh(s,i,r){return function mg(s,i){return yc(s,"value","on",i).pipe((0,vn.U)(r=>{let a;return r.payload.forEach(h=>(a=h.key,!1)),{data:r,lastKeyToLoad:a}}))}(s,r).pipe(function da(...s){const i=(0,Yo.jO)(s);return(0,Mr.e)((r,a)=>{const h=s.length,v=new Array(h);let w=s.map(()=>!1),L=!1;for(let G=0;G<h;G++)(0,bt.Xf)(s[G]).subscribe((0,rr.x)(a,Y=>{v[G]=Y,!L&&!w[G]&&(w[G]=!0,(L=w.every(Zo.y))&&(w=null))},mn.Z));r.subscribe((0,rr.x)(a,G=>{if(L){const Y=[G,...v];a.next(i?i(...Y):Y)}}))})}(i),(0,vn.U)(([h,v])=>{const w=h.lastKeyToLoad,L=v.map(G=>G.key);return{actions:v,lastKeyToLoad:w,loadedKeys:L}}),function ko(s){return(0,Mr.e)((i,r)=>{let a=!1,h=0;i.subscribe((0,rr.x)(r,v=>(a||(a=!s(v,h++)))&&r.next(v)))})}(h=>-1===h.loadedKeys.indexOf(h.lastKeyToLoad)),(0,vn.U)(h=>h.actions))}(s,Cu(s,i).pipe((0,Mi.R)((h,v)=>[...h,v],[])),r)}(s,h,r).pipe(Pi.iC),valueChanges:(h,v)=>op(s,h,r).pipe((0,vn.U)(L=>L.map(G=>v&&v.idField?Object.assign(Object.assign({},G.payload.val()),{[v.idField]:G.key}):G.payload.val())),Pi.iC)}}(v,this)}object(r){return function Id(s,i){return{query:s,snapshotChanges:()=>pl(s,i.schedulers.outsideAngular)().pipe(Pi.iC),update:r=>s.ref.update(r),set:r=>s.ref.set(r),remove:()=>s.ref.remove(),valueChanges:()=>pl(s,i.schedulers.outsideAngular)().pipe(Pi.iC,(0,vn.U)(a=>a.payload.exists()?a.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>rp(this.database,r)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return s.\u0275fac=function(r){return new(r||s)(M.LFG(Br.Dh),M.LFG(Br.xv,8),M.LFG(Ro,8),M.LFG(M.Lbi),M.LFG(M.R0b),M.LFG(Pi.HU),M.LFG(Fh,8),M.LFG(xr.zQ,8),M.LFG(xr.Qv,8),M.LFG(xr.L6,8),M.LFG(xr._Q,8),M.LFG(xr.rT,8),M.LFG(xr.lh,8),M.LFG(xr.f7,8),M.LFG(hg.nm,8))},s.\u0275prov=M.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),Du=(()=>{class s{constructor(){Bm.Z.registerVersion("angularfire",Pi.q4.full,"rtdb-compat")}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=M.oAB({type:s}),s.\u0275inj=M.cJS({providers:[bu]}),s})();const Xl_firebase={projectId:"angular-pokedex-dff1f",appId:"1:174603308728:web:0a92903de30bc2b2e7ee4d",databaseURL:"https://angular-pokedex-dff1f-default-rtdb.firebaseio.com",storageBucket:"angular-pokedex-dff1f.appspot.com",apiKey:"AIzaSyApHiRBNx91xUcmS65By9KKQq-qBjSjV3w",authDomain:"angular-pokedex-dff1f.firebaseapp.com",messagingSenderId:"174603308728",measurementId:"G-GBNQ0GVCC1"};var Iu=k(8583);const wu=[{path:"auth",children:[{path:"",pathMatch:"full",redirectTo:"login"},{path:"register",loadChildren:()=>Promise.all([k.e(592),k.e(826)]).then(k.bind(k,9826)).then(s=>s.RegisterModule)},{path:"login",loadChildren:()=>Promise.all([k.e(592),k.e(168)]).then(k.bind(k,9168)).then(s=>s.LoginModule)}]}];let Tu=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=M.oAB({type:s}),s.\u0275inj=M.cJS({imports:[[tr,Gn.Bz.forChild(wu),Br.hO.initializeApp(Xl_firebase),xr.ww,Du,Iu.m.forRoot()]]}),s})(),Au=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=M.oAB({type:s,bootstrap:[Vr]}),s.\u0275inj=M.cJS({providers:[],imports:[[f.ez,tr,Zt,Ns,Tu]]}),s})();(0,M.G48)(),fn().bootstrapModule(Au).catch(s=>console.error(s))},5867:(st,Ie,k)=>{k.d(Ie,{C6:()=>f.getApps,Mq:()=>f.getApp});var f=k(9681);(0,f.registerVersion)("firebase","9.9.1","app")},127:(st,Ie,k)=>{k.d(Ie,{Z:()=>f.Z});var f=k(3942);f.Z.registerVersion("firebase","9.9.1","app-compat")},1451:(st,Ie,k)=>{k.r(Ie);var f=k(5861),M=k(3942),z=k(2090),le=k(9681),ce=k(655),pe=k(1877),be=k(4859);const je=function Je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},et=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ae=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tt=new pe.Yd("@firebase/auth");function ut(p,...u){tt.logLevel<=pe.in.ERROR&&tt.error(`Auth (${le.SDK_VERSION}): ${p}`,...u)}function He(p,...u){throw rt(p,...u)}function De(p,...u){return rt(p,...u)}function Fe(p,u,c){const _=Object.assign(Object.assign({},et()),{[u]:c});return new z.LL("auth","Firebase",_).create(u,{appName:p.name})}function nt(p,u,c){if(!(u instanceof c))throw c.name!==u.constructor.name&&He(p,"argument-error"),Fe(p,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rt(p,...u){if("string"!=typeof p){const c=u[0],_=[...u.slice(1)];return _[0]&&(_[0].appName=p.name),p._errorFactory.create(c,..._)}return Ae.create(p,...u)}function ne(p,u,...c){if(!p)throw rt(u,...c)}function Le(p){const u="INTERNAL ASSERTION FAILED: "+p;throw ut(u),new Error(u)}function de(p,u){p||Le(u)}const ye=new Map;function Ce(p){de(p instanceof Function,"Expected a class definition");let u=ye.get(p);return u?(de(u instanceof p,"Instance stored in cache mismatched with class"),u):(u=new p,ye.set(p,u),u)}function Xe(){var p;return"undefined"!=typeof self&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function ot(){return"http:"===Dt()||"https:"===Dt()}function Dt(){var p;return"undefined"!=typeof self&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class Bt{constructor(u,c){this.shortDelay=u,this.longDelay=c,de(c>u,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function lt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ot()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zt(p,u){de(p.emulator,"Emulator should always be set here");const{url:c}=p.emulator;return u?`${c}${u.startsWith("/")?u.slice(1):u}`:c}class Rt{static initialize(u,c,_){this.fetchImpl=u,c&&(this.headersImpl=c),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ct={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},jt=new Bt(3e4,6e4);function kt(p,u){return p.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:p.tenantId}):u}function Ut(p,u,c,_){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,f.Z)(function*(p,u,c,_,N={}){return On(p,N,(0,f.Z)(function*(){let $={},fe={};_&&("GET"===u?fe=_:$={body:JSON.stringify(_)});const ke=(0,z.xO)(Object.assign({key:p.config.apiKey},fe)).slice(1),dt=yield p._getAdditionalHeaders();return dt["Content-Type"]="application/json",p.languageCode&&(dt["X-Firebase-Locale"]=p.languageCode),Rt.fetch()(_r(p,p.config.apiHost,c,ke),Object.assign({method:u,headers:dt,referrerPolicy:"no-referrer"},$))}))})).apply(this,arguments)}function On(p,u,c){return $n.apply(this,arguments)}function $n(){return($n=(0,f.Z)(function*(p,u,c){p._canInitEmulator=!1;const _=Object.assign(Object.assign({},Ct),u);try{const N=new tr(p),$=yield Promise.race([c(),N.promise]);N.clearNetworkTimeout();const fe=yield $.json();if("needConfirmation"in fe)throw Nr(p,"account-exists-with-different-credential",fe);if($.ok&&!("errorMessage"in fe))return fe;{const ke=$.ok?fe.errorMessage:fe.error.message,[dt,St]=ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dt)throw Nr(p,"credential-already-in-use",fe);if("EMAIL_EXISTS"===dt)throw Nr(p,"email-already-in-use",fe);if("USER_DISABLED"===dt)throw Nr(p,"user-disabled",fe);const $t=_[dt]||dt.toLowerCase().replace(/[_\s]+/g,"-");if(St)throw Fe(p,$t,St);He(p,$t)}}catch(N){if(N instanceof z.ZR)throw N;He(p,"network-request-failed")}})).apply(this,arguments)}function In(p,u,c,_){return fn.apply(this,arguments)}function fn(){return(fn=(0,f.Z)(function*(p,u,c,_,N={}){const $=yield Ut(p,u,c,_,N);return"mfaPendingCredential"in $&&He(p,"multi-factor-auth-required",{_serverResponse:$}),$})).apply(this,arguments)}function _r(p,u,c,_){const N=`${u}${c}?${_}`;return p.config.emulator?zt(p.config,N):`${p.config.apiScheme}://${N}`}class tr{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((c,_)=>{this.timer=setTimeout(()=>_(De(this.auth,"network-request-failed")),jt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nr(p,u,c){const _={appName:p.name};c.email&&(_.email=c.email),c.phoneNumber&&(_.phoneNumber=c.phoneNumber);const N=De(p,u,_);return N.customData._tokenResponse=c,N}function ln(){return(ln=(0,f.Z)(function*(p,u){return Ut(p,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function sn(p,u){return pn.apply(this,arguments)}function pn(){return(pn=(0,f.Z)(function*(p,u){return Ut(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Yr(p,u){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,f.Z)(function*(p,u){return Ut(p,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Zn(p){if(p)try{const u=new Date(Number(p));if(!isNaN(u.getTime()))return u.toUTCString()}catch(u){}}function dr(){return(dr=(0,f.Z)(function*(p,u=!1){const c=(0,z.m9)(p),_=yield c.getIdToken(u),N=At(_);ne(N&&N.exp&&N.auth_time&&N.iat,c.auth,"internal-error");const $="object"==typeof N.firebase?N.firebase:void 0,fe=null==$?void 0:$.sign_in_provider;return{claims:N,token:_,authTime:Zn(pt(N.auth_time)),issuedAtTime:Zn(pt(N.iat)),expirationTime:Zn(pt(N.exp)),signInProvider:fe||null,signInSecondFactor:(null==$?void 0:$.sign_in_second_factor)||null}})).apply(this,arguments)}function pt(p){return 1e3*Number(p)}function At(p){var u;const[c,_,N]=p.split(".");if(void 0===c||void 0===_||void 0===N)return ut("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,z.tV)(_);return $?JSON.parse($):(ut("Failed to decode base64 JWT payload"),null)}catch($){return ut("Caught error parsing JWT payload as JSON",null===(u=$)||void 0===u?void 0:u.toString()),null}}function Wn(p,u){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,f.Z)(function*(p,u,c=!1){if(c)return u;try{return yield u}catch(_){throw _ instanceof z.ZR&&en(_)&&p.auth.currentUser===p&&(yield p.auth.signOut()),_}})).apply(this,arguments)}function en({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}class Di{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var c;if(u){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const N=(null!==(c=this.user.stsTokenManager.expirationTime)&&void 0!==c?c:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(u=!1){var c=this;if(!this.isRunning)return;const _=this.getInterval(u);this.timerId=setTimeout((0,f.Z)(function*(){yield c.iteration()}),_)}iteration(){var u=this;return(0,f.Z)(function*(){var c;try{yield u.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null===(c=_)||void 0===c?void 0:c.code)&&u.schedule(!0))}u.schedule()})()}}class yr{constructor(u,c){this.createdAt=u,this.lastLoginAt=c,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zn(this.lastLoginAt),this.creationTime=Zn(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wn(p){return It.apply(this,arguments)}function It(){return(It=(0,f.Z)(function*(p){var u;const c=p.auth,_=yield p.getIdToken(),N=yield Wn(p,Yr(c,{idToken:_}));ne(null==N?void 0:N.users.length,c,"internal-error");const $=N.users[0];p._notifyReloadListener($);const fe=(null===(u=$.providerUserInfo)||void 0===u?void 0:u.length)?Q($.providerUserInfo):[],ke=ae(p.providerData,fe),$t=!!p.isAnonymous&&!(p.email&&$.passwordHash||(null==ke?void 0:ke.length)),Vt={uid:$.localId,displayName:$.displayName||null,photoURL:$.photoUrl||null,email:$.email||null,emailVerified:$.emailVerified||!1,phoneNumber:$.phoneNumber||null,tenantId:$.tenantId||null,providerData:ke,metadata:new yr($.createdAt,$.lastLoginAt),isAnonymous:$t};Object.assign(p,Vt)})).apply(this,arguments)}function re(){return(re=(0,f.Z)(function*(p){const u=(0,z.m9)(p);yield wn(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function ae(p,u){return[...p.filter(_=>!u.some(N=>N.providerId===_.providerId)),...u]}function Q(p){return p.map(u=>{var{providerId:c}=u,_=(0,ce._T)(u,["providerId"]);return{providerId:c,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function se(){return(se=(0,f.Z)(function*(p,u){const c=yield On(p,{},(0,f.Z)(function*(){const _=(0,z.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:N,apiKey:$}=p.config,fe=_r(p,N,"/v1/token",`key=${$}`),ke=yield p._getAdditionalHeaders();return ke["Content-Type"]="application/x-www-form-urlencoded",Rt.fetch()(fe,{method:"POST",headers:ke,body:_})}));return{accessToken:c.access_token,expiresIn:c.expires_in,refreshToken:c.refresh_token}})).apply(this,arguments)}class Ze{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){ne(u.idToken,"internal-error"),ne(void 0!==u.idToken,"internal-error"),ne(void 0!==u.refreshToken,"internal-error");const c="expiresIn"in u&&void 0!==u.expiresIn?Number(u.expiresIn):function Ot(p){const u=At(p);return ne(u,"internal-error"),ne(void 0!==u.exp,"internal-error"),ne(void 0!==u.iat,"internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,c)}getToken(u,c=!1){var _=this;return(0,f.Z)(function*(){return ne(!_.accessToken||_.refreshToken,u,"user-token-expired"),c||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(u,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,c){var _=this;return(0,f.Z)(function*(){const{accessToken:N,refreshToken:$,expiresIn:fe}=yield function te(p,u){return se.apply(this,arguments)}(u,c);_.updateTokensAndExpiration(N,$,Number(fe))})()}updateTokensAndExpiration(u,c,_){this.refreshToken=c||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(u,c){const{refreshToken:_,accessToken:N,expirationTime:$}=c,fe=new Ze;return _&&(ne("string"==typeof _,"internal-error",{appName:u}),fe.refreshToken=_),N&&(ne("string"==typeof N,"internal-error",{appName:u}),fe.accessToken=N),$&&(ne("number"==typeof $,"internal-error",{appName:u}),fe.expirationTime=$),fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new Ze,this.toJSON())}_performRefresh(){return Le("not implemented")}}function at(p,u){ne("string"==typeof p||void 0===p,"internal-error",{appName:u})}class Mt{constructor(u){var{uid:c,auth:_,stsTokenManager:N}=u,$=(0,ce._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Di(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=c,this.auth=_,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=$.displayName||null,this.email=$.email||null,this.emailVerified=$.emailVerified||!1,this.phoneNumber=$.phoneNumber||null,this.photoURL=$.photoURL||null,this.isAnonymous=$.isAnonymous||!1,this.tenantId=$.tenantId||null,this.providerData=$.providerData?[...$.providerData]:[],this.metadata=new yr($.createdAt||void 0,$.lastLoginAt||void 0)}getIdToken(u){var c=this;return(0,f.Z)(function*(){const _=yield Wn(c,c.stsTokenManager.getToken(c.auth,u));return ne(_,c.auth,"internal-error"),c.accessToken!==_&&(c.accessToken=_,yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)),_})()}getIdTokenResult(u){return function Fr(p){return dr.apply(this,arguments)}(this,u)}reload(){return function $r(p){return re.apply(this,arguments)}(this)}_assign(u){this!==u&&(ne(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(c=>Object.assign({},c)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){return new Mt(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(u){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,c=!1){var _=this;return(0,f.Z)(function*(){let N=!1;u.idToken&&u.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(u),N=!0),c&&(yield wn(_)),yield _.auth._persistUserIfCurrent(_),N&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var u=this;return(0,f.Z)(function*(){const c=yield u.getIdToken();return yield Wn(u,function Tt(p,u){return ln.apply(this,arguments)}(u.auth,{idToken:c})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,c){var _,N,$,fe,ke,dt,St,$t;const Vt=null!==(_=c.displayName)&&void 0!==_?_:void 0,pi=null!==(N=c.email)&&void 0!==N?N:void 0,Ps=null!==($=c.phoneNumber)&&void 0!==$?$:void 0,ol=null!==(fe=c.photoURL)&&void 0!==fe?fe:void 0,Ju=null!==(ke=c.tenantId)&&void 0!==ke?ke:void 0,Xu=null!==(dt=c._redirectEventId)&&void 0!==dt?dt:void 0,Po=null!==(St=c.createdAt)&&void 0!==St?St:void 0,al=null!==($t=c.lastLoginAt)&&void 0!==$t?$t:void 0,{uid:Wl,emailVerified:Hc,isAnonymous:Gl,providerData:zl,stsTokenManager:$c}=c;ne(Wl&&$c,u,"internal-error");const Qd=Ze.fromJSON(this.name,$c);ne("string"==typeof Wl,u,"internal-error"),at(Vt,u.name),at(pi,u.name),ne("boolean"==typeof Hc,u,"internal-error"),ne("boolean"==typeof Gl,u,"internal-error"),at(Ps,u.name),at(ol,u.name),at(Ju,u.name),at(Xu,u.name),at(Po,u.name),at(al,u.name);const ec=new Mt({uid:Wl,auth:u,email:pi,emailVerified:Hc,displayName:Vt,isAnonymous:Gl,photoURL:ol,phoneNumber:Ps,tenantId:Ju,stsTokenManager:Qd,createdAt:Po,lastLoginAt:al});return zl&&Array.isArray(zl)&&(ec.providerData=zl.map(Jd=>Object.assign({},Jd))),Xu&&(ec._redirectEventId=Xu),ec}static _fromIdTokenResponse(u,c,_=!1){return(0,f.Z)(function*(){const N=new Ze;N.updateFromServerResponse(c);const $=new Mt({uid:c.localId,auth:u,stsTokenManager:N,isAnonymous:_});return yield wn($),$})()}}const cn=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(c,_){var N=this;return(0,f.Z)(function*(){N.storage[c]=_})()}_get(c){var _=this;return(0,f.Z)(function*(){const N=_.storage[c];return void 0===N?null:N})()}_remove(c){var _=this;return(0,f.Z)(function*(){delete _.storage[c]})()}_addListener(c,_){}_removeListener(c,_){}}return p.type="NONE",p})();function hr(p,u,c){return`firebase:${p}:${u}:${c}`}class Wt{constructor(u,c,_){this.persistence=u,this.auth=c,this.userKey=_;const{config:N,name:$}=this.auth;this.fullUserKey=hr(this.userKey,N.apiKey,$),this.fullPersistenceKey=hr("persistence",N.apiKey,$),this.boundEventHandler=c._onStorageEvent.bind(c),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,f.Z)(function*(){const c=yield u.persistence._get(u.fullUserKey);return c?Mt._fromJSON(u.auth,c):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var c=this;return(0,f.Z)(function*(){if(c.persistence===u)return;const _=yield c.getCurrentUser();return yield c.removeCurrentUser(),c.persistence=u,_?c.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,c,_="authUser"){return(0,f.Z)(function*(){if(!c.length)return new Wt(Ce(cn),u,_);const N=(yield Promise.all(c.map(function(){var St=(0,f.Z)(function*($t){if(yield $t._isAvailable())return $t});return function($t){return St.apply(this,arguments)}}()))).filter(St=>St);let $=N[0]||Ce(cn);const fe=hr(_,u.config.apiKey,u.name);let ke=null;for(const St of c)try{const $t=yield St._get(fe);if($t){const Vt=Mt._fromJSON(u,$t);St!==$&&(ke=Vt),$=St;break}}catch($t){}const dt=N.filter(St=>St._shouldAllowMigration);return $._shouldAllowMigration&&dt.length?($=dt[0],ke&&(yield $._set(fe,ke.toJSON())),yield Promise.all(c.map(function(){var St=(0,f.Z)(function*($t){if($t!==$)try{yield $t._remove(fe)}catch(Vt){}});return function($t){return St.apply(this,arguments)}}())),new Wt($,u,_)):new Wt($,u,_)})()}}function Lr(p){const u=p.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(xn(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Gn(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(or(u))return"Blackberry";if(ar(u))return"Webos";if(Sr(u))return"Safari";if((u.includes("chrome/")||Zt(u))&&!u.includes("edge/"))return"Chrome";if(Xn(u))return"Android";{const _=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==_?void 0:_.length))return _[1]}return"Other"}function Gn(p=(0,z.z$)()){return/firefox\//i.test(p)}function Sr(p=(0,z.z$)()){const u=p.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function Zt(p=(0,z.z$)()){return/crios\//i.test(p)}function xn(p=(0,z.z$)()){return/iemobile/i.test(p)}function Xn(p=(0,z.z$)()){return/android/i.test(p)}function or(p=(0,z.z$)()){return/blackberry/i.test(p)}function ar(p=(0,z.z$)()){return/webos/i.test(p)}function fr(p=(0,z.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function nr(p=(0,z.z$)()){return fr(p)||Xn(p)||ar(p)||or(p)||/windows phone/i.test(p)||xn(p)}function Mr(p,u=[]){let c;switch(p){case"Browser":c=Lr((0,z.z$)());break;case"Worker":c=`${Lr((0,z.z$)())}-${p}`;break;default:c=p}const _=u.length?u.join(","):"FirebaseCore-web";return`${c}/JsCore/${le.SDK_VERSION}/${_}`}class rr{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,c){const _=$=>new Promise((fe,ke)=>{try{fe(u($))}catch(dt){ke(dt)}});_.onAbort=c,this.queue.push(_);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(u){var c=this;return(0,f.Z)(function*(){var _;if(c.auth.currentUser===u)return;const N=[];try{for(const $ of c.queue)yield $(u),$.onAbort&&N.push($.onAbort)}catch($){N.reverse();for(const fe of N)try{fe()}catch(ke){}throw c.auth._errorFactory.create("login-blocked",{originalMessage:null===(_=$)||void 0===_?void 0:_.message})}})()}}class ft{constructor(u,c,_){this.app=u,this.heartbeatServiceProvider=c,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nn(this),this.idTokenSubscription=new nn(this),this.beforeStateQueue=new rr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ae,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(u,c){var _=this;return c&&(this._popupRedirectResolver=Ce(c)),this._initializationPromise=this.queue((0,f.Z)(function*(){var N,$;if(!_._deleted&&(_.persistenceManager=yield Wt.create(_,u),!_._deleted)){if(null===(N=_._popupRedirectResolver)||void 0===N?void 0:N._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch(fe){}yield _.initializeCurrentUser(c),_.lastNotifiedUid=(null===($=_.currentUser)||void 0===$?void 0:$.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,f.Z)(function*(){if(u._deleted)return;const c=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||c){if(u.currentUser&&c&&u.currentUser.uid===c.uid)return u._currentUser._assign(c),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(c,!0)}})()}initializeCurrentUser(u){var c=this;return(0,f.Z)(function*(){var _;const N=yield c.assertedPersistence.getCurrentUser();let $=N,fe=!1;if(u&&c.config.authDomain){yield c.getOrInitRedirectPersistenceManager();const ke=null===(_=c.redirectUser)||void 0===_?void 0:_._redirectEventId,dt=null==$?void 0:$._redirectEventId,St=yield c.tryRedirectSignIn(u);(!ke||ke===dt)&&(null==St?void 0:St.user)&&($=St.user,fe=!0)}if(!$)return c.directlySetCurrentUser(null);if(!$._redirectEventId){if(fe)try{yield c.beforeStateQueue.runMiddleware($)}catch(ke){$=N,c._popupRedirectResolver._overrideRedirectResult(c,()=>Promise.reject(ke))}return $?c.reloadAndSetCurrentUserOrClear($):c.directlySetCurrentUser(null)}return ne(c._popupRedirectResolver,c,"argument-error"),yield c.getOrInitRedirectPersistenceManager(),c.redirectUser&&c.redirectUser._redirectEventId===$._redirectEventId?c.directlySetCurrentUser($):c.reloadAndSetCurrentUserOrClear($)})()}tryRedirectSignIn(u){var c=this;return(0,f.Z)(function*(){let _=null;try{_=yield c._popupRedirectResolver._completeRedirectFn(c,u,!0)}catch(N){yield c._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(u){var c=this;return(0,f.Z)(function*(){var _;try{yield wn(u)}catch(N){if("auth/network-request-failed"!==(null===(_=N)||void 0===_?void 0:_.code))return c.directlySetCurrentUser(null)}return c.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Ye(){if("undefined"==typeof navigator)return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var u=this;return(0,f.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var c=this;return(0,f.Z)(function*(){const _=u?(0,z.m9)(u):null;return _&&ne(_.auth.config.apiKey===c.config.apiKey,c,"invalid-user-token"),c._updateCurrentUser(_&&_._clone(c))})()}_updateCurrentUser(u,c=!1){var _=this;return(0,f.Z)(function*(){if(!_._deleted)return u&&ne(_.tenantId===u.tenantId,_,"tenant-id-mismatch"),c||(yield _.beforeStateQueue.runMiddleware(u)),_.queue((0,f.Z)(function*(){yield _.directlySetCurrentUser(u),_.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,f.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var c=this;return this.queue((0,f.Z)(function*(){yield c.assertedPersistence.setPersistence(Ce(u))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new z.LL("auth","Firebase",u())}onAuthStateChanged(u,c,_){return this.registerStateListener(this.authStateSubscription,u,c,_)}beforeAuthStateChanged(u,c){return this.beforeStateQueue.pushCallback(u,c)}onIdTokenChanged(u,c,_){return this.registerStateListener(this.idTokenSubscription,u,c,_)}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,c){var _=this;return(0,f.Z)(function*(){const N=yield _.getOrInitRedirectPersistenceManager(c);return null===u?N.removeCurrentUser():N.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var c=this;return(0,f.Z)(function*(){if(!c.redirectPersistenceManager){const _=u&&Ce(u)||c._popupRedirectResolver;ne(_,c,"argument-error"),c.redirectPersistenceManager=yield Wt.create(c,[Ce(_._redirectPersistence)],"redirectUser"),c.redirectUser=yield c.redirectPersistenceManager.getCurrentUser()}return c.redirectPersistenceManager})()}_redirectUserForId(u){var c=this;return(0,f.Z)(function*(){var _,N;return c._isInitialized&&(yield c.queue((0,f.Z)(function*(){}))),(null===(_=c._currentUser)||void 0===_?void 0:_._redirectEventId)===u?c._currentUser:(null===(N=c.redirectUser)||void 0===N?void 0:N._redirectEventId)===u?c.redirectUser:null})()}_persistUserIfCurrent(u){var c=this;return(0,f.Z)(function*(){if(u===c.currentUser)return c.queue((0,f.Z)(function*(){return c.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,c;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(c=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==c?c:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,c,_,N){if(this._deleted)return()=>{};const $="function"==typeof c?c:c.next.bind(c),fe=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(fe,this,"internal-error"),fe.then(()=>$(this.currentUser)),"function"==typeof c?u.addObserver(c,_,N):u.addObserver(c)}directlySetCurrentUser(u){var c=this;return(0,f.Z)(function*(){c.currentUser&&c.currentUser!==u&&(c._currentUser._stopProactiveRefresh(),u&&c.isProactiveRefreshEnabled&&u._startProactiveRefresh()),c.currentUser=u,u?yield c.assertedPersistence.setCurrentUser(u):yield c.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Mr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,f.Z)(function*(){var c;const _={"X-Client-Version":u.clientVersion};u.app.options.appId&&(_["X-Firebase-gmpid"]=u.app.options.appId);const N=yield null===(c=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===c?void 0:c.getHeartbeatsHeader();return N&&(_["X-Firebase-Client"]=N),_})()}}function bt(p){return(0,z.m9)(p)}class nn{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,z.ne)(c=>this.observer=c)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Pr(p){const u=p.indexOf(":");return u<0?"":p.substr(0,u+1)}function si(p){if(!p)return null;const u=Number(p);return isNaN(u)?null:u}class qr{constructor(u,c){this.providerId=u,this.signInMethod=c}toJSON(){return Le("not implemented")}_getIdTokenResponse(u){return Le("not implemented")}_linkToIdToken(u,c){return Le("not implemented")}_getReauthenticationResolver(u){return Le("not implemented")}}function zn(p,u){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,f.Z)(function*(p,u){return Ut(p,"POST","/v1/accounts:resetPassword",kt(p,u))})).apply(this,arguments)}function Ii(p,u){return mi.apply(this,arguments)}function mi(){return(mi=(0,f.Z)(function*(p,u){return Ut(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Ni(p,u){return Or.apply(this,arguments)}function Or(){return(Or=(0,f.Z)(function*(p,u){return Ut(p,"POST","/v1/accounts:update",kt(p,u))})).apply(this,arguments)}function Yn(){return(Yn=(0,f.Z)(function*(p,u){return In(p,"POST","/v1/accounts:signInWithPassword",kt(p,u))})).apply(this,arguments)}function Ur(p,u){return pr.apply(this,arguments)}function pr(){return(pr=(0,f.Z)(function*(p,u){return Ut(p,"POST","/v1/accounts:sendOobCode",kt(p,u))})).apply(this,arguments)}function mn(p,u){return Os.apply(this,arguments)}function Os(){return(Os=(0,f.Z)(function*(p,u){return Ur(p,u)})).apply(this,arguments)}function Qr(p,u){return vr.apply(this,arguments)}function vr(){return(vr=(0,f.Z)(function*(p,u){return Ur(p,u)})).apply(this,arguments)}function oi(p,u){return wi.apply(this,arguments)}function wi(){return(wi=(0,f.Z)(function*(p,u){return Ur(p,u)})).apply(this,arguments)}function ys(p,u){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,f.Z)(function*(p,u){return Ur(p,u)})).apply(this,arguments)}function Fi(){return(Fi=(0,f.Z)(function*(p,u){return In(p,"POST","/v1/accounts:signInWithEmailLink",kt(p,u))})).apply(this,arguments)}function eo(){return(eo=(0,f.Z)(function*(p,u){return In(p,"POST","/v1/accounts:signInWithEmailLink",kt(p,u))})).apply(this,arguments)}class qn extends qr{constructor(u,c,_,N=null){super("password",_),this._email=u,this._password=c,this._tenantId=N}static _fromEmailAndPassword(u,c){return new qn(u,c,"password")}static _fromEmailAndCode(u,c,_=null){return new qn(u,c,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u;if((null==c?void 0:c.email)&&(null==c?void 0:c.password)){if("password"===c.signInMethod)return this._fromEmailAndPassword(c.email,c.password);if("emailLink"===c.signInMethod)return this._fromEmailAndCode(c.email,c.password,c.tenantId)}return null}_getIdTokenResponse(u){var c=this;return(0,f.Z)(function*(){switch(c.signInMethod){case"password":return function Vn(p,u){return Yn.apply(this,arguments)}(u,{returnSecureToken:!0,email:c._email,password:c._password});case"emailLink":return function Jr(p,u){return Fi.apply(this,arguments)}(u,{email:c._email,oobCode:c._password});default:He(u,"internal-error")}})()}_linkToIdToken(u,c){var _=this;return(0,f.Z)(function*(){switch(_.signInMethod){case"password":return Ii(u,{idToken:c,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Xs(p,u){return eo.apply(this,arguments)}(u,{idToken:c,email:_._email,oobCode:_._password});default:He(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Er(p,u){return me.apply(this,arguments)}function me(){return(me=(0,f.Z)(function*(p,u){return In(p,"POST","/v1/accounts:signInWithIdp",kt(p,u))})).apply(this,arguments)}class Te extends qr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const c=new Te(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(c.idToken=u.idToken),u.accessToken&&(c.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(c.nonce=u.nonce),u.pendingToken&&(c.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(c.accessToken=u.oauthToken,c.secret=u.oauthTokenSecret):He("argument-error"),c}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u,{providerId:_,signInMethod:N}=c,$=(0,ce._T)(c,["providerId","signInMethod"]);if(!_||!N)return null;const fe=new Te(_,N);return fe.idToken=$.idToken||void 0,fe.accessToken=$.accessToken||void 0,fe.secret=$.secret,fe.nonce=$.nonce,fe.pendingToken=$.pendingToken||null,fe}_getIdTokenResponse(u){return Er(u,this.buildRequest())}_linkToIdToken(u,c){const _=this.buildRequest();return _.idToken=c,Er(u,_)}_getReauthenticationResolver(u){const c=this.buildRequest();return c.autoCreate=!1,Er(u,c)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const c={};this.idToken&&(c.id_token=this.idToken),this.accessToken&&(c.access_token=this.accessToken),this.secret&&(c.oauth_token_secret=this.secret),c.providerId=this.providerId,this.nonce&&!this.pendingToken&&(c.nonce=this.nonce),u.postBody=(0,z.xO)(c)}return u}}function $e(p,u){return it.apply(this,arguments)}function it(){return(it=(0,f.Z)(function*(p,u){return Ut(p,"POST","/v1/accounts:sendVerificationCode",kt(p,u))})).apply(this,arguments)}function Nt(){return(Nt=(0,f.Z)(function*(p,u){return In(p,"POST","/v1/accounts:signInWithPhoneNumber",kt(p,u))})).apply(this,arguments)}function dn(){return(dn=(0,f.Z)(function*(p,u){const c=yield In(p,"POST","/v1/accounts:signInWithPhoneNumber",kt(p,u));if(c.temporaryProof)throw Nr(p,"account-exists-with-different-credential",c);return c})).apply(this,arguments)}const Xr={USER_NOT_FOUND:"user-not-found"};function qi(){return(qi=(0,f.Z)(function*(p,u){return In(p,"POST","/v1/accounts:signInWithPhoneNumber",kt(p,Object.assign(Object.assign({},u),{operation:"REAUTH"})),Xr)})).apply(this,arguments)}class ai extends qr{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,c){return new ai({verificationId:u,verificationCode:c})}static _fromTokenResponse(u,c){return new ai({phoneNumber:u,temporaryProof:c})}_getIdTokenResponse(u){return function yt(p,u){return Nt.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,c){return function Cr(p,u){return dn.apply(this,arguments)}(u,Object.assign({idToken:c},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function us(p,u){return qi.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:c,verificationId:_,verificationCode:N}=this.params;return u&&c?{temporaryProof:u,phoneNumber:c}:{sessionInfo:_,code:N}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:c,verificationCode:_,phoneNumber:N,temporaryProof:$}=u;return _||c||N||$?new ai({verificationId:c,verificationCode:_,phoneNumber:N,temporaryProof:$}):null}}class Nn{constructor(u){var c,_,N,$,fe,ke;const dt=(0,z.zd)((0,z.pd)(u)),St=null!==(c=dt.apiKey)&&void 0!==c?c:null,$t=null!==(_=dt.oobCode)&&void 0!==_?_:null,Vt=function _i(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=dt.mode)&&void 0!==N?N:null);ne(St&&$t&&Vt,"argument-error"),this.apiKey=St,this.operation=Vt,this.code=$t,this.continueUrl=null!==($=dt.continueUrl)&&void 0!==$?$:null,this.languageCode=null!==(fe=dt.languageCode)&&void 0!==fe?fe:null,this.tenantId=null!==(ke=dt.tenantId)&&void 0!==ke?ke:null}static parseLink(u){const c=function yi(p){const u=(0,z.zd)((0,z.pd)(p)).link,c=u?(0,z.zd)((0,z.pd)(u)).deep_link_id:null,_=(0,z.zd)((0,z.pd)(p)).deep_link_id;return(_?(0,z.zd)((0,z.pd)(_)).link:null)||_||c||u||p}(u);try{return new Nn(c)}catch(_){return null}}}let Es=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(c,_){return qn._fromEmailAndPassword(c,_)}static credentialWithLink(c,_){const N=Nn.parseLink(_);return ne(N,"argument-error"),qn._fromEmailAndCode(c,N.code,N.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class er{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Li extends er{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class li extends Li{static credentialFromJSON(u){const c="string"==typeof u?JSON.parse(u):u;return ne("providerId"in c&&"signInMethod"in c,"argument-error"),Te._fromParams(c)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return ne(u.idToken||u.accessToken,"argument-error"),Te._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return li.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return li.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:c,oauthAccessToken:_,oauthTokenSecret:N,pendingToken:$,nonce:fe,providerId:ke}=u;if(!_&&!N&&!c&&!$||!ke)return null;try{return new li(ke)._credential({idToken:c,accessToken:_,nonce:fe,pendingToken:$})}catch(dt){return null}}}let Vi=(()=>{class p extends Li{constructor(){super("facebook.com")}static credential(c){return Te._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return p.credentialFromTaggedObject(c)}static credentialFromError(c){return p.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return p.credential(c.oauthAccessToken)}catch(_){return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),Cs=(()=>{class p extends Li{constructor(){super("google.com"),this.addScope("profile")}static credential(c,_){return Te._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:c,accessToken:_})}static credentialFromResult(c){return p.credentialFromTaggedObject(c)}static credentialFromError(c){return p.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:_,oauthAccessToken:N}=c;if(!_&&!N)return null;try{return p.credential(_,N)}catch($){return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Ui=(()=>{class p extends Li{constructor(){super("github.com")}static credential(c){return Te._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return p.credentialFromTaggedObject(c)}static credentialFromError(c){return p.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return p.credential(c.oauthAccessToken)}catch(_){return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class ui extends qr{constructor(u,c){super(u,u),this.pendingToken=c}_getIdTokenResponse(u){return Er(u,this.buildRequest())}_linkToIdToken(u,c){const _=this.buildRequest();return _.idToken=c,Er(u,_)}_getReauthenticationResolver(u){const c=this.buildRequest();return c.autoCreate=!1,Er(u,c)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u,{providerId:_,signInMethod:N,pendingToken:$}=c;return _&&N&&$&&_===N?new ui(_,$):null}static _create(u,c){return new ui(u,c)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ei extends er{constructor(u){ne(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return ei.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return ei.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const c=ui.fromJSON(u);return ne(c,"argument-error"),c}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:c,providerId:_}=u;if(!c||!_)return null;try{return ui._create(_,c)}catch(N){return null}}}let po=(()=>{class p extends Li{constructor(){super("twitter.com")}static credential(c,_){return Te._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:c,oauthTokenSecret:_})}static credentialFromResult(c){return p.credentialFromTaggedObject(c)}static credentialFromError(c){return p.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthAccessToken:_,oauthTokenSecret:N}=c;if(!_||!N)return null;try{return p.credential(_,N)}catch($){return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function lr(p,u){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,f.Z)(function*(p,u){return In(p,"POST","/v1/accounts:signUp",kt(p,u))})).apply(this,arguments)}class Rr{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,c,_,N=!1){return(0,f.Z)(function*(){const $=yield Mt._fromIdTokenResponse(u,_,N),fe=go(_);return new Rr({user:$,providerId:fe,_tokenResponse:_,operationType:c})})()}static _forOperation(u,c,_){return(0,f.Z)(function*(){yield u._updateTokensIfNecessary(_,!0);const N=go(_);return new Rr({user:u,providerId:N,_tokenResponse:_,operationType:c})})()}}function go(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function bs(){return(bs=(0,f.Z)(function*(p){var u;const c=bt(p);if(yield c._initializationPromise,null===(u=c.currentUser)||void 0===u?void 0:u.isAnonymous)return new Rr({user:c.currentUser,providerId:null,operationType:"signIn"});const _=yield lr(c,{returnSecureToken:!0}),N=yield Rr._fromIdTokenResponse(c,"signIn",_,!0);return yield c._updateCurrentUser(N.user),N})).apply(this,arguments)}class Ji extends z.ZR{constructor(u,c,_,N){var $;super(c.code,c.message),this.operationType=_,this.user=N,Object.setPrototypeOf(this,Ji.prototype),this.customData={appName:u.name,tenantId:null!==($=u.tenantId)&&void 0!==$?$:void 0,_serverResponse:c.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(u,c,_,N){return new Ji(u,c,_,N)}}function ji(p,u,c,_){return("reauthenticate"===u?c._getReauthenticationResolver(p):c._getIdTokenResponse(p)).catch($=>{throw"auth/multi-factor-auth-required"===$.code?Ji._fromErrorAndOperation(p,$,u,_):$})}function Gr(p){return new Set(p.map(({providerId:u})=>u).filter(u=>!!u))}function Rn(){return(Rn=(0,f.Z)(function*(p,u){const c=(0,z.m9)(p);yield S(!0,c,u);const{providerUserInfo:_}=yield sn(c.auth,{idToken:yield c.getIdToken(),deleteProvider:[u]}),N=Gr(_||[]);return c.providerData=c.providerData.filter($=>N.has($.providerId)),N.has("phone")||(c.phoneNumber=null),yield c.auth._persistUserIfCurrent(c),c})).apply(this,arguments)}function P(p,u){return B.apply(this,arguments)}function B(){return(B=(0,f.Z)(function*(p,u,c=!1){const _=yield Wn(p,u._linkToIdToken(p.auth,yield p.getIdToken()),c);return Rr._forOperation(p,"link",_)})).apply(this,arguments)}function S(p,u,c){return W.apply(this,arguments)}function W(){return(W=(0,f.Z)(function*(p,u,c){yield wn(u);const N=!1===p?"provider-already-linked":"no-such-provider";ne(Gr(u.providerData).has(c)===p,u.auth,N)})).apply(this,arguments)}function oe(p,u){return xe.apply(this,arguments)}function xe(){return(xe=(0,f.Z)(function*(p,u,c=!1){var _;const{auth:N}=p,$="reauthenticate";try{const fe=yield Wn(p,ji(N,$,u,p),c);ne(fe.idToken,N,"internal-error");const ke=At(fe.idToken);ne(ke,N,"internal-error");const{sub:dt}=ke;return ne(p.uid===dt,N,"user-mismatch"),Rr._forOperation(p,$,fe)}catch(fe){throw"auth/user-not-found"===(null===(_=fe)||void 0===_?void 0:_.code)&&He(N,"user-mismatch"),fe}})).apply(this,arguments)}function ze(p,u){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,f.Z)(function*(p,u,c=!1){const _="signIn",N=yield ji(p,_,u),$=yield Rr._fromIdTokenResponse(p,_,N);return c||(yield p._updateCurrentUser($.user)),$})).apply(this,arguments)}function Gt(p,u){return _n.apply(this,arguments)}function _n(){return(_n=(0,f.Z)(function*(p,u){return ze(bt(p),u)})).apply(this,arguments)}function Yt(p,u){return rn.apply(this,arguments)}function rn(){return(rn=(0,f.Z)(function*(p,u){const c=(0,z.m9)(p);return yield S(!1,c,u.providerId),P(c,u)})).apply(this,arguments)}function Qn(p,u){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,f.Z)(function*(p,u){return oe((0,z.m9)(p),u)})).apply(this,arguments)}function Un(p,u){return R.apply(this,arguments)}function R(){return(R=(0,f.Z)(function*(p,u){return In(p,"POST","/v1/accounts:signInWithCustomToken",kt(p,u))})).apply(this,arguments)}function b(){return(b=(0,f.Z)(function*(p,u){const c=bt(p),_=yield Un(c,{token:u,returnSecureToken:!0}),N=yield Rr._fromIdTokenResponse(c,"signIn",_);return yield c._updateCurrentUser(N.user),N})).apply(this,arguments)}class j{constructor(u,c){this.factorId=u,this.uid=c.mfaEnrollmentId,this.enrollmentTime=new Date(c.enrolledAt).toUTCString(),this.displayName=c.displayName}static _fromServerResponse(u,c){return"phoneInfo"in c?Ve._fromServerResponse(u,c):He(u,"internal-error")}}class Ve extends j{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,c){return new Ve(c)}}function vt(p,u,c){var _;ne((null===(_=c.url)||void 0===_?void 0:_.length)>0,p,"invalid-continue-uri"),ne(void 0===c.dynamicLinkDomain||c.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),u.continueUrl=c.url,u.dynamicLinkDomain=c.dynamicLinkDomain,u.canHandleCodeInApp=c.handleCodeInApp,c.iOS&&(ne(c.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),u.iOSBundleId=c.iOS.bundleId),c.android&&(ne(c.android.packageName.length>0,p,"missing-android-pkg-name"),u.androidInstallApp=c.android.installApp,u.androidMinimumVersionCode=c.android.minimumVersion,u.androidPackageName=c.android.packageName)}function ti(){return(ti=(0,f.Z)(function*(p,u,c){const _=(0,z.m9)(p),N={requestType:"PASSWORD_RESET",email:u};c&&vt(_,N,c),yield Qr(_,N)})).apply(this,arguments)}function xs(){return(xs=(0,f.Z)(function*(p,u,c){yield zn((0,z.m9)(p),{oobCode:u,newPassword:c})})).apply(this,arguments)}function qe(){return(qe=(0,f.Z)(function*(p,u){yield Ni((0,z.m9)(p),{oobCode:u})})).apply(this,arguments)}function gn(p,u){return to.apply(this,arguments)}function to(){return(to=(0,f.Z)(function*(p,u){const c=(0,z.m9)(p),_=yield zn(c,{oobCode:u}),N=_.requestType;switch(ne(N,c,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(_.newEmail,c,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(_.mfaInfo,c,"internal-error");default:ne(_.email,c,"internal-error")}let $=null;return _.mfaInfo&&($=j._fromServerResponse(bt(c),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:$},operation:N}})).apply(this,arguments)}function ks(){return(ks=(0,f.Z)(function*(p,u){const{data:c}=yield gn((0,z.m9)(p),u);return c.email})).apply(this,arguments)}function ci(){return(ci=(0,f.Z)(function*(p,u,c){const _=bt(p),N=yield lr(_,{returnSecureToken:!0,email:u,password:c}),$=yield Rr._fromIdTokenResponse(_,"signIn",N);return yield _._updateCurrentUser($.user),$})).apply(this,arguments)}function La(){return(La=(0,f.Z)(function*(p,u,c){const _=(0,z.m9)(p),N={requestType:"EMAIL_SIGNIN",email:u};ne(c.handleCodeInApp,_,"argument-error"),c&&vt(_,N,c),yield oi(_,N)})).apply(this,arguments)}function Ns(){return(Ns=(0,f.Z)(function*(p,u,c){const _=(0,z.m9)(p),N=Es.credentialWithLink(u,c||Xe());return ne(N._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),Gt(_,N)})).apply(this,arguments)}function Br(p,u){return xr.apply(this,arguments)}function xr(){return(xr=(0,f.Z)(function*(p,u){return Ut(p,"POST","/v1/accounts:createAuthUri",kt(p,u))})).apply(this,arguments)}function Fs(){return(Fs=(0,f.Z)(function*(p,u){const _={identifier:u,continueUri:ot()?Xe():"http://localhost"},{signinMethods:N}=yield Br((0,z.m9)(p),_);return N||[]})).apply(this,arguments)}function ca(){return(ca=(0,f.Z)(function*(p,u){const c=(0,z.m9)(p),N={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};u&&vt(c.auth,N,u);const{email:$}=yield mn(c.auth,N);$!==p.email&&(yield p.reload())})).apply(this,arguments)}function Yo(){return(Yo=(0,f.Z)(function*(p,u,c){const _=(0,z.m9)(p),$={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:u};c&&vt(_.auth,$,c);const{email:fe}=yield ys(_.auth,$);fe!==p.email&&(yield p.reload())})).apply(this,arguments)}function da(p,u){return ko.apply(this,arguments)}function ko(){return(ko=(0,f.Z)(function*(p,u){return Ut(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Va(){return(Va=(0,f.Z)(function*(p,{displayName:u,photoURL:c}){if(void 0===u&&void 0===c)return;const _=(0,z.m9)(p),$={idToken:yield _.getIdToken(),displayName:u,photoUrl:c,returnSecureToken:!0},fe=yield Wn(_,da(_.auth,$));_.displayName=fe.displayName||null,_.photoURL=fe.photoUrl||null;const ke=_.providerData.find(({providerId:dt})=>"password"===dt);ke&&(ke.displayName=_.displayName,ke.photoURL=_.photoURL),yield _._updateTokensIfNecessary(fe)})).apply(this,arguments)}function Vs(p,u,c){return K.apply(this,arguments)}function K(){return(K=(0,f.Z)(function*(p,u,c){const{auth:_}=p,$={idToken:yield p.getIdToken(),returnSecureToken:!0};u&&($.email=u),c&&($.password=c);const fe=yield Wn(p,Ii(_,$));yield p._updateTokensIfNecessary(fe,!0)})).apply(this,arguments)}class Us{constructor(u,c,_={}){this.isNewUser=u,this.providerId=c,this.profile=_}}class Jo extends Us{constructor(u,c,_,N){super(u,c,_),this.username=N}}class No extends Us{constructor(u,c){super(u,"facebook.com",c)}}class Bs extends Jo{constructor(u,c){super(u,"github.com",c,"string"==typeof(null==c?void 0:c.login)?null==c?void 0:c.login:null)}}class El extends Us{constructor(u,c){super(u,"google.com",c)}}class Fo extends Jo{constructor(u,c,_){super(u,"twitter.com",c,_)}}function di(p){const{user:u,_tokenResponse:c}=p;return u.isAnonymous&&!c?{providerId:null,isNewUser:!1,profile:null}:function Qo(p){var u,c;if(!p)return null;const{providerId:_}=p,N=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},$=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!_&&(null==p?void 0:p.idToken)){const fe=null===(c=null===(u=At(p.idToken))||void 0===u?void 0:u.firebase)||void 0===c?void 0:c.sign_in_provider;if(fe)return new Us($,"anonymous"!==fe&&"custom"!==fe?fe:null)}if(!_)return null;switch(_){case"facebook.com":return new No($,N);case"github.com":return new Bs($,N);case"google.com":return new El($,N);case"twitter.com":return new Fo($,N,p.screenName||null);case"custom":case"anonymous":return new Us($,null);default:return new Us($,_,N)}}(c)}class Kn{constructor(u,c){this.type=u,this.credential=c}static _fromIdtoken(u){return new Kn("enroll",u)}static _fromMfaPendingCredential(u){return new Kn("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var c,_;if(null==u?void 0:u.multiFactorSession){if(null===(c=u.multiFactorSession)||void 0===c?void 0:c.pendingCredential)return Kn._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null===(_=u.multiFactorSession)||void 0===_?void 0:_.idToken)return Kn._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Xi{constructor(u,c,_){this.session=u,this.hints=c,this.signInResolver=_}static _fromError(u,c){const _=bt(u),N=c.customData._serverResponse,$=(N.mfaInfo||[]).map(ke=>j._fromServerResponse(_,ke));ne(N.mfaPendingCredential,_,"internal-error");const fe=Kn._fromMfaPendingCredential(N.mfaPendingCredential);return new Xi(fe,$,function(){var ke=(0,f.Z)(function*(dt){const St=yield dt._process(_,fe);delete N.mfaInfo,delete N.mfaPendingCredential;const $t=Object.assign(Object.assign({},N),{idToken:St.idToken,refreshToken:St.refreshToken});switch(c.operationType){case"signIn":const Vt=yield Rr._fromIdTokenResponse(_,c.operationType,$t);return yield _._updateCurrentUser(Vt.user),Vt;case"reauthenticate":return ne(c.user,_,"internal-error"),Rr._forOperation(c.user,c.operationType,$t);default:He(_,"internal-error")}});return function(dt){return ke.apply(this,arguments)}}())}resolveSignIn(u){var c=this;return(0,f.Z)(function*(){return c.signInResolver(u)})()}}function $i(p,u){return Ut(p,"POST","/v2/accounts/mfaEnrollment:start",kt(p,u))}class Oi{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(c=>{c.mfaInfo&&(this.enrolledFactors=c.mfaInfo.map(_=>j._fromServerResponse(u.auth,_)))})}static _fromUser(u){return new Oi(u)}getSession(){var u=this;return(0,f.Z)(function*(){return Kn._fromIdtoken(yield u.user.getIdToken())})()}enroll(u,c){var _=this;return(0,f.Z)(function*(){const N=u,$=yield _.getSession(),fe=yield Wn(_.user,N._process(_.user.auth,$,c));return yield _.user._updateTokensIfNecessary(fe),_.user.reload()})()}unenroll(u){var c=this;return(0,f.Z)(function*(){var _;const N="string"==typeof u?u:u.uid,$=yield c.user.getIdToken(),fe=yield Wn(c.user,function ds(p,u){return Ut(p,"POST","/v2/accounts/mfaEnrollment:withdraw",kt(p,u))}(c.user.auth,{idToken:$,mfaEnrollmentId:N}));c.enrolledFactors=c.enrolledFactors.filter(({uid:ke})=>ke!==N),yield c.user._updateTokensIfNecessary(fe);try{yield c.user.reload()}catch(ke){if("auth/user-token-expired"!==(null===(_=ke)||void 0===_?void 0:_.code))throw ke}})()}}const hs=new WeakMap,jr="__sak";class es{constructor(u,c){this.storageRetriever=u,this.type=c}_isAvailable(){try{return this.storage?(this.storage.setItem(jr,"1"),this.storage.removeItem(jr),Promise.resolve(!0)):Promise.resolve(!1)}catch(u){return Promise.resolve(!1)}}_set(u,c){return this.storage.setItem(u,JSON.stringify(c)),Promise.resolve()}_get(u){const c=this.storage.getItem(u);return Promise.resolve(c?JSON.parse(c):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const ur=(()=>{class p extends es{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(c,_)=>this.onStorageEvent(c,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dl(){const p=(0,z.z$)();return Sr(p)||fr(p)}()&&function Ln(){try{return!(!window||window===window.top)}catch(p){return!1}}(),this.fallbackToPolling=nr(),this._shouldAllowMigration=!0}forAllChangedKeys(c){for(const _ of Object.keys(this.listeners)){const N=this.storage.getItem(_),$=this.localCache[_];N!==$&&c(_,$,N)}}onStorageEvent(c,_=!1){if(!c.key)return void this.forAllChangedKeys((ke,dt,St)=>{this.notifyListeners(ke,St)});const N=c.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ke=this.storage.getItem(N);if(c.newValue!==ke)null!==c.newValue?this.storage.setItem(N,c.newValue):this.storage.removeItem(N);else if(this.localCache[N]===c.newValue&&!_)return}const $=()=>{const ke=this.storage.getItem(N);!_&&this.localCache[N]===ke||this.notifyListeners(N,ke)},fe=this.storage.getItem(N);!function vn(){return(0,z.w1)()&&10===document.documentMode}()||fe===c.newValue||c.newValue===c.oldValue?$():setTimeout($,10)}notifyListeners(c,_){this.localCache[c]=_;const N=this.listeners[c];if(N)for(const $ of Array.from(N))$(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((c,_,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:c,oldValue:_,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(c,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[c]||(this.listeners[c]=new Set,this.localCache[c]=this.storage.getItem(c)),this.listeners[c].add(_)}_removeListener(c,_){this.listeners[c]&&(this.listeners[c].delete(_),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(c,_){var N=()=>super._set,$=this;return(0,f.Z)(function*(){yield N().call($,c,_),$.localCache[c]=JSON.stringify(_)})()}_get(c){var _=()=>super._get,N=this;return(0,f.Z)(function*(){const $=yield _().call(N,c);return N.localCache[c]=JSON.stringify($),$})()}_remove(c){var _=()=>super._remove,N=this;return(0,f.Z)(function*(){yield _().call(N,c),delete N.localCache[c]})()}}return p.type="LOCAL",p})(),ts=(()=>{class p extends es{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(c,_){}_removeListener(c,_){}}return p.type="SESSION",p})();let Ua=(()=>{class p{constructor(c){this.eventTarget=c,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(c){const _=this.receivers.find($=>$.isListeningto(c));if(_)return _;const N=new p(c);return this.receivers.push(N),N}isListeningto(c){return this.eventTarget===c}handleEvent(c){var _=this;return(0,f.Z)(function*(){const N=c,{eventId:$,eventType:fe,data:ke}=N.data,dt=_.handlersMap[fe];if(!(null==dt?void 0:dt.size))return;N.ports[0].postMessage({status:"ack",eventId:$,eventType:fe});const St=Array.from(dt).map(function(){var Vt=(0,f.Z)(function*(pi){return pi(N.origin,ke)});return function(pi){return Vt.apply(this,arguments)}}()),$t=yield function Lo(p){return Promise.all(p.map(function(){var u=(0,f.Z)(function*(c){try{return{fulfilled:!0,value:yield c}}catch(_){return{fulfilled:!1,reason:_}}});return function(c){return u.apply(this,arguments)}}()))}(St);N.ports[0].postMessage({status:"done",eventId:$,eventType:fe,response:$t})})()}_subscribe(c,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[c]||(this.handlersMap[c]=new Set),this.handlersMap[c].add(_)}_unsubscribe(c,_){this.handlersMap[c]&&_&&this.handlersMap[c].delete(_),(!_||0===this.handlersMap[c].size)&&delete this.handlersMap[c],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Co(p="",u=10){let c="";for(let _=0;_<u;_++)c+=Math.floor(10*Math.random());return p+c}class Ts{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,c,_=50){var N=this;return(0,f.Z)(function*(){const $="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!$)throw new Error("connection_unavailable");let fe,ke;return new Promise((dt,St)=>{const $t=Co("",20);$.port1.start();const Vt=setTimeout(()=>{St(new Error("unsupported_event"))},_);ke={messageChannel:$,onMessage(pi){const Ps=pi;if(Ps.data.eventId===$t)switch(Ps.data.status){case"ack":clearTimeout(Vt),fe=setTimeout(()=>{St(new Error("timeout"))},3e3);break;case"done":clearTimeout(fe),dt(Ps.data.response);break;default:clearTimeout(Vt),clearTimeout(fe),St(new Error("invalid_response"))}}},N.handlers.add(ke),$.port1.addEventListener("message",ke.onMessage),N.target.postMessage({eventType:u,eventId:$t,data:c},[$.port2])}).finally(()=>{ke&&N.removeMessageHandler(ke)})})()}}function Dr(){return window}function Wi(){return void 0!==Dr().WorkerGlobalScope&&"function"==typeof Dr().importScripts}function Do(){return(Do=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(p){return null}})).apply(this,arguments)}const $s="firebaseLocalStorageDb",Gi="firebaseLocalStorage",Vo="fbase_key";class As{constructor(u){this.request=u}toPromise(){return new Promise((u,c)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{c(this.request.error)})})}}function C(p,u){return p.transaction([Gi],u?"readwrite":"readonly").objectStore(Gi)}function m(){const p=indexedDB.open($s,1);return new Promise((u,c)=>{p.addEventListener("error",()=>{c(p.error)}),p.addEventListener("upgradeneeded",()=>{const _=p.result;try{_.createObjectStore(Gi,{keyPath:Vo})}catch(N){c(N)}}),p.addEventListener("success",(0,f.Z)(function*(){const _=p.result;_.objectStoreNames.contains(Gi)?u(_):(_.close(),yield function y(){const p=indexedDB.deleteDatabase($s);return new As(p).toPromise()}(),u(yield m()))}))})}function A(p,u,c){return x.apply(this,arguments)}function x(){return(x=(0,f.Z)(function*(p,u,c){const _=C(p,!0).put({[Vo]:u,value:c});return new As(_).toPromise()})).apply(this,arguments)}function q(){return(q=(0,f.Z)(function*(p,u){const c=C(p,!1).get(u),_=yield new As(c).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function ie(p,u){const c=C(p,!0).delete(u);return new As(c).toPromise()}const wt=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var c=this;return(0,f.Z)(function*(){return c.db||(c.db=yield m()),c.db})()}_withRetries(c){var _=this;return(0,f.Z)(function*(){let N=0;for(;;)try{const $=yield _._openDb();return yield c($)}catch($){if(N++>3)throw $;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var c=this;return(0,f.Z)(function*(){return Wi()?c.initializeReceiver():c.initializeSender()})()}initializeReceiver(){var c=this;return(0,f.Z)(function*(){c.receiver=Ua._getInstance(function Xo(){return Wi()?self:null}()),c.receiver._subscribe("keyChanged",function(){var _=(0,f.Z)(function*(N,$){return{keyProcessed:(yield c._poll()).includes($.key)}});return function(N,$){return _.apply(this,arguments)}}()),c.receiver._subscribe("ping",function(){var _=(0,f.Z)(function*(N,$){return["keyChanged"]});return function(N,$){return _.apply(this,arguments)}}())})()}initializeSender(){var c=this;return(0,f.Z)(function*(){var _,N;if(c.activeServiceWorker=yield function bo(){return Do.apply(this,arguments)}(),!c.activeServiceWorker)return;c.sender=new Ts(c.activeServiceWorker);const $=yield c.sender._send("ping",{},800);!$||(null===(_=$[0])||void 0===_?void 0:_.fulfilled)&&(null===(N=$[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(c.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(c){var _=this;return(0,f.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function Ba(){var p;return(null===(p=null==navigator?void 0:navigator.serviceWorker)||void 0===p?void 0:p.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:c},_.serviceWorkerReceiverAvailable?800:50)}catch(N){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const c=yield m();return yield A(c,jr,"1"),yield ie(c,jr),!0}catch(c){}return!1})()}_withPendingWrite(c){var _=this;return(0,f.Z)(function*(){_.pendingWrites++;try{yield c()}finally{_.pendingWrites--}})()}_set(c,_){var N=this;return(0,f.Z)(function*(){return N._withPendingWrite((0,f.Z)(function*(){return yield N._withRetries($=>A($,c,_)),N.localCache[c]=_,N.notifyServiceWorker(c)}))})()}_get(c){var _=this;return(0,f.Z)(function*(){const N=yield _._withRetries($=>function H(p,u){return q.apply(this,arguments)}($,c));return _.localCache[c]=N,N})()}_remove(c){var _=this;return(0,f.Z)(function*(){return _._withPendingWrite((0,f.Z)(function*(){return yield _._withRetries(N=>ie(N,c)),delete _.localCache[c],_.notifyServiceWorker(c)}))})()}_poll(){var c=this;return(0,f.Z)(function*(){const _=yield c._withRetries(fe=>{const ke=C(fe,!1).getAll();return new As(ke).toPromise()});if(!_)return[];if(0!==c.pendingWrites)return[];const N=[],$=new Set;for(const{fbase_key:fe,value:ke}of _)$.add(fe),JSON.stringify(c.localCache[fe])!==JSON.stringify(ke)&&(c.notifyListeners(fe,ke),N.push(fe));for(const fe of Object.keys(c.localCache))c.localCache[fe]&&!$.has(fe)&&(c.notifyListeners(fe,null),N.push(fe));return N})()}notifyListeners(c,_){this.localCache[c]=_;const N=this.listeners[c];if(N)for(const $ of Array.from(N))$(_)}startPolling(){var c=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return c._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(c,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[c]||(this.listeners[c]=new Set,this._get(c)),this.listeners[c].add(_)}_removeListener(c,_){this.listeners[c]&&(this.listeners[c].delete(_),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})();function Dn(p,u){return Ut(p,"POST","/v2/accounts/mfaSignIn:start",kt(p,u))}function rs(){return(rs=(0,f.Z)(function*(p){return(yield Ut(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ws(p){return new Promise((u,c)=>{const _=document.createElement("script");_.setAttribute("src",p),_.onload=u,_.onerror=N=>{const $=De("internal-error");$.customData=N,c($)},_.type="text/javascript",_.charset="UTF-8",function io(){var p,u;return null!==(u=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==u?u:document}().appendChild(_)})}function zi(p){return`__${p}${Math.floor(1e6*Math.random())}`}const Io=1e12;class Il{constructor(u){this.auth=u,this.counter=Io,this._widgets=new Map}render(u,c){const _=this.counter;return this._widgets.set(_,new ta(u,this.auth.name,c||{})),this.counter++,_}reset(u){var c;const _=u||Io;null===(c=this._widgets.get(_))||void 0===c||c.delete(),this._widgets.delete(_)}getResponse(u){var c;return(null===(c=this._widgets.get(u||Io))||void 0===c?void 0:c.getResponse())||""}execute(u){var c=this;return(0,f.Z)(function*(){var _;return null===(_=c._widgets.get(u||Io))||void 0===_||_.execute(),""})()}}class ta{constructor(u,c,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof u?document.getElementById(u):u;ne(N,"argument-error",{appName:c}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ic(p){const u=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<p;_++)u.push(c.charAt(Math.floor(Math.random()*c.length)));return u.join("")}(50);const{callback:u,"expired-callback":c}=this.params;if(u)try{u(this.responseToken)}catch(_){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,c)try{c()}catch(_){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const nu=zi("rcb"),kr=new Bt(3e4,6e4);class wl{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(u=Dr().grecaptcha)||void 0===u?void 0:u.render)}load(u,c=""){return ne(function wc(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(c),u,"argument-error"),this.shouldResolveImmediately(c)?Promise.resolve(Dr().grecaptcha):new Promise((_,N)=>{const $=Dr().setTimeout(()=>{N(De(u,"network-request-failed"))},kr.get());Dr()[nu]=()=>{Dr().clearTimeout($),delete Dr()[nu];const ke=Dr().grecaptcha;if(!ke)return void N(De(u,"internal-error"));const dt=ke.render;ke.render=(St,$t)=>{const Vt=dt(St,$t);return this.counter++,Vt},this.hostLanguage=c,_(ke)},Ws(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:nu,render:"explicit",hl:c})}`).catch(()=>{clearTimeout($),N(De(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var c;return!!(null===(c=Dr().grecaptcha)||void 0===c?void 0:c.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class kd{load(u){return(0,f.Z)(function*(){return new Il(u)})()}clearedOneInstance(){}}const Tc="recaptcha",Nd={theme:"light",type:"image"};class na{constructor(u,c=Object.assign({},Nd),_){this.parameters=c,this.type=Tc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bt(_),this.isInvisible="invisible"===this.parameters.size,ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof u?document.getElementById(u):u;ne(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kd:new wl,this.validateStartingState()}verify(){var u=this;return(0,f.Z)(function*(){u.assertNotDestroyed();const c=yield u.render(),_=u.getAssertedRecaptcha();return _.getResponse(c)||new Promise($=>{const fe=ke=>{!ke||(u.tokenChangeListeners.delete(fe),$(ke))};u.tokenChangeListeners.add(fe),u.isInvisible&&_.execute(c)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return c=>{if(this.tokenChangeListeners.forEach(_=>_(c)),"function"==typeof u)u(c);else if("string"==typeof u){const _=Dr()[u];"function"==typeof _&&_(c)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,f.Z)(function*(){if(yield u.init(),!u.widgetId){let c=u.container;if(!u.isInvisible){const _=document.createElement("div");c.appendChild(_),c=_}u.widgetId=u.getAssertedRecaptcha().render(c,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,f.Z)(function*(){ne(ot()&&!Wi(),u.auth,"internal-error"),yield function Uo(){let p=null;return new Promise(u=>{"complete"!==document.readyState?(p=()=>u(),window.addEventListener("load",p)):u()}).catch(u=>{throw p&&window.removeEventListener("load",p),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const c=yield function cr(p){return rs.apply(this,arguments)}(u.auth);ne(c,u.auth,"internal-error"),u.parameters.sitekey=c})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Mu{constructor(u,c){this.verificationId=u,this.onConfirmation=c}confirm(u){const c=ai._fromVerification(this.verificationId,u);return this.onConfirmation(c)}}function oo(){return(oo=(0,f.Z)(function*(p,u,c){const _=bt(p),N=yield is(_,u,(0,z.m9)(c));return new Mu(N,$=>Gt(_,$))})).apply(this,arguments)}function Tl(){return(Tl=(0,f.Z)(function*(p,u,c){const _=(0,z.m9)(p);yield S(!1,_,"phone");const N=yield is(_.auth,u,(0,z.m9)(c));return new Mu(N,$=>Yt(_,$))})).apply(this,arguments)}function Ki(){return(Ki=(0,f.Z)(function*(p,u,c){const _=(0,z.m9)(p),N=yield is(_.auth,u,(0,z.m9)(c));return new Mu(N,$=>Qn(_,$))})).apply(this,arguments)}function is(p,u,c){return ja.apply(this,arguments)}function ja(){return(ja=(0,f.Z)(function*(p,u,c){var _;const N=yield c.verify();try{let $;if(ne("string"==typeof N,p,"argument-error"),ne(c.type===Tc,p,"argument-error"),$="string"==typeof u?{phoneNumber:u}:u,"session"in $){const fe=$.session;if("phoneNumber"in $)return ne("enroll"===fe.type,p,"internal-error"),(yield $i(p,{idToken:fe.credential,phoneEnrollmentInfo:{phoneNumber:$.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{ne("signin"===fe.type,p,"internal-error");const ke=(null===(_=$.multiFactorHint)||void 0===_?void 0:_.uid)||$.multiFactorUid;return ne(ke,p,"missing-multi-factor-info"),(yield Dn(p,{mfaPendingCredential:fe.credential,mfaEnrollmentId:ke,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:fe}=yield $e(p,{phoneNumber:$.phoneNumber,recaptchaToken:N});return fe}}finally{c._reset()}})).apply(this,arguments)}function wo(){return(wo=(0,f.Z)(function*(p,u){yield P((0,z.m9)(p),u)})).apply(this,arguments)}let ra=(()=>{class p{constructor(c){this.providerId=p.PROVIDER_ID,this.auth=bt(c)}verifyPhoneNumber(c,_){return is(this.auth,c,(0,z.m9)(_))}static credential(c,_){return ai._fromVerification(c,_)}static credentialFromResult(c){return p.credentialFromTaggedObject(c)}static credentialFromError(c){return p.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{phoneNumber:_,temporaryProof:N}=c;return _&&N?ai._fromTokenResponse(_,N):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function To(p,u){return u?Ce(u):(ne(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Al extends qr{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Er(u,this._buildIdpRequest())}_linkToIdToken(u,c){return Er(u,this._buildIdpRequest(c))}_getReauthenticationResolver(u){return Er(u,this._buildIdpRequest())}_buildIdpRequest(u){const c={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(c.idToken=u),c}}function Ou(p){return ze(p.auth,new Al(p),p.bypassAuthState)}function Sl(p){const{auth:u,user:c}=p;return ne(c,u,"internal-error"),oe(c,new Al(p),p.bypassAuthState)}function pa(p){return hi.apply(this,arguments)}function hi(){return(hi=(0,f.Z)(function*(p){const{auth:u,user:c}=p;return ne(c,u,"internal-error"),P(c,new Al(p),p.bypassAuthState)})).apply(this,arguments)}class ia{constructor(u,c,_,N,$=!1){this.auth=u,this.resolver=_,this.user=N,this.bypassAuthState=$,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(c)?c:[c]}execute(){var u=this;return new Promise(function(){var c=(0,f.Z)(function*(_,N){u.pendingPromise={resolve:_,reject:N};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch($){u.reject($)}});return function(_,N){return c.apply(this,arguments)}}())}onAuthEvent(u){var c=this;return(0,f.Z)(function*(){const{urlResponse:_,sessionId:N,postBody:$,tenantId:fe,error:ke,type:dt}=u;if(ke)return void c.reject(ke);const St={auth:c.auth,requestUri:_,sessionId:N,tenantId:fe||void 0,postBody:$||void 0,user:c.user,bypassAuthState:c.bypassAuthState};try{c.resolve(yield c.getIdpTask(dt)(St))}catch($t){c.reject($t)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Ou;case"linkViaPopup":case"linkViaRedirect":return pa;case"reauthViaPopup":case"reauthViaRedirect":return Sl;default:He(this.auth,"internal-error")}}resolve(u){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ao=new Bt(2e3,1e4);function Bo(){return(Bo=(0,f.Z)(function*(p,u,c){const _=bt(p);nt(p,u,er);const N=To(_,c);return new Sn(_,"signInViaPopup",u,N).executeNotNull()})).apply(this,arguments)}function Ol(){return(Ol=(0,f.Z)(function*(p,u,c){const _=(0,z.m9)(p);nt(_.auth,u,er);const N=To(_.auth,c);return new Sn(_.auth,"reauthViaPopup",u,N,_).executeNotNull()})).apply(this,arguments)}function kn(){return(kn=(0,f.Z)(function*(p,u,c){const _=(0,z.m9)(p);nt(_.auth,u,er);const N=To(_.auth,c);return new Sn(_.auth,"linkViaPopup",u,N,_).executeNotNull()})).apply(this,arguments)}let Sn=(()=>{class p extends ia{constructor(c,_,N,$,fe){super(c,_,$,fe),this.provider=N,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var c=this;return(0,f.Z)(function*(){const _=yield c.execute();return ne(_,c.auth,"internal-error"),_})()}onExecution(){var c=this;return(0,f.Z)(function*(){de(1===c.filter.length,"Popup operations only handle one event");const _=Co();c.authWindow=yield c.resolver._openPopup(c.auth,c.provider,c.filter[0],_),c.authWindow.associatedEvent=_,c.resolver._originValidation(c.auth).catch(N=>{c.reject(N)}),c.resolver._isIframeWebStorageSupported(c.auth,N=>{N||c.reject(De(c.auth,"web-storage-unsupported"))}),c.pollUserCancellation()})()}get eventId(){var c;return(null===(c=this.authWindow)||void 0===c?void 0:c.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const c=()=>{var _,N;this.pollId=(null===(N=null===(_=this.authWindow)||void 0===_?void 0:_.window)||void 0===N?void 0:N.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(c,ao.get())};c()}}return p.currentPopupAction=null,p})();const xi=new Map;class jn extends ia{constructor(u,c,_=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],c,void 0,_),this.eventId=null}execute(){var u=()=>super.execute,c=this;return(0,f.Z)(function*(){let _=xi.get(c.auth._key());if(!_){try{const $=(yield function ru(p,u){return ss.apply(this,arguments)}(c.resolver,c.auth))?yield u().call(c):null;_=()=>Promise.resolve($)}catch(N){_=()=>Promise.reject(N)}xi.set(c.auth._key(),_)}return c.bypassAuthState||xi.set(c.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(u){var c=()=>super.onAuthEvent,_=this;return(0,f.Z)(function*(){if("signInViaRedirect"===u.type)return c().call(_,u);if("unknown"!==u.type){if(u.eventId){const N=yield _.auth._redirectUserForId(u.eventId);if(N)return _.user=N,c().call(_,u);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function ss(){return(ss=(0,f.Z)(function*(p,u){const c=Rl(u),_=vi(p);if(!(yield _._isAvailable()))return!1;const N="true"===(yield _._get(c));return yield _._remove(c),N})).apply(this,arguments)}function lo(p,u){return os.apply(this,arguments)}function os(){return(os=(0,f.Z)(function*(p,u){return vi(p)._set(Rl(u),"true")})).apply(this,arguments)}function hn(p,u){xi.set(p._key(),u)}function vi(p){return Ce(p._redirectPersistence)}function Rl(p){return hr("pendingRedirect",p.config.apiKey,p.name)}function I(){return(I=(0,f.Z)(function*(p,u,c){const _=bt(p);nt(p,u,er);const N=To(_,c);return yield lo(N,_),N._openRedirect(_,u,"signInViaRedirect")})).apply(this,arguments)}function J(){return(J=(0,f.Z)(function*(p,u,c){const _=(0,z.m9)(p);nt(_.auth,u,er);const N=To(_.auth,c);yield lo(N,_.auth);const $=yield Lt(_);return N._openRedirect(_.auth,u,"reauthViaRedirect",$)})).apply(this,arguments)}function Ke(){return(Ke=(0,f.Z)(function*(p,u,c){const _=(0,z.m9)(p);nt(_.auth,u,er);const N=To(_.auth,c);yield S(!1,_,u.providerId),yield lo(N,_.auth);const $=yield Lt(_);return N._openRedirect(_.auth,u,"linkViaRedirect",$)})).apply(this,arguments)}function Ht(){return(Ht=(0,f.Z)(function*(p,u){return yield bt(p)._initializationPromise,Xt(p,u,!1)})).apply(this,arguments)}function Xt(p,u){return tn.apply(this,arguments)}function tn(){return(tn=(0,f.Z)(function*(p,u,c=!1){const _=bt(p),N=To(_,u),fe=yield new jn(_,N,c).execute();return fe&&!c&&(delete fe.user._redirectEventId,yield _._persistUserIfCurrent(fe.user),yield _._setRedirectUser(null,u)),fe})).apply(this,arguments)}function Lt(p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,f.Z)(function*(p){const u=Co(`${p.uid}:::`);return p._redirectEventId=u,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),u})).apply(this,arguments)}class on{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let c=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(u,_)&&(c=!0,this.sendToConsumer(u,_),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function ga(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fs(p);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,c||(this.queuedRedirectEvent=u,c=!0)),c}sendToConsumer(u,c){var _;if(u.error&&!fs(u)){const N=(null===(_=u.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";c.onError(De(this.auth,N))}else c.onAuthEvent(u)}isEventForConsumer(u,c){const _=null===c.eventId||!!u.eventId&&u.eventId===c.eventId;return c.filter.includes(u.type)&&_}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zs(u))}saveEventToCache(u){this.cachedEventUids.add(zs(u)),this.lastProcessedEventTime=Date.now()}}function zs(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(u=>u).join("-")}function fs({type:p,error:u}){return"unknown"===p&&"auth/no-auth-event"===(null==u?void 0:u.code)}function Zi(p){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,f.Z)(function*(p,u={}){return Ut(p,"GET","/v1/projects",u)})).apply(this,arguments)}const Ei=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ss=/^https?/;function xu(){return(xu=(0,f.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:u}=yield Zi(p);for(const c of u)try{if(Ac(c))return}catch(_){}He(p,"unauthorized-domain")})).apply(this,arguments)}function Ac(p){const u=Xe(),{protocol:c,hostname:_}=new URL(u);if(p.startsWith("chrome-extension://")){const fe=new URL(p);return""===fe.hostname&&""===_?"chrome-extension:"===c&&p.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===c&&fe.hostname===_}if(!Ss.test(c))return!1;if(Ei.test(p))return _===p;const N=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(_)}const iu=new Bt(3e4,6e4);function Sc(){const p=Dr().___jsl;if(null==p?void 0:p.H)for(const u of Object.keys(p.H))if(p.H[u].r=p.H[u].r||[],p.H[u].L=p.H[u].L||[],p.H[u].r=[...p.H[u].L],p.CP)for(let c=0;c<p.CP.length;c++)p.CP[c]=null}let kl=null;function Mc(p){return kl=kl||function Fd(p){return new Promise((u,c)=>{var _,N,$;function fe(){Sc(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{Sc(),c(De(p,"network-request-failed"))},timeout:iu.get()})}if(null===(N=null===(_=Dr().gapi)||void 0===_?void 0:_.iframes)||void 0===N?void 0:N.Iframe)u(gapi.iframes.getContext());else{if(!(null===($=Dr().gapi)||void 0===$?void 0:$.load)){const ke=zi("iframefcb");return Dr()[ke]=()=>{gapi.load?fe():c(De(p,"network-request-failed"))},Ws(`https://apis.google.com/js/api.js?onload=${ke}`).catch(dt=>c(dt))}fe()}}).catch(u=>{throw kl=null,u})}(p),kl}const Ha=new Bt(5e3,15e3),$a={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ld=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vd(p){const u=p.config;ne(u.authDomain,p,"auth-domain-config-required");const c=u.emulator?zt(u,"emulator/auth/iframe"):`https://${p.config.authDomain}/__/auth/iframe`,_={apiKey:u.apiKey,appName:p.name,v:le.SDK_VERSION},N=Ld.get(p.config.apiHost);N&&(_.eid=N);const $=p._getFrameworks();return $.length&&(_.fw=$.join(",")),`${c}?${(0,z.xO)(_).slice(1)}`}function Wa(){return Wa=(0,f.Z)(function*(p){const u=yield Mc(p),c=Dr().gapi;return ne(c,p,"internal-error"),u.open({where:document.body,url:Vd(p),messageHandlersFilter:c.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$a,dontclear:!0},_=>new Promise(function(){var N=(0,f.Z)(function*($,fe){yield _.restyle({setHideOnLeave:!1});const ke=De(p,"network-request-failed"),dt=Dr().setTimeout(()=>{fe(ke)},Ha.get());function St(){Dr().clearTimeout(dt),$(_)}_.ping(St).then(St,()=>{fe(ke)})});return function($,fe){return N.apply(this,arguments)}}()))}),Wa.apply(this,arguments)}const ku={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ga{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(u){}}}function Hn(p,u,c,_,N,$){ne(p.config.authDomain,p,"auth-domain-config-required"),ne(p.config.apiKey,p,"invalid-api-key");const fe={apiKey:p.config.apiKey,appName:p.name,authType:c,redirectUrl:_,v:le.SDK_VERSION,eventId:N};if(u instanceof er){u.setDefaultLanguage(p.languageCode),fe.providerId=u.providerId||"",(0,z.xb)(u.getCustomParameters())||(fe.customParameters=JSON.stringify(u.getCustomParameters()));for(const[dt,St]of Object.entries($||{}))fe[dt]=St}if(u instanceof Li){const dt=u.getScopes().filter(St=>""!==St);dt.length>0&&(fe.scopes=dt.join(","))}p.tenantId&&(fe.tid=p.tenantId);const ke=fe;for(const dt of Object.keys(ke))void 0===ke[dt]&&delete ke[dt];return`${function _a({config:p}){return p.emulator?zt(p,"emulator/auth/handler"):`https://${p.authDomain}/__/auth/handler`}(p)}?${(0,z.xO)(ke).slice(1)}`}const Nu="webStorageSupport";class Fu extends class Oc{constructor(u){this.factorId=u}_process(u,c,_){switch(c.type){case"enroll":return this._finalizeEnroll(u,c.credential,_);case"signin":return this._finalizeSignIn(u,c.credential);default:return Le("unexpected MultiFactorSessionType")}}}{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Fu(u)}_finalizeEnroll(u,c,_){return function ni(p,u){return Ut(p,"POST","/v2/accounts/mfaEnrollment:finalize",kt(p,u))}(u,{idToken:c,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,c){return function An(p,u){return Ut(p,"POST","/v2/accounts/mfaSignIn:finalize",kt(p,u))}(u,{mfaPendingCredential:c,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let jd=(()=>{class p{constructor(){}static assertion(c){return Fu._fromCredential(c)}}return p.FACTOR_ID="phone",p})();var Lu="@firebase/auth";class Rc{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var c=this;return(0,f.Z)(function*(){return c.assertAuthConfigured(),yield c.auth._initializationPromise,c.auth.currentUser?{accessToken:yield c.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const c=this.auth.onIdTokenChanged(_=>{var N;u((null===(N=_)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(u,c),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const c=this.internalListeners.get(u);!c||(this.internalListeners.delete(u),c(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uo(){return window}function Yi(){return(Yi=(0,f.Z)(function*(p,u,c){var _;const{BuildInfo:N}=uo();de(u.sessionId,"AuthEvent did not contain a session ID");const $=yield Yh(u.sessionId),fe={};return fr()?fe.ibi=N.packageName:Xn()?fe.apn=N.packageName:He(p,"operation-not-supported-in-this-environment"),N.displayName&&(fe.appDisplayName=N.displayName),fe.sessionId=$,Hn(p,c,u.type,void 0,null!==(_=u.eventId)&&void 0!==_?_:void 0,fe)})).apply(this,arguments)}function ya(){return(ya=(0,f.Z)(function*(p){const{BuildInfo:u}=uo(),c={};fr()?c.iosBundleId=u.packageName:Xn()?c.androidPackageName=u.packageName:He(p,"operation-not-supported-in-this-environment"),yield Zi(p,c)})).apply(this,arguments)}function Fc(){return(Fc=(0,f.Z)(function*(p,u,c){const{cordova:_}=uo();let N=()=>{};try{yield new Promise(($,fe)=>{let ke=null;function dt(){var Vt;$();const pi=null===(Vt=_.plugins.browsertab)||void 0===Vt?void 0:Vt.close;"function"==typeof pi&&pi(),"function"==typeof(null==c?void 0:c.close)&&c.close()}function St(){ke||(ke=window.setTimeout(()=>{fe(De(p,"redirect-cancelled-by-user"))},2e3))}function $t(){"visible"===(null==document?void 0:document.visibilityState)&&St()}u.addPassiveListener(dt),document.addEventListener("resume",St,!1),Xn()&&document.addEventListener("visibilitychange",$t,!1),N=()=>{u.removePassiveListener(dt),document.removeEventListener("resume",St,!1),document.removeEventListener("visibilitychange",$t,!1),ke&&window.clearTimeout(ke)}})}finally{N()}})).apply(this,arguments)}function Yh(p){return va.apply(this,arguments)}function va(){return(va=(0,f.Z)(function*(p){const u=Bu(p),c=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(c)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Bu(p){if(de(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(p);const u=new ArrayBuffer(p.length),c=new Uint8Array(u);for(let _=0;_<p.length;_++)c[_]=p.charCodeAt(_);return c}!function Ka(p){(0,le._registerComponent)(new be.wA("auth",(u,{options:c})=>{const _=u.getProvider("app").getImmediate(),N=u.getProvider("heartbeat"),{apiKey:$,authDomain:fe}=_.options;return((ke,dt)=>{ne($&&!$.includes(":"),"invalid-api-key",{appName:ke.name}),ne(!(null==fe?void 0:fe.includes(":")),"argument-error",{appName:ke.name});const St={apiKey:$,authDomain:fe,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mr(p)},$t=new ft(ke,dt,St);return function Me(p,u){const c=(null==u?void 0:u.persistence)||[],_=(Array.isArray(c)?c:[c]).map(Ce);(null==u?void 0:u.errorMap)&&p._updateErrorMap(u.errorMap),p._initializeWithPersistence(_,null==u?void 0:u.popupRedirectResolver)}($t,c),$t})(_,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,c,_)=>{u.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new be.wA("auth-internal",u=>{const c=bt(u.getProvider("auth").getImmediate());return new Rc(c)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Lu,"0.20.5",function xc(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,le.registerVersion)(Lu,"0.20.5","esm2017")}("Browser");class Hd extends on{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(c=>c(u)),super.onEvent(u)}initialized(){var u=this;return(0,f.Z)(function*(){yield u.initPromise})()}}function Vc(p){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,f.Z)(function*(p){const u=yield Qa()._get(Ja(p));return u&&(yield Qa()._remove(Ja(p))),u})).apply(this,arguments)}function ju(){const p=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let c=0;c<20;c++){const _=Math.floor(Math.random()*u.length);p.push(u.charAt(_))}return p.join("")}function Qa(){return Ce(ur)}function Ja(p){return hr("authEvent",p.config.apiKey,p.name)}function cu(p){if(!(null==p?void 0:p.includes("?")))return{};const[u,...c]=p.split("?");return(0,z.zd)(c.join("?"))}function Xa(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:De("no-auth-event")}}function co(){var p;return(null===(p=null==self?void 0:self.location)||void 0===p?void 0:p.protocol)||null}function sa(p=(0,z.z$)()){return!("file:"!==co()&&"ionic:"!==co()&&"capacitor:"!==co()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wu(){try{const p=self.localStorage,u=Co();if(p)return p.setItem(u,"1"),p.removeItem(u),!function $u(p=(0,z.z$)()){return function jl(){return(0,z.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ci(p=(0,z.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,z.hl)()}catch(p){return Ea()&&(0,z.hl)()}return!1}function Ea(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zr(){return(function el(){return"http:"===co()||"https:"===co()}()||(0,z.ru)()||sa())&&!function qh(){return(0,z.b$)()||(0,z.UG)()}()&&Wu()&&!Ea()}function Ca(){return sa()&&"undefined"!=typeof document}function jo(){return(jo=(0,f.Z)(function*(){return!!Ca()&&new Promise(p=>{const u=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),p(!0)})})})).apply(this,arguments)}const ps={LOCAL:"local",NONE:"none",SESSION:"session"},Jn=ne,Ms="persistence";function nl(p){return fu.apply(this,arguments)}function fu(){return(fu=(0,f.Z)(function*(p){yield p._initializationPromise;const u=So(),c=hr(Ms,p.config.apiKey,p.name);u&&u.setItem(c,p._getPersistence())})).apply(this,arguments)}function So(){var p;try{return(null===(p=function Gu(){return"undefined"!=typeof window?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch(u){return null}}const Uc=ne;class as{constructor(){this.browserResolver=Ce(class Pc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ts,this._completeRedirectFn=Xt,this._overrideRedirectResult=hn}_openPopup(u,c,_,N){var $=this;return(0,f.Z)(function*(){var fe;de(null===(fe=$.eventManagers[u._key()])||void 0===fe?void 0:fe.manager,"_initialize() not called before _openPopup()");const ke=Hn(u,c,_,Xe(),N);return function un(p,u,c,_=500,N=600){const $=Math.max((window.screen.availHeight-N)/2,0).toString(),fe=Math.max((window.screen.availWidth-_)/2,0).toString();let ke="";const dt=Object.assign(Object.assign({},ku),{width:_.toString(),height:N.toString(),top:$,left:fe}),St=(0,z.z$)().toLowerCase();c&&(ke=Zt(St)?"_blank":c),Gn(St)&&(u=u||"http://localhost",dt.scrollbars="yes");const $t=Object.entries(dt).reduce((pi,[Ps,ol])=>`${pi}${Ps}=${ol},`,"");if(function Vr(p=(0,z.z$)()){var u;return fr(p)&&!!(null===(u=window.navigator)||void 0===u?void 0:u.standalone)}(St)&&"_self"!==ke)return function Ud(p,u){const c=document.createElement("a");c.href=p,c.target=u;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),c.dispatchEvent(_)}(u||"",ke),new Ga(null);const Vt=window.open(u||"",ke,$t);ne(Vt,p,"popup-blocked");try{Vt.focus()}catch(pi){}return new Ga(Vt)}(u,ke,Co())})()}_openRedirect(u,c,_,N){var $=this;return(0,f.Z)(function*(){return yield $._originValidation(u),function ns(p){Dr().location.href=p}(Hn(u,c,_,Xe(),N)),new Promise(()=>{})})()}_initialize(u){const c=u._key();if(this.eventManagers[c]){const{manager:N,promise:$}=this.eventManagers[c];return N?Promise.resolve(N):(de($,"If manager is not set, promise should be"),$)}const _=this.initAndGetManager(u);return this.eventManagers[c]={promise:_},_.catch(()=>{delete this.eventManagers[c]}),_}initAndGetManager(u){var c=this;return(0,f.Z)(function*(){const _=yield function Tr(p){return Wa.apply(this,arguments)}(u),N=new on(u);return _.register("authEvent",$=>(ne(null==$?void 0:$.authEvent,u,"invalid-auth-event"),{status:N.onEvent($.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),c.eventManagers[u._key()]={manager:N},c.iframes[u._key()]=_,N})()}_isIframeWebStorageSupported(u,c){this.iframes[u._key()].send(Nu,{type:Nu},N=>{var $;const fe=null===($=null==N?void 0:N[0])||void 0===$?void 0:$[Nu];void 0!==fe&&c(!!fe),He(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const c=u._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function ri(p){return xu.apply(this,arguments)}(u)),this.originValidationPromises[c]}get _shouldInitProactively(){return nr()||Sr()||fr()}}),this.cordovaResolver=Ce(class Gd{constructor(){this._redirectPersistence=ts,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Xt,this._overrideRedirectResult=hn}_initialize(u){var c=this;return(0,f.Z)(function*(){const _=u._key();let N=c.eventManagers.get(_);return N||(N=new Hd(u),c.eventManagers.set(_,N),c.attachCallbackListeners(u,N)),N})()}_openPopup(u){He(u,"operation-not-supported-in-this-environment")}_openRedirect(u,c,_,N){var $=this;return(0,f.Z)(function*(){!function Lc(p){var u,c,_,N,$,fe,ke,dt,St,$t;const Vt=uo();ne("function"==typeof(null===(u=null==Vt?void 0:Vt.universalLinks)||void 0===u?void 0:u.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(void 0!==(null===(c=null==Vt?void 0:Vt.BuildInfo)||void 0===c?void 0:c.packageName),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===($=null===(N=null===(_=null==Vt?void 0:Vt.cordova)||void 0===_?void 0:_.plugins)||void 0===N?void 0:N.browsertab)||void 0===$?void 0:$.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(dt=null===(ke=null===(fe=null==Vt?void 0:Vt.cordova)||void 0===fe?void 0:fe.plugins)||void 0===ke?void 0:ke.browsertab)||void 0===dt?void 0:dt.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===($t=null===(St=null==Vt?void 0:Vt.cordova)||void 0===St?void 0:St.InAppBrowser)||void 0===$t?void 0:$t.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const fe=yield $._initialize(u);yield fe.initialized(),fe.resetRedirect(),function Ir(){xi.clear()}(),yield $._originValidation(u);const ke=function $d(p,u,c=null){return{type:u,eventId:c,urlResponse:null,sessionId:ju(),postBody:null,tenantId:p.tenantId,error:De(p,"no-auth-event")}}(u,_,N);yield function Ul(p,u){return Qa()._set(Ja(p),u)}(u,ke);const dt=yield function lu(p,u,c){return Yi.apply(this,arguments)}(u,ke,c),St=yield function kc(p){const{cordova:u}=uo();return new Promise(c=>{u.plugins.browsertab.isAvailable(_=>{let N=null;_?u.plugins.browsertab.openUrl(p):N=u.InAppBrowser.open(p,function Si(p=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),c(N)})})}(dt);return function Nc(p,u,c){return Fc.apply(this,arguments)}(u,fe,St)})()}_isIframeWebStorageSupported(u,c){throw new Error("Method not implemented.")}_originValidation(u){const c=u._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function Vl(p){return ya.apply(this,arguments)}(u)),this.originValidationPromises[c]}attachCallbackListeners(u,c){const{universalLinks:_,handleOpenURL:N,BuildInfo:$}=uo(),fe=setTimeout((0,f.Z)(function*(){yield Vc(u),c.onEvent(Xa())}),500),ke=function(){var $t=(0,f.Z)(function*(Vt){clearTimeout(fe);const pi=yield Vc(u);let Ps=null;pi&&(null==Vt?void 0:Vt.url)&&(Ps=function qa(p,u){var c,_;const N=function uu(p){const u=cu(p),c=u.link?decodeURIComponent(u.link):void 0,_=cu(c).link,N=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return cu(N).link||N||_||c||p}(u);if(N.includes("/__/auth/callback")){const $=cu(N),fe=$.firebaseError?function Wd(p){try{return JSON.parse(p)}catch(u){return null}}(decodeURIComponent($.firebaseError)):null,ke=null===(_=null===(c=null==fe?void 0:fe.code)||void 0===c?void 0:c.split("auth/"))||void 0===_?void 0:_[1],dt=ke?De(ke):null;return dt?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:dt,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:N,postBody:null}}return null}(pi,Vt.url)),c.onEvent(Ps||Xa())});return function(pi){return $t.apply(this,arguments)}}();void 0!==_&&"function"==typeof _.subscribe&&_.subscribe(null,ke);const dt=N,St=`${$.packageName.toLowerCase()}://`;uo().handleOpenURL=function(){var $t=(0,f.Z)(function*(Vt){if(Vt.toLowerCase().startsWith(St)&&ke({url:Vt}),"function"==typeof dt)try{dt(Vt)}catch(pi){console.error(pi)}});return function(Vt){return $t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ts,this._completeRedirectFn=Xt,this._overrideRedirectResult=hn}_initialize(u){var c=this;return(0,f.Z)(function*(){return yield c.selectUnderlyingResolver(),c.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,c,_,N){var $=this;return(0,f.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._openPopup(u,c,_,N)})()}_openRedirect(u,c,_,N){var $=this;return(0,f.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._openRedirect(u,c,_,N)})()}_isIframeWebStorageSupported(u,c){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,c)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return Ca()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Uc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,f.Z)(function*(){if(u.underlyingResolver)return;const c=yield function tl(){return jo.apply(this,arguments)}();u.underlyingResolver=c?u.cordovaResolver:u.browserResolver})()}}function rl(p){return p.unwrap()}function Bc(p){return jc(p)}function jc(p){const{_tokenResponse:u}=p instanceof z.ZR?p.customData:p;if(!u)return null;if(!(p instanceof z.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return ra.credentialFromResult(p);const c=u.providerId;if(!c||"password"===c)return null;let _;switch(c){case"google.com":_=Cs;break;case"facebook.com":_=Vi;break;case"github.com":_=Ui;break;case"twitter.com":_=po;break;default:const{oauthIdToken:N,oauthAccessToken:$,oauthTokenSecret:fe,pendingToken:ke,nonce:dt}=u;return $||fe||N||ke?ke?c.startsWith("saml.")?ui._create(c,ke):Te._fromParams({providerId:c,signInMethod:c,pendingToken:ke,idToken:N,accessToken:$}):new li(c).credential({idToken:N,accessToken:$,rawNonce:dt}):null}return p instanceof z.ZR?_.credentialFromError(p):_.credentialFromResult(p)}function gs(p,u){return u.catch(c=>{throw c instanceof z.ZR&&function ba(p,u){var c,_;const N=null===(c=u.customData)||void 0===c?void 0:c._tokenResponse;if("auth/multi-factor-auth-required"===(null===(_=u)||void 0===_?void 0:_.code))u.resolver=new zd(p,function bn(p,u){var c;const _=(0,z.m9)(p),N=u;return ne(u.customData.operationType,_,"argument-error"),ne(null===(c=N.customData._serverResponse)||void 0===c?void 0:c.mfaPendingCredential,_,"argument-error"),Xi._fromError(_,N)}(p,u));else if(N){const $=jc(u),fe=u;$&&(fe.credential=$,fe.tenantId=N.tenantId||void 0,fe.email=N.email||void 0,fe.phoneNumber=N.phoneNumber||void 0)}}(p,c),c}).then(c=>{const N=c.user;return{operationType:c.operationType,credential:Bc(c),additionalUserInfo:di(c),user:Mo.getOrCreate(N)}})}function Ku(p,u){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,f.Z)(function*(p,u){const c=yield u;return{verificationId:c.verificationId,confirm:_=>gs(p,c.confirm(_))}})).apply(this,arguments)}class zd{constructor(u,c){this.resolver=c,this.auth=function il(p){return p.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return gs(rl(this.auth),this.resolver.resolveSignIn(u))}}class Mo{constructor(u){this._delegate=u,this.multiFactor=function ws(p){const u=(0,z.m9)(p);return hs.has(u)||hs.set(u,Oi._fromUser(u)),hs.get(u)}(u)}static getOrCreate(u){return Mo.USER_MAP.has(u)||Mo.USER_MAP.set(u,new Mo(u)),Mo.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var c=this;return(0,f.Z)(function*(){return gs(c.auth,Yt(c._delegate,u))})()}linkWithPhoneNumber(u,c){var _=this;return(0,f.Z)(function*(){return Ku(_.auth,function Gs(p,u,c){return Tl.apply(this,arguments)}(_._delegate,u,c))})()}linkWithPopup(u){var c=this;return(0,f.Z)(function*(){return gs(c.auth,function Ru(p,u,c){return kn.apply(this,arguments)}(c._delegate,u,as))})()}linkWithRedirect(u){var c=this;return(0,f.Z)(function*(){return yield nl(bt(c.auth)),function ve(p,u,c){return function Pe(p,u,c){return Ke.apply(this,arguments)}(p,u,c)}(c._delegate,u,as)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var c=this;return(0,f.Z)(function*(){return gs(c.auth,Qn(c._delegate,u))})()}reauthenticateWithPhoneNumber(u,c){return Ku(this.auth,function Pu(p,u,c){return Ki.apply(this,arguments)}(this._delegate,u,c))}reauthenticateWithPopup(u){return gs(this.auth,function Pl(p,u,c){return Ol.apply(this,arguments)}(this._delegate,u,as))}reauthenticateWithRedirect(u){var c=this;return(0,f.Z)(function*(){return yield nl(bt(c.auth)),function O(p,u,c){return function V(p,u,c){return J.apply(this,arguments)}(p,u,c)}(c._delegate,u,as)})()}sendEmailVerification(u){return function Mi(p,u){return ca.apply(this,arguments)}(this._delegate,u)}unlink(u){var c=this;return(0,f.Z)(function*(){return yield function mo(p,u){return Rn.apply(this,arguments)}(c._delegate,u),c})()}updateEmail(u){return function qo(p,u){return Vs((0,z.m9)(p),u,null)}(this._delegate,u)}updatePassword(u){return function Ls(p,u){return Vs((0,z.m9)(p),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function fa(p,u){return wo.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function Pi(p,u){return Va.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,c){return function Zo(p,u,c){return Yo.apply(this,arguments)}(this._delegate,u,c)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mo.USER_MAP=new WeakMap;const $l=ne;let Yu=(()=>{class p{constructor(c,_){if(this.app=c,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=c.options;$l(N,"invalid-api-key",{appName:c.name}),$l(N,"invalid-api-key",{appName:c.name});const $="undefined"!=typeof window?as:void 0;this._delegate=_.initialize({options:{persistence:Kd(N,c.name),popupRedirectResolver:$}}),this._delegate._updateErrorMap(je),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(c){this._delegate.languageCode=c}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(c){this._delegate.tenantId=c}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(c,_){!function ir(p,u,c){const _=bt(p);ne(_._canInitEmulator,_,"emulator-config-failed"),ne(/^https?:\/\//.test(u),_,"invalid-emulator-scheme");const N=!!(null==c?void 0:c.disableWarnings),$=Pr(u),{host:fe,port:ke}=function Tn(p){const u=Pr(p),c=/(\/\/)?([^?#/]+)/.exec(p.substr(u.length));if(!c)return{host:"",port:null};const _=c[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(_);if(N){const $=N[1];return{host:$,port:si(_.substr($.length+1))}}{const[$,fe]=_.split(":");return{host:$,port:si(fe)}}}(u);_.config.emulator={url:`${$}//${fe}${null===ke?"":`:${ke}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:fe,port:ke,protocol:$.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function En(){function p(){const u=document.createElement("p"),c=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",c.position="fixed",c.width="100%",c.backgroundColor="#ffffff",c.border=".1em solid #000000",c.color="#b50000",c.bottom="0px",c.left="0px",c.margin="0px",c.zIndex="10000",c.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,c,_)}applyActionCode(c){return function _o(p,u){return qe.apply(this,arguments)}(this._delegate,c)}checkActionCode(c){return gn(this._delegate,c)}confirmPasswordReset(c,_){return function Ds(p,u,c){return xs.apply(this,arguments)}(this._delegate,c,_)}createUserWithEmailAndPassword(c,_){var N=this;return(0,f.Z)(function*(){return gs(N._delegate,function yo(p,u,c){return ci.apply(this,arguments)}(N._delegate,c,_))})()}fetchProvidersForEmail(c){return this.fetchSignInMethodsForEmail(c)}fetchSignInMethodsForEmail(c){return function xo(p,u){return Fs.apply(this,arguments)}(this._delegate,c)}isSignInWithEmailLink(c){return function vl(p,u){const c=Nn.parseLink(u);return"EMAIL_SIGNIN"===(null==c?void 0:c.operation)}(0,c)}getRedirectResult(){var c=this;return(0,f.Z)(function*(){$l(Zr(),c._delegate,"operation-not-supported-in-this-environment");const _=yield function gt(p,u){return Ht.apply(this,arguments)}(c._delegate,as);return _?gs(c._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(c){!function du(p,u){bt(p)._logFramework(u)}(this._delegate,c)}onAuthStateChanged(c,_,N){const{next:$,error:fe,complete:ke}=qu(c,_,N);return this._delegate.onAuthStateChanged($,fe,ke)}onIdTokenChanged(c,_,N){const{next:$,error:fe,complete:ke}=qu(c,_,N);return this._delegate.onIdTokenChanged($,fe,ke)}sendSignInLinkToEmail(c,_){return function ua(p,u,c){return La.apply(this,arguments)}(this._delegate,c,_)}sendPasswordResetEmail(c,_){return function Bn(p,u,c){return ti.apply(this,arguments)}(this._delegate,c,_||void 0)}setPersistence(c){var _=this;return(0,f.Z)(function*(){let N;switch(function Hl(p,u){Jn(Object.values(ps).includes(u),p,"invalid-persistence-type"),(0,z.b$)()?Jn(u!==ps.SESSION,p,"unsupported-persistence-type"):(0,z.UG)()?Jn(u===ps.NONE,p,"unsupported-persistence-type"):Ea()?Jn(u===ps.NONE||u===ps.LOCAL&&(0,z.hl)(),p,"unsupported-persistence-type"):Jn(u===ps.NONE||Wu(),p,"unsupported-persistence-type")}(_._delegate,c),c){case ps.SESSION:N=ts;break;case ps.LOCAL:N=(yield Ce(wt)._isAvailable())?wt:ur;break;case ps.NONE:N=cn;break;default:return He("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(c){return this.signInWithCredential(c)}signInAnonymously(){return gs(this._delegate,function Qi(p){return bs.apply(this,arguments)}(this._delegate))}signInWithCredential(c){return gs(this._delegate,Gt(this._delegate,c))}signInWithCustomToken(c){return gs(this._delegate,function T(p,u){return b.apply(this,arguments)}(this._delegate,c))}signInWithEmailAndPassword(c,_){return gs(this._delegate,function no(p,u,c){return Gt((0,z.m9)(p),Es.credential(u,c))}(this._delegate,c,_))}signInWithEmailLink(c,_){return gs(this._delegate,function eu(p,u,c){return Ns.apply(this,arguments)}(this._delegate,c,_))}signInWithPhoneNumber(c,_){return Ku(this._delegate,function zr(p,u,c){return oo.apply(this,arguments)}(this._delegate,c,_))}signInWithPopup(c){var _=this;return(0,f.Z)(function*(){return $l(Zr(),_._delegate,"operation-not-supported-in-this-environment"),gs(_._delegate,function Ml(p,u,c){return Bo.apply(this,arguments)}(_._delegate,c,as))})()}signInWithRedirect(c){var _=this;return(0,f.Z)(function*(){return $l(Zr(),_._delegate,"operation-not-supported-in-this-environment"),yield nl(_._delegate),function xl(p,u,c){return function ki(p,u,c){return I.apply(this,arguments)}(p,u,c)}(_._delegate,c,as)})()}updateCurrentUser(c){return this._delegate.updateCurrentUser(c)}verifyPasswordResetCode(c){return function br(p,u){return ks.apply(this,arguments)}(this._delegate,c)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=ps,p})();function qu(p,u,c){let _=p;"function"!=typeof p&&({next:_,error:u,complete:c}=p);const N=_;return{next:fe=>N(fe&&Mo.getOrCreate(fe)),error:u,complete:c}}function Kd(p,u){const c=function zu(p,u){const c=So();if(!c)return[];const _=hr(Ms,p,u);switch(c.getItem(_)){case ps.NONE:return[cn];case ps.LOCAL:return[wt,ts];case ps.SESSION:return[ts];default:return[]}}(p,u);if("undefined"!=typeof self&&!c.includes(wt)&&c.push(wt),"undefined"!=typeof window)for(const _ of[ur,ts])c.includes(_)||c.push(_);return c.includes(cn)||c.push(cn),c}class Qu{constructor(){this.providerId="phone",this._delegate=new ra(rl(M.Z.auth()))}static credential(u,c){return ra.credential(u,c)}verifyPhoneNumber(u,c){return this._delegate.verifyPhoneNumber(u,c)}unwrap(){return this._delegate}}Qu.PHONE_SIGN_IN_METHOD=ra.PHONE_SIGN_IN_METHOD,Qu.PROVIDER_ID=ra.PROVIDER_ID;const Zd=ne;class Yd{constructor(u,c,_=M.Z.app()){var N;Zd(null===(N=_.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new na(u,c,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function sl(p){p.INTERNAL.registerComponent(new be.wA("auth-compat",u=>{const c=u.getProvider("app-compat").getImmediate(),_=u.getProvider("auth");return new Yu(c,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Es,FacebookAuthProvider:Vi,GithubAuthProvider:Ui,GoogleAuthProvider:Cs,OAuthProvider:li,SAMLAuthProvider:ei,PhoneAuthProvider:Qu,PhoneMultiFactorGenerator:jd,RecaptchaVerifier:Yd,TwitterAuthProvider:po,Auth:Yu,AuthCredential:qr,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.2.18")}(M.Z)},1135:(st,Ie,k)=>{k.d(Ie,{X:()=>M});var f=k(7579);class M extends f.x{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const ce=super._subscribe(le);return!ce.closed&&le.next(this._value),ce}getValue(){const{hasError:le,thrownError:ce,_value:pe}=this;if(le)throw ce;return this._throwIfClosed(),pe}next(le){super.next(this._value=le)}}},8306:(st,Ie,k)=>{k.d(Ie,{y:()=>ee});var f=k(930),M=k(727),z=k(8822),le=k(4671);var be=k(2416),he=k(576),Ee=k(2806);let ee=(()=>{class Ue{constructor(et){et&&(this._subscribe=et)}lift(et){const Ae=new Ue;return Ae.source=this,Ae.operator=et,Ae}subscribe(et,Ae,Ne){const tt=function Je(Ue){return Ue&&Ue instanceof f.Lv||function _e(Ue){return Ue&&(0,he.m)(Ue.next)&&(0,he.m)(Ue.error)&&(0,he.m)(Ue.complete)}(Ue)&&(0,M.Nn)(Ue)}(et)?et:new f.Hp(et,Ae,Ne);return(0,Ee.x)(()=>{const{operator:ut,source:He}=this;tt.add(ut?ut.call(tt,He):He?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(et){try{return this._subscribe(et)}catch(Ae){et.error(Ae)}}forEach(et,Ae){return new(Ae=X(Ae))((Ne,tt)=>{const ut=new f.Hp({next:He=>{try{et(He)}catch(De){tt(De),ut.unsubscribe()}},error:tt,complete:Ne});this.subscribe(ut)})}_subscribe(et){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(et)}[z.L](){return this}pipe(...et){return function pe(Ue){return 0===Ue.length?le.y:1===Ue.length?Ue[0]:function(et){return Ue.reduce((Ae,Ne)=>Ne(Ae),et)}}(et)(this)}toPromise(et){return new(et=X(et))((Ae,Ne)=>{let tt;this.subscribe(ut=>tt=ut,ut=>Ne(ut),()=>Ae(tt))})}}return Ue.create=je=>new Ue(je),Ue})();function X(Ue){var je;return null!==(je=null!=Ue?Ue:be.v.Promise)&&void 0!==je?je:Promise}},7579:(st,Ie,k)=>{k.d(Ie,{x:()=>be});var f=k(8306),M=k(727);const le=(0,k(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=k(8737),pe=k(2806);let be=(()=>{class Ee extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const _e=new he(this,this);return _e.operator=X,_e}_throwIfClosed(){if(this.closed)throw new le}next(X){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(X)}})}error(X){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:_e}=this;for(;_e.length;)_e.shift().error(X)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:_e,isStopped:Je,observers:Ue}=this;return _e||Je?M.Lc:(this.currentObservers=null,Ue.push(X),new M.w0(()=>{this.currentObservers=null,(0,ce.P)(Ue,X)}))}_checkFinalizedStatuses(X){const{hasError:_e,thrownError:Je,isStopped:Ue}=this;_e?X.error(Je):Ue&&X.complete()}asObservable(){const X=new f.y;return X.source=this,X}}return Ee.create=(ee,X)=>new he(ee,X),Ee})();class he extends be{constructor(ee,X){super(),this.destination=ee,this.source=X}next(ee){var X,_e;null===(_e=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===_e||_e.call(X,ee)}error(ee){var X,_e;null===(_e=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===_e||_e.call(X,ee)}complete(){var ee,X;null===(X=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===X||X.call(ee)}_subscribe(ee){var X,_e;return null!==(_e=null===(X=this.source)||void 0===X?void 0:X.subscribe(ee))&&void 0!==_e?_e:M.Lc}}},930:(st,Ie,k)=>{k.d(Ie,{Hp:()=>et,Lv:()=>_e});var f=k(576),M=k(727),z=k(2416),le=k(7849),ce=k(5032);const pe=Ee("C",void 0,void 0);function Ee(He,De,Fe){return{kind:He,value:De,error:Fe}}var ee=k(3410),X=k(2806);class _e extends M.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,M.Nn)(De)&&De.add(this)):this.destination=ut}static create(De,Fe,nt){return new et(De,Fe,nt)}next(De){this.isStopped?tt(function he(He){return Ee("N",He,void 0)}(De),this):this._next(De)}error(De){this.isStopped?tt(function be(He){return Ee("E",void 0,He)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?tt(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Je=Function.prototype.bind;function Ue(He,De){return Je.call(He,De)}class je{constructor(De){this.partialObserver=De}next(De){const{partialObserver:Fe}=this;if(Fe.next)try{Fe.next(De)}catch(nt){Ae(nt)}}error(De){const{partialObserver:Fe}=this;if(Fe.error)try{Fe.error(De)}catch(nt){Ae(nt)}else Ae(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(Fe){Ae(Fe)}}}class et extends _e{constructor(De,Fe,nt){let rt;if(super(),(0,f.m)(De)||!De)rt={next:null!=De?De:void 0,error:null!=Fe?Fe:void 0,complete:null!=nt?nt:void 0};else{let ne;this&&z.v.useDeprecatedNextContext?(ne=Object.create(De),ne.unsubscribe=()=>this.unsubscribe(),rt={next:De.next&&Ue(De.next,ne),error:De.error&&Ue(De.error,ne),complete:De.complete&&Ue(De.complete,ne)}):rt=De}this.destination=new je(rt)}}function Ae(He){z.v.useDeprecatedSynchronousErrorHandling?(0,X.O)(He):(0,le.h)(He)}function tt(He,De){const{onStoppedNotification:Fe}=z.v;Fe&&ee.z.setTimeout(()=>Fe(He,De))}const ut={closed:!0,next:ce.Z,error:function Ne(He){throw He},complete:ce.Z}},727:(st,Ie,k)=>{k.d(Ie,{Lc:()=>pe,w0:()=>ce,Nn:()=>be});var f=k(576);const z=(0,k(3888).d)(Ee=>function(X){Ee(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((_e,Je)=>`${Je+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var le=k(8737);class ce{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const Ue of X)Ue.remove(this);else X.remove(this);const{initialTeardown:_e}=this;if((0,f.m)(_e))try{_e()}catch(Ue){ee=Ue instanceof z?Ue.errors:[Ue]}const{_finalizers:Je}=this;if(Je){this._finalizers=null;for(const Ue of Je)try{he(Ue)}catch(je){ee=null!=ee?ee:[],je instanceof z?ee=[...ee,...je.errors]:ee.push(je)}}if(ee)throw new z(ee)}}add(ee){var X;if(ee&&ee!==this)if(this.closed)he(ee);else{if(ee instanceof ce){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(ee)}}_hasParent(ee){const{_parentage:X}=this;return X===ee||Array.isArray(X)&&X.includes(ee)}_addParent(ee){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(ee),X):X?[X,ee]:ee}_removeParent(ee){const{_parentage:X}=this;X===ee?this._parentage=null:Array.isArray(X)&&(0,le.P)(X,ee)}remove(ee){const{_finalizers:X}=this;X&&(0,le.P)(X,ee),ee instanceof ce&&ee._removeParent(this)}}ce.EMPTY=(()=>{const Ee=new ce;return Ee.closed=!0,Ee})();const pe=ce.EMPTY;function be(Ee){return Ee instanceof ce||Ee&&"closed"in Ee&&(0,f.m)(Ee.remove)&&(0,f.m)(Ee.add)&&(0,f.m)(Ee.unsubscribe)}function he(Ee){(0,f.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(st,Ie,k)=>{k.d(Ie,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(st,Ie,k)=>{k.d(Ie,{z:()=>ce});var f=k(8189),z=k(3269),le=k(8996);function ce(...pe){return function M(){return(0,f.J)(1)}()((0,le.D)(pe,(0,z.yG)(pe)))}},515:(st,Ie,k)=>{k.d(Ie,{E:()=>M});const M=new(k(8306).y)(ce=>ce.complete())},4128:(st,Ie,k)=>{k.d(Ie,{D:()=>he});var f=k(8306),M=k(4742),z=k(8421),le=k(3269),ce=k(5403),pe=k(3268),be=k(1810);function he(...Ee){const ee=(0,le.jO)(Ee),{args:X,keys:_e}=(0,M.D)(Ee),Je=new f.y(Ue=>{const{length:je}=X;if(!je)return void Ue.complete();const et=new Array(je);let Ae=je,Ne=je;for(let tt=0;tt<je;tt++){let ut=!1;(0,z.Xf)(X[tt]).subscribe((0,ce.x)(Ue,He=>{ut||(ut=!0,Ne--),et[tt]=He},()=>Ae--,void 0,()=>{(!Ae||!ut)&&(Ne||Ue.next(_e?(0,be.n)(_e,et):et),Ue.complete())}))}});return ee?Je.pipe((0,pe.Z)(ee)):Je}},8996:(st,Ie,k)=>{k.d(Ie,{D:()=>De});var f=k(8421),M=k(5363),z=k(9468),pe=k(8306),he=k(2202),Ee=k(576),ee=k(9672);function _e(Fe,nt){if(!Fe)throw new Error("Iterable cannot be null");return new pe.y(rt=>{(0,ee.f)(rt,nt,()=>{const ne=Fe[Symbol.asyncIterator]();(0,ee.f)(rt,nt,()=>{ne.next().then(Le=>{Le.done?rt.complete():rt.next(Le.value)})},0,!0)})})}var Je=k(3670),Ue=k(8239),je=k(1144),et=k(6495),Ae=k(2206),Ne=k(4532),tt=k(3260);function De(Fe,nt){return nt?function He(Fe,nt){if(null!=Fe){if((0,Je.c)(Fe))return function le(Fe,nt){return(0,f.Xf)(Fe).pipe((0,z.R)(nt),(0,M.Q)(nt))}(Fe,nt);if((0,je.z)(Fe))return function be(Fe,nt){return new pe.y(rt=>{let ne=0;return nt.schedule(function(){ne===Fe.length?rt.complete():(rt.next(Fe[ne++]),rt.closed||this.schedule())})})}(Fe,nt);if((0,Ue.t)(Fe))return function ce(Fe,nt){return(0,f.Xf)(Fe).pipe((0,z.R)(nt),(0,M.Q)(nt))}(Fe,nt);if((0,Ae.D)(Fe))return _e(Fe,nt);if((0,et.T)(Fe))return function X(Fe,nt){return new pe.y(rt=>{let ne;return(0,ee.f)(rt,nt,()=>{ne=Fe[he.h](),(0,ee.f)(rt,nt,()=>{let Le,de;try{({value:Le,done:de}=ne.next())}catch(ye){return void rt.error(ye)}de?rt.complete():rt.next(Le)},0,!0)}),()=>(0,Ee.m)(null==ne?void 0:ne.return)&&ne.return()})}(Fe,nt);if((0,tt.L)(Fe))return function ut(Fe,nt){return _e((0,tt.Q)(Fe),nt)}(Fe,nt)}throw(0,Ne.z)(Fe)}(Fe,nt):(0,f.Xf)(Fe)}},8421:(st,Ie,k)=>{k.d(Ie,{Xf:()=>Je});var f=k(655),M=k(1144),z=k(8239),le=k(8306),ce=k(3670),pe=k(2206),be=k(4532),he=k(6495),Ee=k(3260),ee=k(576),X=k(7849),_e=k(8822);function Je(He){if(He instanceof le.y)return He;if(null!=He){if((0,ce.c)(He))return function Ue(He){return new le.y(De=>{const Fe=He[_e.L]();if((0,ee.m)(Fe.subscribe))return Fe.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,M.z)(He))return function je(He){return new le.y(De=>{for(let Fe=0;Fe<He.length&&!De.closed;Fe++)De.next(He[Fe]);De.complete()})}(He);if((0,z.t)(He))return function et(He){return new le.y(De=>{He.then(Fe=>{De.closed||(De.next(Fe),De.complete())},Fe=>De.error(Fe)).then(null,X.h)})}(He);if((0,pe.D)(He))return Ne(He);if((0,he.T)(He))return function Ae(He){return new le.y(De=>{for(const Fe of He)if(De.next(Fe),De.closed)return;De.complete()})}(He);if((0,Ee.L)(He))return function tt(He){return Ne((0,Ee.Q)(He))}(He)}throw(0,be.z)(He)}function Ne(He){return new le.y(De=>{(function ut(He,De){var Fe,nt,rt,ne;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Fe=(0,f.KL)(He);!(nt=yield Fe.next()).done;)if(De.next(nt.value),De.closed)return}catch(Le){rt={error:Le}}finally{try{nt&&!nt.done&&(ne=Fe.return)&&(yield ne.call(Fe))}finally{if(rt)throw rt.error}}De.complete()})})(He,De).catch(Fe=>De.error(Fe))})}},6451:(st,Ie,k)=>{k.d(Ie,{T:()=>pe});var f=k(8189),M=k(8421),z=k(515),le=k(3269),ce=k(8996);function pe(...be){const he=(0,le.yG)(be),Ee=(0,le._6)(be,1/0),ee=be;return ee.length?1===ee.length?(0,M.Xf)(ee[0]):(0,f.J)(Ee)((0,ce.D)(ee,he)):z.E}},9646:(st,Ie,k)=>{k.d(Ie,{of:()=>z});var f=k(3269),M=k(8996);function z(...le){const ce=(0,f.yG)(le);return(0,M.D)(le,ce)}},5403:(st,Ie,k)=>{k.d(Ie,{x:()=>M});var f=k(930);function M(le,ce,pe,be,he){return new z(le,ce,pe,be,he)}class z extends f.Lv{constructor(ce,pe,be,he,Ee,ee){super(ce),this.onFinalize=Ee,this.shouldUnsubscribe=ee,this._next=pe?function(X){try{pe(X)}catch(_e){ce.error(_e)}}:super._next,this._error=he?function(X){try{he(X)}catch(_e){ce.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(X){ce.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},4351:(st,Ie,k)=>{k.d(Ie,{b:()=>z});var f=k(5577),M=k(576);function z(le,ce){return(0,M.m)(ce)?(0,f.z)(le,ce,1):(0,f.z)(le,1)}},6590:(st,Ie,k)=>{k.d(Ie,{d:()=>z});var f=k(4482),M=k(5403);function z(le){return(0,f.e)((ce,pe)=>{let be=!1;ce.subscribe((0,M.x)(pe,he=>{be=!0,pe.next(he)},()=>{be||pe.next(le),pe.complete()}))})}},1884:(st,Ie,k)=>{k.d(Ie,{x:()=>le});var f=k(4671),M=k(4482),z=k(5403);function le(pe,be=f.y){return pe=null!=pe?pe:ce,(0,M.e)((he,Ee)=>{let ee,X=!0;he.subscribe((0,z.x)(Ee,_e=>{const Je=be(_e);(X||!pe(ee,Je))&&(X=!1,ee=Je,Ee.next(_e))}))})}function ce(pe,be){return pe===be}},9300:(st,Ie,k)=>{k.d(Ie,{h:()=>z});var f=k(4482),M=k(5403);function z(le,ce){return(0,f.e)((pe,be)=>{let he=0;pe.subscribe((0,M.x)(be,Ee=>le.call(ce,Ee,he++)&&be.next(Ee)))})}},590:(st,Ie,k)=>{k.d(Ie,{P:()=>be});var f=k(6805),M=k(9300),z=k(5698),le=k(6590),ce=k(8068),pe=k(4671);function be(he,Ee){const ee=arguments.length>=2;return X=>X.pipe(he?(0,M.h)((_e,Je)=>he(_e,Je,X)):pe.y,(0,z.q)(1),ee?(0,le.d)(Ee):(0,ce.T)(()=>new f.K))}},4004:(st,Ie,k)=>{k.d(Ie,{U:()=>z});var f=k(4482),M=k(5403);function z(le,ce){return(0,f.e)((pe,be)=>{let he=0;pe.subscribe((0,M.x)(be,Ee=>{be.next(le.call(ce,Ee,he++))}))})}},8189:(st,Ie,k)=>{k.d(Ie,{J:()=>z});var f=k(5577),M=k(4671);function z(le=1/0){return(0,f.z)(M.y,le)}},5577:(st,Ie,k)=>{k.d(Ie,{z:()=>he});var f=k(4004),M=k(8421),z=k(4482),le=k(9672),ce=k(5403),be=k(576);function he(Ee,ee,X=1/0){return(0,be.m)(ee)?he((_e,Je)=>(0,f.U)((Ue,je)=>ee(_e,Ue,Je,je))((0,M.Xf)(Ee(_e,Je))),X):("number"==typeof ee&&(X=ee),(0,z.e)((_e,Je)=>function pe(Ee,ee,X,_e,Je,Ue,je,et){const Ae=[];let Ne=0,tt=0,ut=!1;const He=()=>{ut&&!Ae.length&&!Ne&&ee.complete()},De=nt=>Ne<_e?Fe(nt):Ae.push(nt),Fe=nt=>{Ue&&ee.next(nt),Ne++;let rt=!1;(0,M.Xf)(X(nt,tt++)).subscribe((0,ce.x)(ee,ne=>{null==Je||Je(ne),Ue?De(ne):ee.next(ne)},()=>{rt=!0},void 0,()=>{if(rt)try{for(Ne--;Ae.length&&Ne<_e;){const ne=Ae.shift();je?(0,le.f)(ee,je,()=>Fe(ne)):Fe(ne)}He()}catch(ne){ee.error(ne)}}))};return Ee.subscribe((0,ce.x)(ee,De,()=>{ut=!0,He()})),()=>{null==et||et()}}(_e,Je,Ee,X)))}},5363:(st,Ie,k)=>{k.d(Ie,{Q:()=>le});var f=k(9672),M=k(4482),z=k(5403);function le(ce,pe=0){return(0,M.e)((be,he)=>{be.subscribe((0,z.x)(he,Ee=>(0,f.f)(he,ce,()=>he.next(Ee),pe),()=>(0,f.f)(he,ce,()=>he.complete(),pe),Ee=>(0,f.f)(he,ce,()=>he.error(Ee),pe)))})}},5026:(st,Ie,k)=>{k.d(Ie,{R:()=>le});var f=k(4482),M=k(5403);function z(ce,pe,be,he,Ee){return(ee,X)=>{let _e=be,Je=pe,Ue=0;ee.subscribe((0,M.x)(X,je=>{const et=Ue++;Je=_e?ce(Je,je,et):(_e=!0,je),he&&X.next(Je)},Ee&&(()=>{_e&&X.next(Je),X.complete()})))}}function le(ce,pe){return(0,f.e)(z(ce,pe,arguments.length>=2,!0))}},3099:(st,Ie,k)=>{k.d(Ie,{B:()=>pe});var f=k(8996),M=k(5698),z=k(7579),le=k(930),ce=k(4482);function pe(he={}){const{connector:Ee=(()=>new z.x),resetOnError:ee=!0,resetOnComplete:X=!0,resetOnRefCountZero:_e=!0}=he;return Je=>{let Ue=null,je=null,et=null,Ae=0,Ne=!1,tt=!1;const ut=()=>{null==je||je.unsubscribe(),je=null},He=()=>{ut(),Ue=et=null,Ne=tt=!1},De=()=>{const Fe=Ue;He(),null==Fe||Fe.unsubscribe()};return(0,ce.e)((Fe,nt)=>{Ae++,!tt&&!Ne&&ut();const rt=et=null!=et?et:Ee();nt.add(()=>{Ae--,0===Ae&&!tt&&!Ne&&(je=be(De,_e))}),rt.subscribe(nt),Ue||(Ue=new le.Hp({next:ne=>rt.next(ne),error:ne=>{tt=!0,ut(),je=be(He,ee,ne),rt.error(ne)},complete:()=>{Ne=!0,ut(),je=be(He,X),rt.complete()}}),(0,f.D)(Fe).subscribe(Ue))})(Je)}}function be(he,Ee,...ee){return!0===Ee?(he(),null):!1===Ee?null:Ee(...ee).pipe((0,M.q)(1)).subscribe(()=>he())}},9468:(st,Ie,k)=>{k.d(Ie,{R:()=>M});var f=k(4482);function M(z,le=0){return(0,f.e)((ce,pe)=>{pe.add(z.schedule(()=>ce.subscribe(pe),le))})}},3900:(st,Ie,k)=>{k.d(Ie,{w:()=>le});var f=k(8421),M=k(4482),z=k(5403);function le(ce,pe){return(0,M.e)((be,he)=>{let Ee=null,ee=0,X=!1;const _e=()=>X&&!Ee&&he.complete();be.subscribe((0,z.x)(he,Je=>{null==Ee||Ee.unsubscribe();let Ue=0;const je=ee++;(0,f.Xf)(ce(Je,je)).subscribe(Ee=(0,z.x)(he,et=>he.next(pe?pe(Je,et,je,Ue++):et),()=>{Ee=null,_e()}))},()=>{X=!0,_e()}))})}},5698:(st,Ie,k)=>{k.d(Ie,{q:()=>le});var f=k(515),M=k(4482),z=k(5403);function le(ce){return ce<=0?()=>f.E:(0,M.e)((pe,be)=>{let he=0;pe.subscribe((0,z.x)(be,Ee=>{++he<=ce&&(be.next(Ee),ce<=he&&be.complete())}))})}},8505:(st,Ie,k)=>{k.d(Ie,{b:()=>ce});var f=k(576),M=k(4482),z=k(5403),le=k(4671);function ce(pe,be,he){const Ee=(0,f.m)(pe)||be||he?{next:pe,error:be,complete:he}:pe;return Ee?(0,M.e)((ee,X)=>{var _e;null===(_e=Ee.subscribe)||void 0===_e||_e.call(Ee);let Je=!0;ee.subscribe((0,z.x)(X,Ue=>{var je;null===(je=Ee.next)||void 0===je||je.call(Ee,Ue),X.next(Ue)},()=>{var Ue;Je=!1,null===(Ue=Ee.complete)||void 0===Ue||Ue.call(Ee),X.complete()},Ue=>{var je;Je=!1,null===(je=Ee.error)||void 0===je||je.call(Ee,Ue),X.error(Ue)},()=>{var Ue,je;Je&&(null===(Ue=Ee.unsubscribe)||void 0===Ue||Ue.call(Ee)),null===(je=Ee.finalize)||void 0===je||je.call(Ee)}))}):le.y}},8068:(st,Ie,k)=>{k.d(Ie,{T:()=>le});var f=k(6805),M=k(4482),z=k(5403);function le(pe=ce){return(0,M.e)((be,he)=>{let Ee=!1;be.subscribe((0,z.x)(he,ee=>{Ee=!0,he.next(ee)},()=>Ee?he.complete():he.error(pe())))})}function ce(){return new f.K}},4408:(st,Ie,k)=>{k.d(Ie,{o:()=>ce});var f=k(727);class M extends f.w0{constructor(be,he){super()}schedule(be,he=0){return this}}const z={setInterval(pe,be,...he){const{delegate:Ee}=z;return(null==Ee?void 0:Ee.setInterval)?Ee.setInterval(pe,be,...he):setInterval(pe,be,...he)},clearInterval(pe){const{delegate:be}=z;return((null==be?void 0:be.clearInterval)||clearInterval)(pe)},delegate:void 0};var le=k(8737);class ce extends M{constructor(be,he){super(be,he),this.scheduler=be,this.work=he,this.pending=!1}schedule(be,he=0){if(this.closed)return this;this.state=be;const Ee=this.id,ee=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(ee,Ee,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(ee,this.id,he),this}requestAsyncId(be,he,Ee=0){return z.setInterval(be.flush.bind(be,this),Ee)}recycleAsyncId(be,he,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return he;z.clearInterval(he)}execute(be,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(be,he);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,he){let ee,Ee=!1;try{this.work(be)}catch(X){Ee=!0,ee=X||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:be,scheduler:he}=this,{actions:Ee}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(Ee,this),null!=be&&(this.id=this.recycleAsyncId(he,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,Ie,k)=>{k.d(Ie,{v:()=>z});var f=k(6063);class M{constructor(ce,pe=M.now){this.schedulerActionCtor=ce,this.now=pe}schedule(ce,pe=0,be){return new this.schedulerActionCtor(this,ce).schedule(be,pe)}}M.now=f.l.now;class z extends M{constructor(ce,pe=M.now){super(ce,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ce){const{actions:pe}=this;if(this._active)return void pe.push(ce);let be;this._active=!0;do{if(be=ce.execute(ce.state,ce.delay))break}while(ce=pe.shift());if(this._active=!1,be){for(;ce=pe.shift();)ce.unsubscribe();throw be}}}},4986:(st,Ie,k)=>{k.d(Ie,{P:()=>le,z:()=>z});var f=k(4408);const z=new(k(7565).v)(f.o),le=z},6063:(st,Ie,k)=>{k.d(Ie,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(st,Ie,k)=>{k.d(Ie,{z:()=>f});const f={setTimeout(M,z,...le){const{delegate:ce}=f;return(null==ce?void 0:ce.setTimeout)?ce.setTimeout(M,z,...le):setTimeout(M,z,...le)},clearTimeout(M){const{delegate:z}=f;return((null==z?void 0:z.clearTimeout)||clearTimeout)(M)},delegate:void 0}},2202:(st,Ie,k)=>{k.d(Ie,{h:()=>M});const M=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(st,Ie,k)=>{k.d(Ie,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(st,Ie,k)=>{k.d(Ie,{K:()=>M});const M=(0,k(3888).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(st,Ie,k)=>{k.d(Ie,{_6:()=>pe,jO:()=>le,yG:()=>ce});var f=k(576),M=k(3532);function z(be){return be[be.length-1]}function le(be){return(0,f.m)(z(be))?be.pop():void 0}function ce(be){return(0,M.K)(z(be))?be.pop():void 0}function pe(be,he){return"number"==typeof z(be)?be.pop():he}},4742:(st,Ie,k)=>{k.d(Ie,{D:()=>ce});const{isArray:f}=Array,{getPrototypeOf:M,prototype:z,keys:le}=Object;function ce(be){if(1===be.length){const he=be[0];if(f(he))return{args:he,keys:null};if(function pe(be){return be&&"object"==typeof be&&M(be)===z}(he)){const Ee=le(he);return{args:Ee.map(ee=>he[ee]),keys:Ee}}}return{args:be,keys:null}}},8737:(st,Ie,k)=>{function f(M,z){if(M){const le=M.indexOf(z);0<=le&&M.splice(le,1)}}k.d(Ie,{P:()=>f})},3888:(st,Ie,k)=>{function f(M){const le=M(ce=>{Error.call(ce),ce.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}k.d(Ie,{d:()=>f})},1810:(st,Ie,k)=>{function f(M,z){return M.reduce((le,ce,pe)=>(le[ce]=z[pe],le),{})}k.d(Ie,{n:()=>f})},2806:(st,Ie,k)=>{k.d(Ie,{O:()=>le,x:()=>z});var f=k(2416);let M=null;function z(ce){if(f.v.useDeprecatedSynchronousErrorHandling){const pe=!M;if(pe&&(M={errorThrown:!1,error:null}),ce(),pe){const{errorThrown:be,error:he}=M;if(M=null,be)throw he}}else ce()}function le(ce){f.v.useDeprecatedSynchronousErrorHandling&&M&&(M.errorThrown=!0,M.error=ce)}},9672:(st,Ie,k)=>{function f(M,z,le,ce=0,pe=!1){const be=z.schedule(function(){le(),pe?M.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(M.add(be),!pe)return be}k.d(Ie,{f:()=>f})},4671:(st,Ie,k)=>{function f(M){return M}k.d(Ie,{y:()=>f})},1144:(st,Ie,k)=>{k.d(Ie,{z:()=>f});const f=M=>M&&"number"==typeof M.length&&"function"!=typeof M},2206:(st,Ie,k)=>{k.d(Ie,{D:()=>M});var f=k(576);function M(z){return Symbol.asyncIterator&&(0,f.m)(null==z?void 0:z[Symbol.asyncIterator])}},576:(st,Ie,k)=>{function f(M){return"function"==typeof M}k.d(Ie,{m:()=>f})},3670:(st,Ie,k)=>{k.d(Ie,{c:()=>z});var f=k(8822),M=k(576);function z(le){return(0,M.m)(le[f.L])}},6495:(st,Ie,k)=>{k.d(Ie,{T:()=>z});var f=k(2202),M=k(576);function z(le){return(0,M.m)(null==le?void 0:le[f.h])}},8239:(st,Ie,k)=>{k.d(Ie,{t:()=>M});var f=k(576);function M(z){return(0,f.m)(null==z?void 0:z.then)}},3260:(st,Ie,k)=>{k.d(Ie,{L:()=>le,Q:()=>z});var f=k(655),M=k(576);function z(ce){return(0,f.FC)(this,arguments,function*(){const be=ce.getReader();try{for(;;){const{value:he,done:Ee}=yield(0,f.qq)(be.read());if(Ee)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(he)}}finally{be.releaseLock()}})}function le(ce){return(0,M.m)(null==ce?void 0:ce.getReader)}},3532:(st,Ie,k)=>{k.d(Ie,{K:()=>M});var f=k(576);function M(z){return z&&(0,f.m)(z.schedule)}},4482:(st,Ie,k)=>{k.d(Ie,{A:()=>M,e:()=>z});var f=k(576);function M(le){return(0,f.m)(null==le?void 0:le.lift)}function z(le){return ce=>{if(M(ce))return ce.lift(function(pe){try{return le(pe,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(st,Ie,k)=>{k.d(Ie,{Z:()=>le});var f=k(4004);const{isArray:M}=Array;function le(ce){return(0,f.U)(pe=>function z(ce,pe){return M(pe)?ce(...pe):ce(pe)}(ce,pe))}},5032:(st,Ie,k)=>{function f(){}k.d(Ie,{Z:()=>f})},7849:(st,Ie,k)=>{k.d(Ie,{h:()=>z});var f=k(2416),M=k(3410);function z(le){M.z.setTimeout(()=>{const{onUnhandledError:ce}=f.v;if(!ce)throw le;ce(le)})}},4532:(st,Ie,k)=>{function f(M){return new TypeError(`You provided ${null!==M&&"object"==typeof M?"an invalid object":`'${M}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ie,{z:()=>f})},655:(st,Ie,k)=>{function le(de,ye){var Ce={};for(var Re in de)Object.prototype.hasOwnProperty.call(de,Re)&&ye.indexOf(Re)<0&&(Ce[Re]=de[Re]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(Re=Object.getOwnPropertySymbols(de);Me<Re.length;Me++)ye.indexOf(Re[Me])<0&&Object.prototype.propertyIsEnumerable.call(de,Re[Me])&&(Ce[Re[Me]]=de[Re[Me]])}return Ce}function he(de,ye,Ce,Re){return new(Ce||(Ce=Promise))(function(Xe,ot){function Dt(Bt){try{Ye(Re.next(Bt))}catch(zt){ot(zt)}}function lt(Bt){try{Ye(Re.throw(Bt))}catch(zt){ot(zt)}}function Ye(Bt){Bt.done?Xe(Bt.value):function Me(Xe){return Xe instanceof Ce?Xe:new Ce(function(ot){ot(Xe)})}(Bt.value).then(Dt,lt)}Ye((Re=Re.apply(de,ye||[])).next())})}function Ae(de){return this instanceof Ae?(this.v=de,this):new Ae(de)}function Ne(de,ye,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,Re=Ce.apply(de,ye||[]),Xe=[];return Me={},ot("next"),ot("throw"),ot("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function ot(Rt){Re[Rt]&&(Me[Rt]=function(Ct){return new Promise(function(jt,kt){Xe.push([Rt,Ct,jt,kt])>1||Dt(Rt,Ct)})})}function Dt(Rt,Ct){try{!function lt(Rt){Rt.value instanceof Ae?Promise.resolve(Rt.value.v).then(Ye,Bt):zt(Xe[0][2],Rt)}(Re[Rt](Ct))}catch(jt){zt(Xe[0][3],jt)}}function Ye(Rt){Dt("next",Rt)}function Bt(Rt){Dt("throw",Rt)}function zt(Rt,Ct){Rt(Ct),Xe.shift(),Xe.length&&Dt(Xe[0][0],Xe[0][1])}}function ut(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,ye=de[Symbol.asyncIterator];return ye?ye.call(de):(de=function _e(de){var ye="function"==typeof Symbol&&Symbol.iterator,Ce=ye&&de[ye],Re=0;if(Ce)return Ce.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&Re>=de.length&&(de=void 0),{value:de&&de[Re++],done:!de}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),Ce={},Re("next"),Re("throw"),Re("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function Re(Xe){Ce[Xe]=de[Xe]&&function(ot){return new Promise(function(Dt,lt){!function Me(Xe,ot,Dt,lt){Promise.resolve(lt).then(function(Ye){Xe({value:Ye,done:Dt})},ot)}(Dt,lt,(ot=de[Xe](ot)).done,ot.value)})}}}k.d(Ie,{FC:()=>Ne,KL:()=>ut,_T:()=>le,mG:()=>he,qq:()=>Ae})},9808:(st,Ie,k)=>{k.d(Ie,{Do:()=>He,EM:()=>bs,HT:()=>ce,JF:()=>Rn,K0:()=>be,Mx:()=>Ii,O5:()=>pr,Ov:()=>$e,PM:()=>Bi,S$:()=>Ae,V_:()=>ee,Ye:()=>De,b0:()=>ut,bD:()=>ui,ez:()=>Rs,lw:()=>he,mr:()=>tt,q:()=>z,rS:()=>Nt,sg:()=>Vn,w_:()=>pe});var f=k(5e3);let M=null;function z(){return M}function ce(P){M||(M=P)}class pe{}const be=new f.OlP("DocumentToken");let he=(()=>{class P{historyGo(S){throw new Error("Not implemented")}}return P.\u0275fac=function(S){return new(S||P)},P.\u0275prov=f.Yz7({token:P,factory:function(){return function Ee(){return(0,f.LFG)(X)}()},providedIn:"platform"}),P})();const ee=new f.OlP("Location Initialized");let X=(()=>{class P extends he{constructor(S){super(),this._doc=S,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(S){const W=z().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",S,!1),()=>W.removeEventListener("popstate",S)}onHashChange(S){const W=z().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",S,!1),()=>W.removeEventListener("hashchange",S)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(S){this.location.pathname=S}pushState(S,W,oe){_e()?this._history.pushState(S,W,oe):this.location.hash=oe}replaceState(S,W,oe){_e()?this._history.replaceState(S,W,oe):this.location.hash=oe}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return P.\u0275fac=function(S){return new(S||P)(f.LFG(be))},P.\u0275prov=f.Yz7({token:P,factory:function(){return function Je(){return new X((0,f.LFG)(be))}()},providedIn:"platform"}),P})();function _e(){return!!window.history.pushState}function Ue(P,B){if(0==P.length)return B;if(0==B.length)return P;let S=0;return P.endsWith("/")&&S++,B.startsWith("/")&&S++,2==S?P+B.substring(1):1==S?P+B:P+"/"+B}function je(P){const B=P.match(/#|\?|$/),S=B&&B.index||P.length;return P.slice(0,S-("/"===P[S-1]?1:0))+P.slice(S)}function et(P){return P&&"?"!==P[0]?"?"+P:P}let Ae=(()=>{class P{historyGo(S){throw new Error("Not implemented")}}return P.\u0275fac=function(S){return new(S||P)},P.\u0275prov=f.Yz7({token:P,factory:function(){return function Ne(P){const B=(0,f.LFG)(be).location;return new ut((0,f.LFG)(he),B&&B.origin||"")}()},providedIn:"root"}),P})();const tt=new f.OlP("appBaseHref");let ut=(()=>{class P extends Ae{constructor(S,W){if(super(),this._platformLocation=S,this._removeListenerFns=[],null==W&&(W=this._platformLocation.getBaseHrefFromDOM()),null==W)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=W}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return Ue(this._baseHref,S)}path(S=!1){const W=this._platformLocation.pathname+et(this._platformLocation.search),oe=this._platformLocation.hash;return oe&&S?`${W}${oe}`:W}pushState(S,W,oe,xe){const ze=this.prepareExternalUrl(oe+et(xe));this._platformLocation.pushState(S,W,ze)}replaceState(S,W,oe,xe){const ze=this.prepareExternalUrl(oe+et(xe));this._platformLocation.replaceState(S,W,ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(S=0){var W,oe;null===(oe=(W=this._platformLocation).historyGo)||void 0===oe||oe.call(W,S)}}return P.\u0275fac=function(S){return new(S||P)(f.LFG(he),f.LFG(tt,8))},P.\u0275prov=f.Yz7({token:P,factory:P.\u0275fac}),P})(),He=(()=>{class P extends Ae{constructor(S,W){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(S){const W=Ue(this._baseHref,S);return W.length>0?"#"+W:W}pushState(S,W,oe,xe){let ze=this.prepareExternalUrl(oe+et(xe));0==ze.length&&(ze=this._platformLocation.pathname),this._platformLocation.pushState(S,W,ze)}replaceState(S,W,oe,xe){let ze=this.prepareExternalUrl(oe+et(xe));0==ze.length&&(ze=this._platformLocation.pathname),this._platformLocation.replaceState(S,W,ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(S=0){var W,oe;null===(oe=(W=this._platformLocation).historyGo)||void 0===oe||oe.call(W,S)}}return P.\u0275fac=function(S){return new(S||P)(f.LFG(he),f.LFG(tt,8))},P.\u0275prov=f.Yz7({token:P,factory:P.\u0275fac}),P})(),De=(()=>{class P{constructor(S,W){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=S;const oe=this._platformStrategy.getBaseHref();this._platformLocation=W,this._baseHref=je(rt(oe)),this._platformStrategy.onPopState(xe=>{this._subject.emit({url:this.path(!0),pop:!0,state:xe.state,type:xe.type})})}path(S=!1){return this.normalize(this._platformStrategy.path(S))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(S,W=""){return this.path()==this.normalize(S+et(W))}normalize(S){return P.stripTrailingSlash(function nt(P,B){return P&&B.startsWith(P)?B.substring(P.length):B}(this._baseHref,rt(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._platformStrategy.prepareExternalUrl(S)}go(S,W="",oe=null){this._platformStrategy.pushState(oe,"",S,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+et(W)),oe)}replaceState(S,W="",oe=null){this._platformStrategy.replaceState(oe,"",S,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+et(W)),oe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(S=0){var W,oe;null===(oe=(W=this._platformStrategy).historyGo)||void 0===oe||oe.call(W,S)}onUrlChange(S){this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)}))}_notifyUrlChangeListeners(S="",W){this._urlChangeListeners.forEach(oe=>oe(S,W))}subscribe(S,W,oe){return this._subject.subscribe({next:S,error:W,complete:oe})}}return P.normalizeQueryParams=et,P.joinWithSlash=Ue,P.stripTrailingSlash=je,P.\u0275fac=function(S){return new(S||P)(f.LFG(Ae),f.LFG(he))},P.\u0275prov=f.Yz7({token:P,factory:function(){return function Fe(){return new De((0,f.LFG)(Ae),(0,f.LFG)(he))}()},providedIn:"root"}),P})();function rt(P){return P.replace(/\/index.html$/,"")}function Ii(P,B){B=encodeURIComponent(B);for(const S of P.split(";")){const W=S.indexOf("="),[oe,xe]=-1==W?[S,""]:[S.slice(0,W),S.slice(W+1)];if(oe.trim()===B)return decodeURIComponent(xe)}return null}class Or{constructor(B,S,W,oe){this.$implicit=B,this.ngForOf=S,this.index=W,this.count=oe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vn=(()=>{class P{constructor(S,W,oe){this._viewContainer=S,this._template=W,this._differs=oe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const W=this._viewContainer;S.forEachOperation((oe,xe,ze)=>{if(null==oe.previousIndex)W.createEmbeddedView(this._template,new Or(oe.item,this._ngForOf,-1,-1),null===ze?void 0:ze);else if(null==ze)W.remove(null===xe?void 0:xe);else if(null!==xe){const Pt=W.get(xe);W.move(Pt,ze),Yn(Pt,oe)}});for(let oe=0,xe=W.length;oe<xe;oe++){const Pt=W.get(oe).context;Pt.index=oe,Pt.count=xe,Pt.ngForOf=this._ngForOf}S.forEachIdentityChange(oe=>{Yn(W.get(oe.currentIndex),oe)})}static ngTemplateContextGuard(S,W){return!0}}return P.\u0275fac=function(S){return new(S||P)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},P.\u0275dir=f.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),P})();function Yn(P,B){P.context.$implicit=B.item}let pr=(()=>{class P{constructor(S,W){this._viewContainer=S,this._context=new mn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){Os("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){Os("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,W){return!0}}return P.\u0275fac=function(S){return new(S||P)(f.Y36(f.s_b),f.Y36(f.Rgc))},P.\u0275dir=f.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),P})();class mn{constructor(){this.$implicit=null,this.ngIf=null}}function Os(P,B){if(B&&!B.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,f.AaK)(B)}'.`)}function qn(P,B){return new f.vHH(2100,"")}class Er{createSubscription(B,S){return B.subscribe({next:S,error:W=>{throw W}})}dispose(B){B.unsubscribe()}onDestroy(B){B.unsubscribe()}}class me{createSubscription(B,S){return B.then(S,W=>{throw W})}dispose(B){}onDestroy(B){}}const ge=new me,Te=new Er;let $e=(()=>{class P{constructor(S){this._ref=S,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(S){return this._obj?S!==this._obj?(this._dispose(),this.transform(S)):this._latestValue:(S&&this._subscribe(S),this._latestValue)}_subscribe(S){this._obj=S,this._strategy=this._selectStrategy(S),this._subscription=this._strategy.createSubscription(S,W=>this._updateLatestValue(S,W))}_selectStrategy(S){if((0,f.QGY)(S))return ge;if((0,f.F4k)(S))return Te;throw qn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(S,W){S===this._obj&&(this._latestValue=W,this._ref.markForCheck())}}return P.\u0275fac=function(S){return new(S||P)(f.Y36(f.sBO,16))},P.\u0275pipe=f.Yjl({name:"async",type:P,pure:!1}),P})();const yt=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Nt=(()=>{class P{transform(S){if(null==S)return null;if("string"!=typeof S)throw qn();return S.replace(yt,W=>W[0].toUpperCase()+W.substr(1).toLowerCase())}}return P.\u0275fac=function(S){return new(S||P)},P.\u0275pipe=f.Yjl({name:"titlecase",type:P,pure:!0}),P})(),Rs=(()=>{class P{}return P.\u0275fac=function(S){return new(S||P)},P.\u0275mod=f.oAB({type:P}),P.\u0275inj=f.cJS({}),P})();const ui="browser";function Bi(P){return"server"===P}let bs=(()=>{class P{}return P.\u0275prov=(0,f.Yz7)({token:P,providedIn:"root",factory:()=>new Ji((0,f.LFG)(be),window)}),P})();class Ji{constructor(B,S){this.document=B,this.window=S,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(B){this.supportsScrolling()&&this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){if(!this.supportsScrolling())return;const S=function Gr(P,B){const S=P.getElementById(B)||P.getElementsByName(B)[0];if(S)return S;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const W=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let oe=W.currentNode;for(;oe;){const xe=oe.shadowRoot;if(xe){const ze=xe.getElementById(B)||xe.querySelector(`[name="${B}"]`);if(ze)return ze}oe=W.nextNode()}}return null}(this.document,B);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(B){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=B)}}scrollToElement(B){const S=B.getBoundingClientRect(),W=S.left+this.window.pageXOffset,oe=S.top+this.window.pageYOffset,xe=this.offset();this.window.scrollTo(W-xe[0],oe-xe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const B=ji(this.window.history)||ji(Object.getPrototypeOf(this.window.history));return!(!B||!B.writable&&!B.set)}catch(B){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(B){return!1}}}function ji(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class Rn{}},5e3:(st,Ie,k)=>{k.d(Ie,{$8M:()=>Ws,$Z:()=>Zm,AFp:()=>pv,ALo:()=>Ly,AaK:()=>he,BQk:()=>dp,CHM:()=>to,CRH:()=>zy,CZH:()=>tm,CqO:()=>Jm,EJc:()=>sb,EpF:()=>qm,F$t:()=>r_,F4k:()=>Qm,FYo:()=>Dy,FiY:()=>Lt,G48:()=>Sb,GfV:()=>Iy,Gpc:()=>X,Hsn:()=>i_,JOm:()=>$,LFG:()=>V,LSH:()=>Xa,Lbi:()=>nb,MAs:()=>Et,NdJ:()=>wg,OlP:()=>kr,Oqu:()=>Og,PXZ:()=>Eb,Q6J:()=>Cg,QGY:()=>Ig,Qsj:()=>J0,R0b:()=>Fa,RDi:()=>ji,Rgc:()=>Kh,SBq:()=>$h,Sil:()=>ab,Suo:()=>Gy,TTD:()=>li,TgZ:()=>lp,VLi:()=>_b,W1O:()=>qy,X6Q:()=>Ab,XFs:()=>Tt,Xpm:()=>at,Y36:()=>Lh,YKP:()=>Sy,YNc:()=>Ge,Yjl:()=>Zt,Yz7:()=>Ct,ZZ4:()=>gm,_Bn:()=>Ey,_UZ:()=>Dg,_Vd:()=>vp,_c5:()=>Wb,_uU:()=>A_,aQg:()=>mm,c2e:()=>rb,cJS:()=>kt,cg1:()=>Rg,dDg:()=>Ev,deG:()=>Su,dqk:()=>en,eFA:()=>Dv,ekj:()=>Mg,g9A:()=>mv,h0i:()=>Od,hGG:()=>Gb,hij:()=>fp,iGM:()=>Wy,ifc:()=>pt,ip1:()=>fv,kL8:()=>K_,lG2:()=>Sr,lcZ:()=>Vy,n5z:()=>rs,oAB:()=>Wt,oxw:()=>n_,q4F:()=>wy,qLn:()=>ba,qOj:()=>kh,qZA:()=>up,s9C:()=>Ag,sBO:()=>Mb,sIi:()=>Cu,s_b:()=>bp,soG:()=>rm,tBr:()=>tn,tb:()=>_v,tp0:()=>wr,uIk:()=>Fh,vHH:()=>je,vpe:()=>yl,wAp:()=>Qt,xp6:()=>Yc,ynx:()=>cp,z2F:()=>um,zSh:()=>Sh,zs3:()=>la});var f=k(7579),M=k(727),z=k(8306),le=k(6451),ce=k(3099);function pe(e){for(let t in e)if(e[t]===pe)return t;throw Error("Could not find renamed property on target object.")}function be(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function he(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(he).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ee(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ee=pe({__forward_ref__:pe});function X(e){return e.__forward_ref__=X,e.toString=function(){return he(this())},e}function _e(e){return Je(e)?e():e}function Je(e){return"function"==typeof e&&e.hasOwnProperty(ee)&&e.__forward_ref__===X}class je extends Error{constructor(t,n){super(function et(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Ae(e){return"string"==typeof e?e:null==e?"":String(e)}function Ne(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ae(e)}function De(e,t){const n=t?` in ${t}`:"";throw new je(-201,`No provider for ${Ne(e)} found${n}`)}function lt(e,t){null==e&&function Ye(e,t,n,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${n} ${o} ${t} <=Actual]`))}(t,e,null,"!=")}function Ct(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function kt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ut(e){return Pn(e,fn)||Pn(e,tr)}function Pn(e,t){return e.hasOwnProperty(t)?e[t]:null}function In(e){return e&&(e.hasOwnProperty(_r)||e.hasOwnProperty(Nr))?e[_r]:null}const fn=pe({\u0275prov:pe}),_r=pe({\u0275inj:pe}),tr=pe({ngInjectableDef:pe}),Nr=pe({ngInjectorDef:pe});var Tt=(()=>((Tt=Tt||{})[Tt.Default=0]="Default",Tt[Tt.Host=1]="Host",Tt[Tt.Self=2]="Self",Tt[Tt.SkipSelf=4]="SkipSelf",Tt[Tt.Optional=8]="Optional",Tt))();let ln;function pn(e){const t=ln;return ln=e,t}function Yr(e,t,n){const o=Ut(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:n&Tt.Optional?null:void 0!==t?t:void De(he(e),"Injector")}function Zn(e){return{toString:e}.toString()}var sr=(()=>((sr=sr||{})[sr.OnPush=0]="OnPush",sr[sr.Default=1]="Default",sr))(),pt=(()=>{return(e=pt||(pt={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",pt;var e})();const At="undefined"!=typeof globalThis&&globalThis,Ot="undefined"!=typeof window&&window,Wn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,en=At||"undefined"!=typeof global&&global||Ot||Wn,wn={},It=[],$r=pe({\u0275cmp:pe}),re=pe({\u0275dir:pe}),ae=pe({\u0275pipe:pe}),Q=pe({\u0275mod:pe}),te=pe({\u0275fac:pe}),se=pe({__NG_ELEMENT_ID__:pe});let Ze=0;function at(e){return Zn(()=>{const n={},o={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===sr.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||It,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||pt.Emulated,id:"c",styles:e.styles||It,_:null,setInput:null,schemas:e.schemas||null,tView:null},l=e.directives,d=e.features,g=e.pipes;return o.id+=Ze++,o.inputs=Gn(e.inputs,n),o.outputs=Gn(e.outputs),d&&d.forEach(E=>E(o)),o.directiveDefs=l?()=>("function"==typeof l?l():l).map(yn):null,o.pipeDefs=g?()=>("function"==typeof g?g():g).map(cn):null,o})}function yn(e){return xn(e)||function Xn(e){return e[re]||null}(e)}function cn(e){return function or(e){return e[ae]||null}(e)}const hr={};function Wt(e){return Zn(()=>{const t={type:e.type,bootstrap:e.bootstrap||It,declarations:e.declarations||It,imports:e.imports||It,exports:e.exports||It,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(hr[e.id]=e.type),t})}function Gn(e,t){if(null==e)return wn;const n={};for(const o in e)if(e.hasOwnProperty(o)){let l=e[o],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),n[l]=o,t&&(t[l]=d)}return n}const Sr=at;function Zt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function xn(e){return e[$r]||null}function ar(e,t){const n=e[Q]||null;if(!n&&!0===t)throw new Error(`Type ${he(e)} does not have '\u0275mod' property.`);return n}function vr(e){return Array.isArray(e)&&"object"==typeof e[1]}function oi(e){return Array.isArray(e)&&!0===e[1]}function wi(e){return 0!=(8&e.flags)}function ys(e){return 2==(2&e.flags)}function Wr(e){return 1==(1&e.flags)}function Jr(e){return null!==e.template}function Fi(e){return 0!=(512&e[2])}function er(e,t){return e.hasOwnProperty(te)?e[te]:null}class Li{constructor(t,n,o){this.previousValue=t,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}}function li(){return Vi}function Vi(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ui),Cs}function Cs(){const e=ui(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===wn)e.previous=t;else for(let o in t)n[o]=t[o];e.current=null,this.ngOnChanges(t)}}function Ui(e,t,n,o){const l=ui(e)||function cs(e,t){return e[Rs]=t}(e,{previous:wn,current:null}),d=l.current||(l.current={}),g=l.previous,E=this.declaredInputs[n],D=g[E];d[E]=new Li(D&&D.currentValue,t,g===wn),e[o]=t}li.ngInherit=!0;const Rs="__ngSimpleChanges__";function ui(e){return e[Rs]||null}let Ji;function ji(e){Ji=e}function Rn(e){return!!e.listen}const P={createRenderer:(e,t)=>function Gr(){return void 0!==Ji?Ji:"undefined"!=typeof document?document:void 0}()};function S(e){for(;Array.isArray(e);)e=e[0];return e}function xe(e,t){return S(t[e])}function ze(e,t){return S(t[e.index])}function Gt(e,t){return e.data[t]}function _n(e,t){return e[t]}function Yt(e,t){const n=t[e];return vr(n)?n:n[0]}function rn(e){return 4==(4&e[2])}function Qn(e){return 128==(128&e[2])}function Un(e,t){return null==t?null:e[t]}function R(e){e[18]=0}function T(e,t){e[5]+=t;let n=e,o=e[3];for(;null!==o&&(1===t&&1===n[5]||-1===t&&0===n[5]);)o[5]+=t,n=o,o=o[3]}const b={lFrame:Us(null),bindingsEnabled:!0};function Ds(){return b.bindingsEnabled}function qe(){return b.lFrame.lView}function gn(){return b.lFrame.tView}function to(e){return b.lFrame.contextLView=e,e[8]}function br(){let e=ks();for(;null!==e&&64===e.type;)e=e.parent;return e}function ks(){return b.lFrame.currentTNode}function ci(e,t){const n=b.lFrame;n.currentTNode=e,n.isParent=t}function no(){return b.lFrame.isParent}function ua(){b.lFrame.isParent=!1}function Fs(){return b.lFrame.bindingIndex++}function Yo(e,t){const n=b.lFrame;n.bindingIndex=n.bindingRootIndex=e,ko(t)}function ko(e){b.lFrame.currentDirectiveIndex=e}function Va(){return b.lFrame.currentQueryIndex}function qo(e){b.lFrame.currentQueryIndex=e}function Ls(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Vs(e,t,n){if(n&Tt.SkipSelf){let l=t,d=e;for(;!(l=l.parent,null!==l||n&Tt.Host||(l=Ls(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;t=l,e=d}const o=b.lFrame=Qo();return o.currentTNode=t,o.lView=e,!0}function K(e){const t=Qo(),n=e[1];b.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Qo(){const e=b.lFrame,t=null===e?null:e.child;return null===t?Us(e):t}function Us(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Jo(){const e=b.lFrame;return b.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const No=Jo;function Bs(){const e=Jo();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function di(){return b.lFrame.selectedIndex}function Hi(e){b.lFrame.selectedIndex=e}function gr(){const e=b.lFrame;return Gt(e.tView,e.selectedIndex)}function js(e,t){for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){const d=e.data[n].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:F,ngOnDestroy:U}=d;g&&(e.contentHooks||(e.contentHooks=[])).push(-n,g),E&&((e.contentHooks||(e.contentHooks=[])).push(n,E),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,E)),D&&(e.viewHooks||(e.viewHooks=[])).push(-n,D),F&&((e.viewHooks||(e.viewHooks=[])).push(n,F),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,F)),null!=U&&(e.destroyHooks||(e.destroyHooks=[])).push(n,U)}}function Kn(e,t,n){$i(e,t,3,n)}function Xi(e,t,n,o){(3&e[2])===n&&$i(e,t,n,o)}function bn(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function $i(e,t,n,o){const d=null!=o?o:-1,g=t.length-1;let E=0;for(let D=void 0!==o?65535&e[18]:0;D<g;D++)if("number"==typeof t[D+1]){if(E=t[D],null!=o&&E>=o)break}else t[D]<0&&(e[18]+=65536),(E<d||-1==d)&&(ni(e,n,t,D),e[18]=(4294901760&e[18])+D+2),D++}function ni(e,t,n,o){const l=n[o]<0,d=n[o+1],E=e[l?-n[o]:n[o]];if(l){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{d.call(E)}finally{}}}else try{d.call(E)}finally{}}class Oi{constructor(t,n,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=o}}function ur(e,t,n){const o=Rn(e);let l=0;for(;l<n.length;){const d=n[l];if("number"==typeof d){if(0!==d)break;l++;const g=n[l++],E=n[l++],D=n[l++];o?e.setAttribute(t,E,D,g):t.setAttributeNS(g,E,D)}else{const g=d,E=n[++l];ts(g)?o&&e.setProperty(t,g,E):o?e.setAttribute(t,g,E):t.setAttribute(g,E),l++}}return l}function Hs(e){return 3===e||4===e||6===e}function ts(e){return 64===e.charCodeAt(0)}function Lo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){const l=t[o];"number"==typeof l?n=l:0===n||Ua(e,n,l,null,-1===n||2===n?t[++o]:null)}}return e}function Ua(e,t,n,o,l){let d=0,g=e.length;if(-1===t)g=-1;else for(;d<e.length;){const E=e[d++];if("number"==typeof E){if(E===t){g=-1;break}if(E>t){g=d-1;break}}}for(;d<e.length;){const E=e[d];if("number"==typeof E)break;if(E===n){if(null===o)return void(null!==l&&(e[d+1]=l));if(o===e[d+1])return void(e[d+2]=l)}d++,null!==o&&d++,null!==l&&d++}-1!==g&&(e.splice(g,0,t),d=g+1),e.splice(d++,0,n),null!==o&&e.splice(d++,0,o),null!==l&&e.splice(d++,0,l)}function Co(e){return-1!==e}function Ts(e){return 32767&e}function ns(e,t){let n=function Dr(e){return e>>16}(e),o=t;for(;n>0;)o=o[15],n--;return o}let Wi=!0;function bo(e){const t=Wi;return Wi=e,t}let $s=0;function Gi(e,t){const n=As(e,t);if(-1!==n)return n;const o=t[1];o.firstCreatePass&&(e.injectorIndex=t.length,Vo(o.data,e),Vo(t,null),Vo(o.blueprint,null));const l=C(e,t),d=e.injectorIndex;if(Co(l)){const g=Ts(l),E=ns(l,t),D=E[1].data;for(let F=0;F<8;F++)t[d+F]=E[g+F]|D[g+F]}return t[d+8]=l,d}function Vo(e,t){e.push(0,0,0,0,0,0,0,0,t)}function As(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function C(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,o=null,l=t;for(;null!==l;){const d=l[1],g=d.type;if(o=2===g?d.declTNode:1===g?l[6]:null,null===o)return-1;if(n++,l=l[15],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return-1}function y(e,t,n){!function ea(e,t,n){let o;"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(se)&&(o=n[se]),null==o&&(o=n[se]=$s++);const l=255&o;t.data[e+(l>>5)]|=1<<l}(e,t,n)}function A(e,t,n){if(n&Tt.Optional)return e;De(t,"NodeInjector")}function x(e,t,n,o){if(n&Tt.Optional&&void 0===o&&(o=null),0==(n&(Tt.Self|Tt.Host))){const l=e[9],d=pn(void 0);try{return l?l.get(t,o,n&Tt.Optional):Yr(t,o,n&Tt.Optional)}finally{pn(d)}}return A(o,t,n)}function H(e,t,n,o=Tt.Default,l){if(null!==e){const d=function wt(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(se)?e[se]:void 0;return"number"==typeof t?t>=0?255&t:ie:t}(n);if("function"==typeof d){if(!Vs(t,e,o))return o&Tt.Host?A(l,n,o):x(t,n,o,l);try{const g=d(o);if(null!=g||o&Tt.Optional)return g;De(n)}finally{No()}}else if("number"==typeof d){let g=null,E=As(e,t),D=-1,F=o&Tt.Host?t[16][6]:null;for((-1===E||o&Tt.SkipSelf)&&(D=-1===E?C(e,t):t[E+8],-1!==D&&An(o,!1)?(g=t[1],E=Ts(D),t=ns(D,t)):E=-1);-1!==E;){const U=t[1];if(Dn(d,E,U.data)){const Z=Be(E,t,n,g,o,F);if(Z!==q)return Z}D=t[E+8],-1!==D&&An(o,t[1].data[E+8]===F)&&Dn(d,E,t)?(g=U,E=Ts(D),t=ns(D,t)):E=-1}}}return x(t,n,o,l)}const q={};function ie(){return new cr(br(),qe())}function Be(e,t,n,o,l,d){const g=t[1],E=g.data[e+8],U=mt(E,g,n,null==o?ys(E)&&Wi:o!=g&&0!=(3&E.type),l&Tt.Host&&d===E);return null!==U?qt(t,g,U,E):q}function mt(e,t,n,o,l){const d=e.providerIndexes,g=t.data,E=1048575&d,D=e.directiveStart,U=d>>20,ue=l?E+U:e.directiveEnd;for(let we=o?E:E+U;we<ue;we++){const We=g[we];if(we<D&&n===We||we>=D&&We.type===n)return we}if(l){const we=g[D];if(we&&Jr(we)&&we.type===n)return D}return null}function qt(e,t,n,o){let l=e[n];const d=t.data;if(function hs(e){return e instanceof Oi}(l)){const g=l;g.resolving&&function tt(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new je(-200,`Circular dependency in DI detected for ${e}${n}`)}(Ne(d[n]));const E=bo(g.canSeeViewProviders);g.resolving=!0;const D=g.injectImpl?pn(g.injectImpl):null;Vs(e,o,Tt.Default);try{l=e[n]=g.factory(void 0,d,e,o),t.firstCreatePass&&n>=o.directiveStart&&function bl(e,t,n){const{ngOnChanges:o,ngOnInit:l,ngDoCheck:d}=t.type.prototype;if(o){const g=Vi(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,g),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,g)}l&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,l),d&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,d),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,d))}(n,d[n],t)}finally{null!==D&&pn(D),bo(E),g.resolving=!1,No()}}return l}function Dn(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function An(e,t){return!(e&Tt.Self||e&Tt.Host&&t)}class cr{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,o){return H(this._tNode,this._lView,t,o,n)}}function rs(e){return Zn(()=>{const t=e.prototype.constructor,n=t[te]||io(t),o=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==o;){const d=l[te]||io(l);if(d&&d!==n)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function io(e){return Je(e)?()=>{const t=io(_e(e));return t&&t()}:er(e)}function Ws(e){return function m(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const o=n.length;let l=0;for(;l<o;){const d=n[l];if(Hs(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<o&&"string"==typeof n[l];)l++;else{if(d===t)return n[l+1];l+=2}}}return null}(br(),e)}const so="__parameters__";function ta(e,t,n){return Zn(()=>{const o=function Il(e){return function(...n){if(e){const o=e(...n);for(const l in o)this[l]=o[l]}}}(t);function l(...d){if(this instanceof l)return o.apply(this,d),this;const g=new l(...d);return E.annotation=g,E;function E(D,F,U){const Z=D.hasOwnProperty(so)?D[so]:Object.defineProperty(D,so,{value:[]})[so];for(;Z.length<=U;)Z.push(null);return(Z[U]=Z[U]||[]).push(g),D}}return n&&(l.prototype=Object.create(n.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}class kr{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ct({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Su=new kr("AnalyzeForEntryComponents");function Ki(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let o=e[n];Array.isArray(o)?(t===e&&(t=e.slice(0,n)),Ki(o,t)):t!==e&&t.push(o)}return t}function is(e,t){e.forEach(n=>Array.isArray(n)?is(n,t):t(n))}function ja(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function fa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function wo(e,t){const n=[];for(let o=0;o<e;o++)n.push(t);return n}function hi(e,t,n){let o=ao(e,t);return o>=0?e[1|o]=n:(o=~o,function Al(e,t,n,o){let l=e.length;if(l==t)e.push(n,o);else if(1===l)e.push(o,e[0]),e[0]=n;else{for(l--,e.push(e[l-1],e[l]);l>t;)e[l]=e[l-2],l--;e[t]=n,e[t+1]=o}}(e,o,t,n)),o}function ia(e,t){const n=ao(e,t);if(n>=0)return e[1|n]}function ao(e,t){return function Bo(e,t,n){let o=0,l=e.length>>n;for(;l!==o;){const d=o+(l-o>>1),g=e[d<<n];if(t===g)return d<<n;g>t?l=d:o=d+1}return~(l<<n)}(e,t,1)}const ss={},lo="__NG_DI_FLAG__",os="ngTempTokenPath",hn=/\n/gm,Rl="__source",xl=pe({provide:String,useValue:pe});let ki;function I(e){const t=ki;return ki=e,t}function O(e,t=Tt.Default){if(void 0===ki)throw new je(203,"");return null===ki?Yr(e,void 0,t):ki.get(e,t&Tt.Optional?null:void 0,t)}function V(e,t=Tt.Default){return(function sn(){return ln}()||O)(_e(e),t)}const ve=V;function Pe(e){const t=[];for(let n=0;n<e.length;n++){const o=_e(e[n]);if(Array.isArray(o)){if(0===o.length)throw new je(900,"");let l,d=Tt.Default;for(let g=0;g<o.length;g++){const E=o[g],D=gt(E);"number"==typeof D?-1===D?l=E.token:d|=D:l=E}t.push(V(l,d))}else t.push(V(o))}return t}function Ke(e,t){return e[lo]=t,e.prototype[lo]=t,e}function gt(e){return e[lo]}const tn=Ke(ta("Inject",e=>({token:e})),-1),Lt=Ke(ta("Optional"),8),wr=Ke(ta("SkipSelf"),4);class Ao{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Hn(e){return e instanceof Ao?e.changingThisBreaksApplicationSecurity:e}const Ka=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,uo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var fi=(()=>((fi=fi||{})[fi.NONE=0]="NONE",fi[fi.HTML=1]="HTML",fi[fi.STYLE=2]="STYLE",fi[fi.SCRIPT=3]="SCRIPT",fi[fi.URL=4]="URL",fi[fi.RESOURCE_URL=5]="RESOURCE_URL",fi))();function Xa(e){const t=function jl(){const e=qe();return e&&e[12]}();return t?t.sanitize(fi.URL,e)||"":function _a(e,t){const n=function Nu(e){return e instanceof Ao&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}(e,"URL")?Hn(e):function au(e){return(e=String(e)).match(Ka)||e.match(uo)?e:"unsafe:"+e}(Ae(e))}const Ea="__ngContext__";function Zr(e,t){e[Ea]=t}function tl(e){const t=function Ca(e){return e[Ea]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function rl(e){return e.ngOriginalError}function Bc(e,...t){e.error(...t)}class ba{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),o=function il(e){return e&&e.ngErrorLogger||Bc}(t);o(this._console,"ERROR",t),n&&o(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&rl(t);for(;n&&rl(n);)n=rl(n);return n||null}}const Qu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(en))();function p(e){return e instanceof Function?e():e}var $=(()=>(($=$||{})[$.Important=1]="Important",$[$.DashCase=2]="DashCase",$))();function ke(e,t){return undefined(e,t)}function $t(e){const t=e[3];return oi(t)?t[3]:t}function Ps(e){return Ju(e[13])}function ol(e){return Ju(e[4])}function Ju(e){for(;null!==e&&!oi(e);)e=e[4];return e}function Po(e,t,n,o,l){if(null!=o){let d,g=!1;oi(o)?d=o:vr(o)&&(g=!0,o=o[0]);const E=S(o);0===e&&null!==n?null==l?rh(t,n,E):oa(t,n,E,l||null,!0):1===e&&null!==n?oa(t,n,E,l||null,!0):2===e?function rc(e,t,n){const o=Wc(e,t);o&&function Mp(e,t,n,o){Rn(e)?e.removeChild(t,n,o):t.removeChild(n)}(e,o,t,n)}(t,E,g):3===e&&t.destroyNode(E),null!=d&&function ah(e,t,n,o,l){const d=n[7];d!==S(n)&&Po(t,e,o,d,l);for(let E=10;E<n.length;E++){const D=n[E];ic(D[1],D,e,t,o,d)}}(t,e,d,n,l)}}function Gl(e,t,n){if(Rn(e))return e.createElement(t,n);{const o=null!==n?function bs(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(n):null;return null===o?e.createElement(t):e.createElementNS(o,t)}}function Qh(e,t){const n=e[9],o=n.indexOf(t),l=t[3];1024&t[2]&&(t[2]&=-1025,T(l,-1)),n.splice(o,1)}function Xd(e,t){if(e.length<=10)return;const n=10+t,o=e[n];if(o){const l=o[17];null!==l&&l!==e&&Qh(l,o),t>0&&(e[n-1][4]=o[4]);const d=fa(e,10+t);!function zl(e,t){ic(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(o[1],o);const g=d[19];null!==g&&g.detachView(d[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function eh(e,t){if(!(256&t[2])){const n=t[11];Rn(n)&&n.destroyNode&&ic(e,t,n,3,null,null),function ec(e){let t=e[13];if(!t)return th(e[1],e);for(;t;){let n=null;if(vr(t))n=t[13];else{const o=t[10];o&&(n=o)}if(!n){for(;t&&!t[4]&&t!==e;)vr(t)&&th(t[1],t),t=t[3];null===t&&(t=e),vr(t)&&th(t[1],t),n=t&&t[4]}t=n}}(t)}}function th(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function Xh(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let o=0;o<n.length;o+=2){const l=t[n[o]];if(!(l instanceof Oi)){const d=n[o+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const E=l[d[g]],D=d[g+1];try{D.call(E)}finally{}}else try{d.call(l)}finally{}}}}(e,t),function Jh(e,t){const n=e.cleanup,o=t[7];let l=-1;if(null!==n)for(let d=0;d<n.length-1;d+=2)if("string"==typeof n[d]){const g=n[d+1],E="function"==typeof g?g(t):S(t[g]),D=o[l=n[d+2]],F=n[d+3];"boolean"==typeof F?E.removeEventListener(n[d],D,F):F>=0?o[l=F]():o[l=-F].unsubscribe(),d+=2}else{const g=o[l=n[d+1]];n[d].call(g)}if(null!==o){for(let d=l+1;d<o.length;d++)o[d]();t[7]=null}}(e,t),1===t[1].type&&Rn(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&oi(t[3])){n!==t[3]&&Qh(n,t);const o=t[19];null!==o&&o.detachView(e)}}}function ef(e,t,n){return function nh(e,t,n){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return n[0];if(2&o.flags){const l=e.data[o.directiveStart].encapsulation;if(l===pt.None||l===pt.Emulated)return null}return ze(o,n)}(e,t.parent,n)}function oa(e,t,n,o,l){Rn(e)?e.insertBefore(t,n,o,l):t.insertBefore(n,o,l)}function rh(e,t,n){Rn(e)?e.appendChild(t,n):t.appendChild(n)}function tf(e,t,n,o,l){null!==o?oa(e,t,n,o,l):rh(e,t,n)}function Wc(e,t){return Rn(e)?e.parentNode(t):t.parentNode}function Gc(e,t,n){return rf(e,t,n)}let rf=function nf(e,t,n){return 40&e.type?ze(e,n):null};function tc(e,t,n,o){const l=ef(e,o,t),d=t[11],E=Gc(o.parent||t[6],o,t);if(null!=l)if(Array.isArray(n))for(let D=0;D<n.length;D++)tf(d,l,n[D],E,!1);else tf(d,l,n,E,!1)}function nc(e,t){if(null!==t){const n=t.type;if(3&n)return ze(t,e);if(4&n)return pu(-1,e[t.index]);if(8&n){const o=t.child;if(null!==o)return nc(e,o);{const l=e[t.index];return oi(l)?pu(-1,l):S(l)}}if(32&n)return ke(t,e)()||S(e[t.index]);{const o=Ia(e,t);return null!==o?Array.isArray(o)?o[0]:nc($t(e[16]),o):nc(e,t.next)}}return null}function Ia(e,t){return null!==t?e[16][6].projection[t.projection]:null}function pu(e,t){const n=10+e+1;if(n<t.length){const o=t[n],l=o[1].firstChild;if(null!==l)return nc(o,l)}return t[7]}function sh(e,t,n,o,l,d,g){for(;null!=n;){const E=o[n.index],D=n.type;if(g&&0===t&&(E&&Zr(S(E),o),n.flags|=4),64!=(64&n.flags))if(8&D)sh(e,t,n.child,o,l,d,!1),Po(t,e,l,E,d);else if(32&D){const F=ke(n,o);let U;for(;U=F();)Po(t,e,l,U,d);Po(t,e,l,E,d)}else 16&D?oh(e,t,o,n,l,d):Po(t,e,l,E,d);n=g?n.projectionNext:n.next}}function ic(e,t,n,o,l,d){sh(n,o,e.firstChild,t,l,d,!1)}function oh(e,t,n,o,l,d){const g=n[16],D=g[6].projection[o.projection];if(Array.isArray(D))for(let F=0;F<D.length;F++)Po(t,e,l,D[F],d);else sh(e,t,D,g[3],l,d,!0)}function wa(e,t,n){Rn(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Kl(e,t,n){Rn(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function sf(e,t,n){let o=e.length;for(;;){const l=e.indexOf(t,n);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const d=t.length;if(l+d===o||e.charCodeAt(l+d)<=32)return l}n=l+1}}const of="ng-template";function Kc(e,t,n){let o=0;for(;o<e.length;){let l=e[o++];if(n&&"class"===l){if(l=e[o],-1!==sf(l.toLowerCase(),t,0))return!0}else if(1===l){for(;o<e.length&&"string"==typeof(l=e[o++]);)if(l.toLowerCase()===t)return!0;return!1}}return!1}function af(e){return 4===e.type&&e.value!==of}function lf(e,t,n){return t===(4!==e.type||n?e.value:of)}function Rp(e,t,n){let o=4;const l=e.attrs||[],d=function gu(e){for(let t=0;t<e.length;t++)if(Hs(e[t]))return t;return e.length}(l);let g=!1;for(let E=0;E<t.length;E++){const D=t[E];if("number"!=typeof D){if(!g)if(4&o){if(o=2|1&o,""!==D&&!lf(e,D,n)||""===D&&1===t.length){if(Oo(o))return!1;g=!0}}else{const F=8&o?D:t[++E];if(8&o&&null!==e.attrs){if(!Kc(e.attrs,F,n)){if(Oo(o))return!1;g=!0}continue}const Z=uf(8&o?"class":D,l,af(e),n);if(-1===Z){if(Oo(o))return!1;g=!0;continue}if(""!==F){let ue;ue=Z>d?"":l[Z+1].toLowerCase();const we=8&o?ue:null;if(we&&-1!==sf(we,F,0)||2&o&&F!==ue){if(Oo(o))return!1;g=!0}}}}else{if(!g&&!Oo(o)&&!Oo(D))return!1;if(g&&Oo(D))continue;g=!1,o=D|1&o}}return Oo(o)||g}function Oo(e){return 0==(1&e)}function uf(e,t,n,o){if(null===t)return-1;let l=0;if(o||!n){let d=!1;for(;l<t.length;){const g=t[l];if(g===e)return l;if(3===g||6===g)d=!0;else{if(1===g||2===g){let E=t[++l];for(;"string"==typeof E;)E=t[++l];continue}if(4===g)break;if(0===g){l+=4;continue}}l+=d?1:2}return-1}return function cf(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const o=e[n];if("number"==typeof o)return-1;if(o===t)return n;n++}return-1}(t,e)}function sc(e,t,n=!1){for(let o=0;o<t.length;o++)if(Rp(e,t[o],n))return!0;return!1}function df(e,t){e:for(let n=0;n<t.length;n++){const o=t[n];if(e.length===o.length){for(let l=0;l<e.length;l++)if(e[l]!==o[l])continue e;return!0}}return!1}function lh(e,t){return e?":not("+t.trim()+")":t}function oc(e){let t=e[0],n=1,o=2,l="",d=!1;for(;n<e.length;){let g=e[n];if("string"==typeof g)if(2&o){const E=e[++n];l+="["+g+(E.length>0?'="'+E+'"':"")+"]"}else 8&o?l+="."+g:4&o&&(l+=" "+g);else""!==l&&!Oo(g)&&(t+=lh(d,l),l=""),o=g,d=d||!Oo(o);n++}return""!==l&&(t+=lh(d,l)),t}const an={};function Yc(e){hf(gn(),qe(),di()+e,!1)}function hf(e,t,n,o){if(!o)if(3==(3&t[2])){const d=e.preOrderCheckHooks;null!==d&&Kn(t,d,n)}else{const d=e.preOrderHooks;null!==d&&Xi(t,d,0,n)}Hi(n)}function qc(e,t){return e<<17|t<<2}function Ho(e){return e>>17&32767}function ac(e){return 2|e}function Ta(e){return(131068&e)>>2}function Qc(e,t){return-131069&e|t<<2}function dh(e){return 1|e}function _h(e,t){const n=e.contentQueries;if(null!==n)for(let o=0;o<n.length;o+=2){const l=n[o],d=n[o+1];if(-1!==d){const g=e.data[d];qo(l),g.contentQueries(2,t[d],d)}}}function Yl(e,t,n,o,l,d,g,E,D,F){const U=t.blueprint.slice();return U[0]=l,U[2]=140|o,R(U),U[3]=U[15]=e,U[8]=n,U[10]=g||e&&e[10],U[11]=E||e&&e[11],U[12]=D||e&&e[12]||null,U[9]=F||e&&e[9]||null,U[6]=d,U[16]=2==t.type?e[16]:U,U}function Pa(e,t,n,o,l){let d=e.data[t];if(null===d)d=function yh(e,t,n,o,l){const d=ks(),g=no(),D=e.data[t]=function dd(e,t,n,o,l,d){return{type:n,index:o,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,n,t,o,l);return null===e.firstChild&&(e.firstChild=D),null!==d&&(g?null==d.child&&null!==D.parent&&(d.child=D):null===d.next&&(d.next=D)),D}(e,t,n,o,l),function ca(){return b.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=n,d.value=o,d.attrs=l;const g=function yo(){const e=b.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return ci(d,!0),d}function ul(e,t,n,o){if(0===n)return-1;const l=t.length;for(let d=0;d<n;d++)t.push(o),e.blueprint.push(o),e.data.push(null);return l}function hc(e,t,n){K(t);try{const o=e.viewQuery;null!==o&&vd(1,o,n);const l=e.template;null!==l&&vh(e,t,l,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&_h(e,t),e.staticViewQueries&&vd(2,e.viewQuery,n);const d=e.components;null!==d&&function Up(e,t){for(let n=0;n<t.length;n++)gd(e,t[n])}(t,d)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[2]&=-5,Bs()}}function yu(e,t,n,o){const l=t[2];if(256!=(256&l)){K(t);try{R(t),function xo(e){return b.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&vh(e,t,n,2,o);const g=3==(3&l);if(g){const F=e.preOrderCheckHooks;null!==F&&Kn(t,F,null)}else{const F=e.preOrderHooks;null!==F&&Xi(t,F,0,null),bn(t,0)}if(function zp(e){for(let t=Ps(e);null!==t;t=ol(t)){if(!t[2])continue;const n=t[9];for(let o=0;o<n.length;o++){const l=n[o],d=l[3];0==(1024&l[2])&&T(d,1),l[2]|=1024}}}(t),function Gp(e){for(let t=Ps(e);null!==t;t=ol(t))for(let n=10;n<t.length;n++){const o=t[n],l=o[1];Qn(o)&&yu(l,o,l.template,o[8])}}(t),null!==e.contentQueries&&_h(e,t),g){const F=e.contentCheckHooks;null!==F&&Kn(t,F)}else{const F=e.contentHooks;null!==F&&Xi(t,F,1),bn(t,1)}!function dc(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let o=0;o<n.length;o++){const l=n[o];if(l<0)Hi(~l);else{const d=l,g=n[++o],E=n[++o];Yo(g,d),E(2,t[d])}}}finally{Hi(-1)}}(e,t);const E=e.components;null!==E&&function Cf(e,t){for(let n=0;n<t.length;n++)Kp(e,t[n])}(t,E);const D=e.viewQuery;if(null!==D&&vd(2,D,o),g){const F=e.viewCheckHooks;null!==F&&Kn(t,F)}else{const F=e.viewHooks;null!==F&&Xi(t,F,2),bn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-73,1024&t[2]&&(t[2]&=-1025,T(t[3],-1))}finally{Bs()}}}function Bp(e,t,n,o){const l=t[10],g=rn(t);try{!g&&l.begin&&l.begin(),g&&hc(e,t,o),yu(e,t,n,o)}finally{!g&&l.end&&l.end()}}function vh(e,t,n,o,l){const d=di(),g=2&o;try{Hi(-1),g&&t.length>20&&hf(e,t,20,!1),n(o,l)}finally{Hi(d)}}function bf(e,t,n){if(wi(t)){const l=t.directiveEnd;for(let d=t.directiveStart;d<l;d++){const g=e.data[d];g.contentQueries&&g.contentQueries(1,n[d],d)}}}function Eh(e,t,n){!Ds()||(function Pf(e,t,n,o){const l=n.directiveStart,d=n.directiveEnd;e.firstCreatePass||Gi(n,t),Zr(o,t);const g=n.initialInputs;for(let E=l;E<d;E++){const D=e.data[E],F=Jr(D);F&&Rf(t,n,D);const U=qt(t,e,E,n);Zr(U,t),null!==g&&xm(0,E-l,U,D,0,g),F&&(Yt(n.index,t)[8]=U)}}(e,t,n,ze(n,t)),128==(128&n.flags)&&function Of(e,t,n){const o=n.directiveStart,l=n.directiveEnd,g=n.index,E=function da(){return b.lFrame.currentDirectiveIndex}();try{Hi(g);for(let D=o;D<l;D++){const F=e.data[D],U=t[D];ko(D),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&Dh(F,U)}}finally{Hi(-1),ko(E)}}(e,t,n))}function Ch(e,t,n=ze){const o=t.localNames;if(null!==o){let l=t.index+1;for(let d=0;d<o.length;d+=2){const g=o[d+1],E=-1===g?n(t,e):e[g];e[l++]=E}}}function ud(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=fc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function fc(e,t,n,o,l,d,g,E,D,F){const U=20+o,Z=U+l,ue=function jp(e,t){const n=[];for(let o=0;o<t;o++)n.push(o<e?null:an);return n}(U,Z),we="function"==typeof F?F():F;return ue[1]={type:e,blueprint:ue,template:n,queries:null,viewQuery:E,declTNode:t,data:ue.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:D,consts:we,incompleteFirstPass:!1}}function cd(e,t,n,o){const l=kf(t);null===n?l.push(o):(l.push(n),e.firstCreatePass&&Th(e).push(o,l.length-1))}function If(e,t,n){for(let o in e)if(e.hasOwnProperty(o)){const l=e[o];(n=null===n?{}:n).hasOwnProperty(o)?n[o].push(t,l):n[o]=[t,l]}return n}function qs(e,t,n,o,l,d,g,E){const D=ze(t,n);let U,F=t.inputs;!E&&null!=F&&(U=F[o])?(Lf(e,n,U,o,l),ys(t)&&function wf(e,t){const n=Yt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(o=function Hp(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),l=null!=g?g(l,t.value||"",o):l,Rn(d)?d.setProperty(D,o,l):ts(o)||(D.setProperty?D.setProperty(o,l):D[o]=l))}function pc(e,t,n,o){let l=!1;if(Ds()){const d=function Qs(e,t,n){const o=e.directiveRegistry;let l=null;if(o)for(let d=0;d<o.length;d++){const g=o[d];sc(n,g.selectors,!1)&&(l||(l=[]),y(Gi(n,t),e,g.type),Jr(g)?(gc(e,n),l.unshift(g)):l.push(g))}return l}(e,t,n),g=null===o?null:{"":-1};if(null!==d){l=!0,ho(n,e.data.length,d.length);for(let U=0;U<d.length;U++){const Z=d[U];Z.providersResolver&&Z.providersResolver(Z)}let E=!1,D=!1,F=ul(e,t,d.length,null);for(let U=0;U<d.length;U++){const Z=d[U];n.mergedAttrs=Lo(n.mergedAttrs,Z.hostAttrs),hl(e,n,t,F,Z),fd(F,Z,g),null!==Z.contentQueries&&(n.flags|=8),(null!==Z.hostBindings||null!==Z.hostAttrs||0!==Z.hostVars)&&(n.flags|=128);const ue=Z.type.prototype;!E&&(ue.ngOnChanges||ue.ngOnInit||ue.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),E=!0),!D&&(ue.ngOnChanges||ue.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),D=!0),F++}!function vu(e,t){const o=t.directiveEnd,l=e.data,d=t.attrs,g=[];let E=null,D=null;for(let F=t.directiveStart;F<o;F++){const U=l[F],Z=U.inputs,ue=null===d||af(t)?null:Wp(Z,d);g.push(ue),E=If(Z,F,E),D=If(U.outputs,F,D)}null!==E&&(E.hasOwnProperty("class")&&(t.flags|=16),E.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=g,t.inputs=E,t.outputs=D}(e,n)}g&&function dl(e,t,n){if(t){const o=e.localNames=[];for(let l=0;l<t.length;l+=2){const d=n[t[l+1]];if(null==d)throw new je(-301,!1);o.push(t[l],d)}}}(n,o,g)}return n.mergedAttrs=Lo(n.mergedAttrs,n.attrs),l}function Sf(e,t,n,o,l,d){const g=d.hostBindings;if(g){let E=e.hostBindingOpCodes;null===E&&(E=e.hostBindingOpCodes=[]);const D=~t.index;(function Mf(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(E)!=D&&E.push(D),E.push(o,l,g)}}function Dh(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function gc(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function fd(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;Jr(t)&&(n[""]=e)}}function ho(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function hl(e,t,n,o,l){e.data[o]=l;const d=l.factory||(l.factory=er(l.type)),g=new Oi(d,Jr(l),null);e.blueprint[o]=g,n[o]=g,Sf(e,t,0,o,ul(e,n,l.hostVars,an),l)}function Rf(e,t,n){const o=ze(t,e),l=ud(n),d=e[10],g=fl(e,Yl(e,l,null,n.onPush?64:16,o,t,d,d.createRenderer(o,n),null,null));e[t.index]=g}function Wo(e,t,n,o,l,d){const g=ze(e,t);!function Oa(e,t,n,o,l,d,g){if(null==d)Rn(e)?e.removeAttribute(t,l,n):t.removeAttribute(l);else{const E=null==g?Ae(d):g(d,o||"",l);Rn(e)?e.setAttribute(t,l,E,n):n?t.setAttributeNS(n,l,E):t.setAttribute(l,E)}}(t[11],g,d,e.value,n,o,l)}function xm(e,t,n,o,l,d){const g=d[t];if(null!==g){const E=o.setInput;for(let D=0;D<g.length;){const F=g[D++],U=g[D++],Z=g[D++];null!==E?o.setInput(n,Z,F,U):n[U]=Z}}}function Wp(e,t){let n=null,o=0;for(;o<t.length;){const l=t[o];if(0!==l)if(5!==l){if("number"==typeof l)break;e.hasOwnProperty(l)&&(null===n&&(n=[]),n.push(l,e[l],t[o+1])),o+=2}else o+=2;else o+=4}return n}function pd(e,t,n,o){return new Array(e,!0,!1,t,null,0,o,n,null,null)}function Kp(e,t){const n=Yt(t,e);if(Qn(n)){const o=n[1];80&n[2]?yu(o,n,o.template,n[8]):n[5]>0&&Ih(n)}}function Ih(e){for(let o=Ps(e);null!==o;o=ol(o))for(let l=10;l<o.length;l++){const d=o[l];if(1024&d[2]){const g=d[1];yu(g,d,g.template,d[8])}else d[5]>0&&Ih(d)}const n=e[1].components;if(null!==n)for(let o=0;o<n.length;o++){const l=Yt(n[o],e);Qn(l)&&l[5]>0&&Ih(l)}}function gd(e,t){const n=Yt(t,e),o=n[1];(function md(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(o,n),hc(o,n,n[8])}function fl(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function mc(e){for(;e;){e[2]|=64;const t=$t(e);if(Fi(e)&&!t)return e;e=t}return null}function wh(e){!function _d(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],o=tl(n),l=o[1];Bp(l,o,l.template,n)}}(e[8])}function vd(e,t,n){qo(0),t(e,n)}const Yp=(()=>Promise.resolve(null))();function kf(e){return e[7]||(e[7]=[])}function Th(e){return e.cleanup||(e.cleanup=[])}function Ff(e,t){const n=e[9],o=n?n.get(ba,null):null;o&&o.handleError(t)}function Lf(e,t,n,o,l){for(let d=0;d<n.length;){const g=n[d++],E=n[d++],D=t[g],F=e.data[g];null!==F.setInput?F.setInput(D,l,o,E):D[E]=l}}function Ra(e,t,n){const o=xe(t,e);!function Wl(e,t,n){Rn(e)?e.setValue(t,n):t.textContent=n}(e[11],o,n)}function Ed(e,t,n){let o=n?e.styles:null,l=n?e.classes:null,d=0;if(null!==t)for(let g=0;g<t.length;g++){const E=t[g];"number"==typeof E?d=E:1==d?l=Ee(l,E):2==d&&(o=Ee(o,E+": "+t[++g]+";"))}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=l:e.classesWithoutHost=l}const Ah=new kr("INJECTOR",-1);class Vf{get(t,n=ss){if(n===ss){const o=new Error(`NullInjectorError: No provider for ${he(t)}!`);throw o.name="NullInjectorError",o}return n}}const Sh=new kr("Set Injector scope."),_c={},Jp={};let Mh;function Uf(){return void 0===Mh&&(Mh=new Vf),Mh}function Bf(e,t=null,n=null,o){const l=jf(e,t,n,o);return l._resolveInjectorDefTypes(),l}function jf(e,t=null,n=null,o){return new Go(e,n,t||Uf(),o)}class Go{constructor(t,n,o,l=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];n&&is(n,E=>this.processProvider(E,t,n)),is([t],E=>this.processInjectorType(E,[],d)),this.records.set(Ah,Ql(void 0,this));const g=this.records.get(Sh);this.scope=null!=g?g.value:null,this.source=l||("object"==typeof t?null:he(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=ss,o=Tt.Default){this.assertNotDestroyed();const l=I(this),d=pn(void 0);try{if(!(o&Tt.SkipSelf)){let E=this.records.get(t);if(void 0===E){const D=function Lm(e){return"function"==typeof e||"object"==typeof e&&e instanceof kr}(t)&&Ut(t);E=D&&this.injectableDefInScope(D)?Ql(Ph(t),_c):null,this.records.set(t,E)}if(null!=E)return this.hydrate(t,E)}return(o&Tt.Self?Uf():this.parent).get(t,n=o&Tt.Optional&&n===ss?null:n)}catch(g){if("NullInjectorError"===g.name){if((g[os]=g[os]||[]).unshift(he(t)),l)throw g;return function Ht(e,t,n,o){const l=e[os];throw t[Rl]&&l.unshift(t[Rl]),e.message=function Xt(e,t,n,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let l=he(t);if(Array.isArray(t))l=t.map(he).join(" -> ");else if("object"==typeof t){let d=[];for(let g in t)if(t.hasOwnProperty(g)){let E=t[g];d.push(g+":"+("string"==typeof E?JSON.stringify(E):he(E)))}l=`{${d.join(", ")}}`}return`${n}${o?"("+o+")":""}[${l}]: ${e.replace(hn,"\n  ")}`}("\n"+e.message,l,n,o),e.ngTokenPath=l,e[os]=null,e}(g,t,"R3InjectorError",this.source)}throw g}finally{pn(d),I(l)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((o,l)=>t.push(he(l))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processInjectorType(t,n,o){if(!(t=_e(t)))return!1;let l=In(t);const d=null==l&&t.ngModule||void 0,g=void 0===d?t:d,E=-1!==o.indexOf(g);if(void 0!==d&&(l=In(d)),null==l)return!1;if(null!=l.imports&&!E){let U;o.push(g);try{is(l.imports,Z=>{this.processInjectorType(Z,n,o)&&(void 0===U&&(U=[]),U.push(Z))})}finally{}if(void 0!==U)for(let Z=0;Z<U.length;Z++){const{ngModule:ue,providers:we}=U[Z];is(we,We=>this.processProvider(We,ue,we||It))}}this.injectorDefTypes.add(g);const D=er(g)||(()=>new g);this.records.set(g,Ql(D,_c));const F=l.providers;if(null!=F&&!E){const U=t;is(F,Z=>this.processProvider(Z,U,F))}return void 0!==d&&void 0!==t.providers}processProvider(t,n,o){let l=Eu(t=_e(t))?t:_e(t&&t.provide);const d=function Hf(e,t,n){return Wf(e)?Ql(void 0,e.useValue):Ql($f(e),_c)}(t);if(Eu(t)||!0!==t.multi)this.records.get(l);else{let g=this.records.get(l);g||(g=Ql(void 0,_c,!0),g.factory=()=>Pe(g.multi),this.records.set(l,g)),l=t,g.multi.push(t)}this.records.set(l,d)}hydrate(t,n){return n.value===_c&&(n.value=Jp,n.value=n.factory()),"object"==typeof n.value&&n.value&&function ng(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=_e(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Ph(e){const t=Ut(e),n=null!==t?t.factory:er(e);if(null!==n)return n;if(e instanceof kr)throw new je(204,!1);if(e instanceof Function)return function Oh(e){const t=e.length;if(t>0)throw wo(t,"?"),new je(204,!1);const n=function On(e){const t=e&&(e[fn]||e[tr]);if(t){const n=function $n(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new je(204,!1)}function $f(e,t,n){let o;if(Eu(e)){const l=_e(e);return er(l)||Ph(l)}if(Wf(e))o=()=>_e(e.useValue);else if(function eg(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Pe(e.deps||[]));else if(function Xp(e){return!(!e||!e.useExisting)}(e))o=()=>V(_e(e.useExisting));else{const l=_e(e&&(e.useClass||e.provide));if(!function tg(e){return!!e.deps}(e))return er(l)||Ph(l);o=()=>new l(...Pe(e.deps))}return o}function Ql(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Wf(e){return null!==e&&"object"==typeof e&&xl in e}function Eu(e){return"function"==typeof e}let la=(()=>{class e{static create(n,o){var l;if(Array.isArray(n))return Bf({name:""},o,n,"");{const d=null!==(l=n.name)&&void 0!==l?l:"";return Bf({name:d},n.parent,n.providers,d)}}}return e.THROW_IF_NOT_FOUND=ss,e.NULL=new Vf,e.\u0275prov=Ct({token:e,providedIn:"any",factory:()=>V(Ah)}),e.__NG_ELEMENT_ID__=-1,e})();function hg(e,t){js(tl(e)[1],br())}function kh(e){let t=function tp(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const o=[e];for(;t;){let l;if(Jr(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new je(903,"");l=t.\u0275dir}if(l){if(n){o.push(l);const g=e;g.inputs=bd(e.inputs),g.declaredInputs=bd(e.declaredInputs),g.outputs=bd(e.outputs);const E=l.hostBindings;E&&yc(e,E);const D=l.viewQuery,F=l.contentQueries;if(D&&rp(e,D),F&&ip(e,F),be(e.inputs,l.inputs),be(e.declaredInputs,l.declaredInputs),be(e.outputs,l.outputs),Jr(l)&&l.data.animation){const U=e.data;U.animation=(U.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let g=0;g<d.length;g++){const E=d[g];E&&E.ngInherit&&E(e),E===kh&&(n=!1)}}t=Object.getPrototypeOf(t)}!function np(e){let t=0,n=null;for(let o=e.length-1;o>=0;o--){const l=e[o];l.hostVars=t+=l.hostVars,l.hostAttrs=Lo(l.hostAttrs,n=Lo(n,l.hostAttrs))}}(o)}function bd(e){return e===wn?{}:e===It?[]:e}function rp(e,t){const n=e.viewQuery;e.viewQuery=n?(o,l)=>{t(o,l),n(o,l)}:t}function ip(e,t){const n=e.contentQueries;e.contentQueries=n?(o,l,d)=>{t(o,l,d),n(o,l,d)}:t}function yc(e,t){const n=e.hostBindings;e.hostBindings=n?(o,l)=>{t(o,l),n(o,l)}:t}let Dd=null;function Jl(){if(!Dd){const e=en.Symbol;if(e&&e.iterator)Dd=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const o=t[n];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(Dd=o)}}}return Dd}function Cu(e){return!!Nh(e)&&(Array.isArray(e)||!(e instanceof Map)&&Jl()in e)}function Nh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function _s(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Fh(e,t,n,o){const l=qe();return _s(l,Fs(),t)&&(gn(),Wo(gr(),l,e,t,n,o)),Fh}function Du(e,t,n,o){return _s(e,Fs(),n)?t+Ae(n)+o:an}function Ge(e,t,n,o,l,d,g,E){const D=qe(),F=gn(),U=e+20,Z=F.firstCreatePass?function Oe(e,t,n,o,l,d,g,E,D){const F=t.consts,U=Pa(t,e,4,g||null,Un(F,E));pc(t,n,U,Un(F,D)),js(t,U);const Z=U.tViews=fc(2,U,o,l,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,F);return null!==t.queries&&(t.queries.template(t,U),Z.queries=t.queries.embeddedTView(U)),U}(U,F,D,t,n,o,l,d,g):F.data[U];ci(Z,!1);const ue=D[11].createComment("");tc(F,D,ue,Z),Zr(ue,D),fl(D,D[U]=pd(ue,D,ue,Z)),Wr(Z)&&Eh(F,D,Z),null!=g&&Ch(D,Z,E)}function Et(e){return _n(function vl(){return b.lFrame.contextLView}(),20+e)}function Lh(e,t=Tt.Default){const n=qe();return null===n?V(e,t):H(br(),n,_e(e),t)}function Zm(){throw new Error("invalid")}function Cg(e,t,n){const o=qe();return _s(o,Fs(),t)&&qs(gn(),gr(),o,e,t,o[11],n,!1),Cg}function bg(e,t,n,o,l){const g=l?"class":"style";Lf(e,n,t.inputs[g],g,o)}function lp(e,t,n,o){const l=qe(),d=gn(),g=20+e,E=l[11],D=l[g]=Gl(E,t,function vo(){return b.lFrame.currentNamespace}()),F=d.firstCreatePass?function sE(e,t,n,o,l,d,g){const E=t.consts,F=Pa(t,e,2,l,Un(E,d));return pc(t,n,F,Un(E,g)),null!==F.attrs&&Ed(F,F.attrs,!1),null!==F.mergedAttrs&&Ed(F,F.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,F),F}(g,d,l,0,t,n,o):d.data[g];ci(F,!0);const U=F.mergedAttrs;null!==U&&ur(E,D,U);const Z=F.classes;null!==Z&&Kl(E,D,Z);const ue=F.styles;return null!==ue&&wa(E,D,ue),64!=(64&F.flags)&&tc(d,l,D,F),0===function vt(){return b.lFrame.elementDepthCount}()&&Zr(D,l),function Bn(){b.lFrame.elementDepthCount++}(),Wr(F)&&(Eh(d,l,F),bf(d,F,l)),null!==o&&Ch(l,F),lp}function up(){let e=br();no()?ua():(e=e.parent,ci(e,!1));const t=e;!function ti(){b.lFrame.elementDepthCount--}();const n=gn();return n.firstCreatePass&&(js(n,e),wi(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Dl(e){return 0!=(16&e.flags)}(t)&&bg(n,t,qe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Eo(e){return 0!=(32&e.flags)}(t)&&bg(n,t,qe(),t.stylesWithoutHost,!1),up}function Dg(e,t,n,o){return lp(e,t,n,o),up(),Dg}function cp(e,t,n){const o=qe(),l=gn(),d=e+20,g=l.firstCreatePass?function oE(e,t,n,o,l){const d=t.consts,g=Un(d,o),E=Pa(t,e,8,"ng-container",g);return null!==g&&Ed(E,g,!0),pc(t,n,E,Un(d,l)),null!==t.queries&&t.queries.elementStart(t,E),E}(d,l,o,t,n):l.data[d];ci(g,!0);const E=o[d]=o[11].createComment("");return tc(l,o,E,g),Zr(E,o),Wr(g)&&(Eh(l,o,g),bf(l,g,o)),null!=n&&Ch(o,g),cp}function dp(){let e=br();const t=gn();return no()?ua():(e=e.parent,ci(e,!1)),t.firstCreatePass&&(js(t,e),wi(e)&&t.queries.elementEnd(e)),dp}function qm(){return qe()}function Ig(e){return!!e&&"function"==typeof e.then}function Qm(e){return!!e&&"function"==typeof e.subscribe}const Jm=Qm;function wg(e,t,n,o){const l=qe(),d=gn(),g=br();return function e_(e,t,n,o,l,d,g,E){const D=Wr(o),U=e.firstCreatePass&&Th(e),Z=t[8],ue=kf(t);let we=!0;if(3&o.type||E){const _t=ze(o,t),xt=E?E(_t):_t,Qe=ue.length,Kt=E?Fn=>E(S(Fn[o.index])):o.index;if(Rn(n)){let Fn=null;if(!E&&D&&(Fn=function aE(e,t,n,o){const l=e.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const g=l[d];if(g===n&&l[d+1]===o){const E=t[7],D=l[d+2];return E.length>D?E[D]:null}"string"==typeof g&&(d+=2)}return null}(e,t,l,o.index)),null!==Fn)(Fn.__ngLastListenerFn__||Fn).__ngNextListenerFn__=d,Fn.__ngLastListenerFn__=d,we=!1;else{d=Tg(o,t,Z,d,!1);const mr=n.listen(xt,l,d);ue.push(d,mr),U&&U.push(l,Kt,Qe,Qe+1)}}else d=Tg(o,t,Z,d,!0),xt.addEventListener(l,d,g),ue.push(d),U&&U.push(l,Kt,Qe,g)}else d=Tg(o,t,Z,d,!1);const We=o.outputs;let ht;if(we&&null!==We&&(ht=We[l])){const _t=ht.length;if(_t)for(let xt=0;xt<_t;xt+=2){const Ko=t[ht[xt]][ht[xt+1]].subscribe(d),Dc=ue.length;ue.push(d,Ko),U&&U.push(l,o.index,Dc,-(Dc+1))}}}(d,l,l[11],g,e,t,!!n,o),wg}function t_(e,t,n,o){try{return!1!==n(o)}catch(l){return Ff(e,l),!1}}function Tg(e,t,n,o,l){return function d(g){if(g===Function)return o;const E=2&e.flags?Yt(e.index,t):t;0==(32&t[2])&&mc(E);let D=t_(t,0,o,g),F=d.__ngNextListenerFn__;for(;F;)D=t_(t,0,F,g)&&D,F=F.__ngNextListenerFn__;return l&&!1===D&&(g.preventDefault(),g.returnValue=!1),D}}function n_(e=1){return function El(e){return(b.lFrame.contextLView=function Fo(e,t){for(;e>0;)t=t[15],e--;return t}(e,b.lFrame.contextLView))[8]}(e)}function lE(e,t){let n=null;const o=function xp(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let l=0;l<t.length;l++){const d=t[l];if("*"!==d){if(null===o?sc(e,d,!0):df(o,d))return l}else n=l}return n}function r_(e){const t=qe()[16][6];if(!t.projection){const o=t.projection=wo(e?e.length:1,null),l=o.slice();let d=t.child;for(;null!==d;){const g=e?lE(d,e):0;null!==g&&(l[g]?l[g].projectionNext=d:o[g]=d,l[g]=d),d=d.next}}}function i_(e,t=0,n){const o=qe(),l=gn(),d=Pa(l,20+e,16,null,n||null);null===d.projection&&(d.projection=t),ua(),64!=(64&d.flags)&&function Pp(e,t,n){oh(t[11],0,t,n,ef(e,n,t),Gc(n.parent||t[6],n,t))}(l,o,d)}function Ag(e,t,n){return Sg(e,"",t,"",n),Ag}function Sg(e,t,n,o,l){const d=qe(),g=Du(d,t,n,o);return g!==an&&qs(gn(),gr(),d,e,g,d[11],l,!1),Sg}function f_(e,t,n,o,l){const d=e[n+1],g=null===t;let E=o?Ho(d):Ta(d),D=!1;for(;0!==E&&(!1===D||g);){const U=e[E+1];dE(e[E],t)&&(D=!0,e[E+1]=o?dh(U):ac(U)),E=o?Ho(U):Ta(U)}D&&(e[n+1]=o?ac(d):dh(d))}function dE(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ao(e,t)>=0}function Mg(e,t){return function ka(e,t,n,o){const l=qe(),d=gn(),g=function Mi(e){const t=b.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);d.firstUpdatePass&&function b_(e,t,n,o){const l=e.data;if(null===l[n+1]){const d=l[di()],g=function C_(e,t){return t>=e.expandoStartIndex}(e,n);(function T_(e,t){return 0!=(e.flags&(t?16:32))})(d,o)&&null===t&&!g&&(t=!1),t=function EE(e,t,n,o){const l=function Pi(e){const t=b.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let d=o?t.residualClasses:t.residualStyles;if(null===l)0===(o?t.classBindings:t.styleBindings)&&(n=Vh(n=Pg(null,e,t,n,o),t.attrs,o),d=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==l)if(n=Pg(l,e,t,n,o),null===d){let D=function CE(e,t,n){const o=n?t.classBindings:t.styleBindings;if(0!==Ta(o))return e[Ho(o)]}(e,t,o);void 0!==D&&Array.isArray(D)&&(D=Pg(null,e,t,D[1],o),D=Vh(D,t.attrs,o),function bE(e,t,n,o){e[Ho(n?t.classBindings:t.styleBindings)]=o}(e,t,o,D))}else d=function DE(e,t,n){let o;const l=t.directiveEnd;for(let d=1+t.directiveStylingLast;d<l;d++)o=Vh(o,e[d].hostAttrs,n);return Vh(o,t.attrs,n)}(e,t,o)}return void 0!==d&&(o?t.residualClasses=d:t.residualStyles=d),n}(l,d,t,o),function uE(e,t,n,o,l,d){let g=d?t.classBindings:t.styleBindings,E=Ho(g),D=Ta(g);e[o]=n;let U,F=!1;if(Array.isArray(n)){const Z=n;U=Z[1],(null===U||ao(Z,U)>0)&&(F=!0)}else U=n;if(l)if(0!==D){const ue=Ho(e[E+1]);e[o+1]=qc(ue,E),0!==ue&&(e[ue+1]=Qc(e[ue+1],o)),e[E+1]=function ch(e,t){return 131071&e|t<<17}(e[E+1],o)}else e[o+1]=qc(E,0),0!==E&&(e[E+1]=Qc(e[E+1],o)),E=o;else e[o+1]=qc(D,0),0===E?E=o:e[D+1]=Qc(e[D+1],o),D=o;F&&(e[o+1]=ac(e[o+1])),f_(e,U,o,!0),f_(e,U,o,!1),function cE(e,t,n,o,l){const d=l?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof t&&ao(d,t)>=0&&(n[o+1]=dh(n[o+1]))}(t,U,e,o,d),g=qc(E,D),d?t.classBindings=g:t.styleBindings=g}(l,d,t,n,g,o)}}(d,e,g,o),t!==an&&_s(l,g,t)&&function I_(e,t,n,o,l,d,g,E){if(!(3&t.type))return;const D=e.data,F=D[E+1];hp(function pf(e){return 1==(1&e)}(F)?w_(D,t,n,l,Ta(F),g):void 0)||(hp(d)||function ff(e){return 2==(2&e)}(F)&&(d=w_(D,null,n,l,E,g)),function Op(e,t,n,o,l){const d=Rn(e);if(t)l?d?e.addClass(n,o):n.classList.add(o):d?e.removeClass(n,o):n.classList.remove(o);else{let g=-1===o.indexOf("-")?void 0:$.DashCase;if(null==l)d?e.removeStyle(n,o,g):n.style.removeProperty(o);else{const E="string"==typeof l&&l.endsWith("!important");E&&(l=l.slice(0,-10),g|=$.Important),d?e.setStyle(n,o,l,g):n.style.setProperty(o,l,E?"important":"")}}}(o,g,xe(di(),n),l,d))}(d,d.data[di()],l,l[11],e,l[g+1]=function TE(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=he(Hn(e)))),e}(t,n),o,g)}(e,t,null,!0),Mg}function Pg(e,t,n,o,l){let d=null;const g=n.directiveEnd;let E=n.directiveStylingLast;for(-1===E?E=n.directiveStart:E++;E<g&&(d=t[E],o=Vh(o,d.hostAttrs,l),d!==e);)E++;return null!==e&&(n.directiveStylingLast=E),o}function Vh(e,t,n){const o=n?1:2;let l=-1;if(null!==t)for(let d=0;d<t.length;d++){const g=t[d];"number"==typeof g?l=g:l===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),hi(e,g,!!n||t[++d]))}return void 0===e?null:e}function w_(e,t,n,o,l,d){const g=null===t;let E;for(;l>0;){const D=e[l],F=Array.isArray(D),U=F?D[1]:D,Z=null===U;let ue=n[l+1];ue===an&&(ue=Z?It:void 0);let we=Z?ia(ue,o):U===o?ue:void 0;if(F&&!hp(we)&&(we=ia(D,o)),hp(we)&&(E=we,g))return E;const We=e[l+1];l=g?Ho(We):Ta(We)}if(null!==t){let D=d?t.residualClasses:t.residualStyles;null!=D&&(E=ia(D,o))}return E}function hp(e){return void 0!==e}function A_(e,t=""){const n=qe(),o=gn(),l=e+20,d=o.firstCreatePass?Pa(o,l,1,t,null):o.data[l],g=n[l]=function al(e,t){return Rn(e)?e.createText(t):e.createTextNode(t)}(n[11],t);tc(o,n,g,d),ci(d,!1)}function Og(e){return fp("",e,""),Og}function fp(e,t,n){const o=qe(),l=Du(o,e,t,n);return l!==an&&Ra(o,di(),l),fp}const Ec=void 0;var zE=["en",[["a","p"],["AM","PM"],Ec],[["AM","PM"],Ec,Ec],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ec,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ec,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ec,"{1} 'at' {0}",Ec],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function GE(e){const n=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===o?1:5}];let Sd={};function Rg(e){const t=function KE(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Z_(t);if(n)return n;const o=t.split("-")[0];if(n=Z_(o),n)return n;if("en"===o)return zE;throw new Error(`Missing locale data for the locale "${e}".`)}function K_(e){return Rg(e)[Qt.PluralCase]}function Z_(e){return e in Sd||(Sd[e]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[e]),Sd[e]}var Qt=(()=>((Qt=Qt||{})[Qt.LocaleId=0]="LocaleId",Qt[Qt.DayPeriodsFormat=1]="DayPeriodsFormat",Qt[Qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qt[Qt.DaysFormat=3]="DaysFormat",Qt[Qt.DaysStandalone=4]="DaysStandalone",Qt[Qt.MonthsFormat=5]="MonthsFormat",Qt[Qt.MonthsStandalone=6]="MonthsStandalone",Qt[Qt.Eras=7]="Eras",Qt[Qt.FirstDayOfWeek=8]="FirstDayOfWeek",Qt[Qt.WeekendRange=9]="WeekendRange",Qt[Qt.DateFormat=10]="DateFormat",Qt[Qt.TimeFormat=11]="TimeFormat",Qt[Qt.DateTimeFormat=12]="DateTimeFormat",Qt[Qt.NumberSymbols=13]="NumberSymbols",Qt[Qt.NumberFormats=14]="NumberFormats",Qt[Qt.CurrencyCode=15]="CurrencyCode",Qt[Qt.CurrencySymbol=16]="CurrencySymbol",Qt[Qt.CurrencyName=17]="CurrencyName",Qt[Qt.Currencies=18]="Currencies",Qt[Qt.Directionality=19]="Directionality",Qt[Qt.PluralCase=20]="PluralCase",Qt[Qt.ExtraData=21]="ExtraData",Qt))();const pp="en-US";let Y_=pp;function Ng(e,t,n,o,l){if(e=_e(e),Array.isArray(e))for(let d=0;d<e.length;d++)Ng(e[d],t,n,o,l);else{const d=gn(),g=qe();let E=Eu(e)?e:_e(e.provide),D=$f(e);const F=br(),U=1048575&F.providerIndexes,Z=F.directiveStart,ue=F.providerIndexes>>20;if(Eu(e)||!e.multi){const we=new Oi(D,l,Lh),We=Lg(E,t,l?U:U+ue,Z);-1===We?(y(Gi(F,g),d,E),Fg(d,e,t.length),t.push(E),F.directiveStart++,F.directiveEnd++,l&&(F.providerIndexes+=1048576),n.push(we),g.push(we)):(n[We]=we,g[We]=we)}else{const we=Lg(E,t,U+ue,Z),We=Lg(E,t,U,U+ue),ht=we>=0&&n[we],_t=We>=0&&n[We];if(l&&!_t||!l&&!ht){y(Gi(F,g),d,E);const xt=function z0(e,t,n,o,l){const d=new Oi(e,n,Lh);return d.multi=[],d.index=t,d.componentProviders=0,vy(d,l,o&&!n),d}(l?G0:W0,n.length,l,o,D);!l&&_t&&(n[We].providerFactory=xt),Fg(d,e,t.length,0),t.push(E),F.directiveStart++,F.directiveEnd++,l&&(F.providerIndexes+=1048576),n.push(xt),g.push(xt)}else Fg(d,e,we>-1?we:We,vy(n[l?We:we],D,!l&&o));!l&&o&&_t&&n[We].componentProviders++}}}function Fg(e,t,n,o){const l=Eu(t),d=function Gf(e){return!!e.useClass}(t);if(l||d){const D=(d?_e(t.useClass):t).prototype.ngOnDestroy;if(D){const F=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const U=F.indexOf(n);-1===U?F.push(n,[o,D]):F[U+1].push(o,D)}else F.push(n,D)}}}function vy(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Lg(e,t,n,o){for(let l=n;l<o;l++)if(t[l]===e)return l;return-1}function W0(e,t,n,o){return Vg(this.multi,[])}function G0(e,t,n,o){const l=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,E=qt(n,n[1],this.providerFactory.index,o);d=E.slice(0,g),Vg(l,d);for(let D=g;D<E.length;D++)d.push(E[D])}else d=[],Vg(l,d);return d}function Vg(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ey(e,t=[]){return n=>{n.providersResolver=(o,l)=>function $0(e,t,n){const o=gn();if(o.firstCreatePass){const l=Jr(e);Ng(n,o.data,o.blueprint,l,!0),Ng(t,o.data,o.blueprint,l,!1)}}(o,l?l(e):e,t)}}class Cy{}class Y0{resolveComponentFactory(t){throw function Z0(e){const t=Error(`No component factory found for ${he(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let vp=(()=>{class e{}return e.NULL=new Y0,e})();function q0(){return Pd(br(),qe())}function Pd(e,t){return new $h(ze(e,t))}let $h=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=q0,e})();function Q0(e){return e instanceof $h?e.nativeElement:e}class Dy{}let J0=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function eC(){const e=qe(),n=Yt(br().index,e);return function X0(e){return e[11]}(vr(n)?n:e)}(),e})(),tC=(()=>{class e{}return e.\u0275prov=Ct({token:e,providedIn:"root",factory:()=>null}),e})();class Iy{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const wy=new Iy("13.3.11"),Ug={};function Ep(e,t,n,o,l=!1){for(;null!==n;){const d=t[n.index];if(null!==d&&o.push(S(d)),oi(d))for(let E=10;E<d.length;E++){const D=d[E],F=D[1].firstChild;null!==F&&Ep(D[1],D,F,o)}const g=n.type;if(8&g)Ep(e,t,n.child,o);else if(32&g){const E=ke(n,t);let D;for(;D=E();)o.push(D)}else if(16&g){const E=Ia(t,n);if(Array.isArray(E))o.push(...E);else{const D=$t(t[16]);Ep(D[1],D,E,o,!0)}}n=l?n.projectionNext:n.next}return o}class Wh{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Ep(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(oi(t)){const n=t[8],o=n?n.indexOf(this):-1;o>-1&&(Xd(t,o),fa(n,o))}this._attachedToViewContainer=!1}eh(this._lView[1],this._lView)}onDestroy(t){cd(this._lView[1],this._lView,null,t)}markForCheck(){mc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function yd(e,t,n){const o=t[10];o.begin&&o.begin();try{yu(e,t,e.template,n)}catch(l){throw Ff(t,l),l}finally{o.end&&o.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Qd(e,t){ic(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new je(902,"");this._appRef=t}}class nC extends Wh{constructor(t){super(t),this._view=t}detectChanges(){wh(this._view)}checkNoChanges(){}get context(){return null}}class Ty extends vp{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=xn(t);return new Bg(n,this.ngModule)}}function Ay(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Bg extends Cy{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Zc(e){return e.map(oc).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Ay(this.componentDef.inputs)}get outputs(){return Ay(this.componentDef.outputs)}create(t,n,o,l){const d=(l=l||this.ngModule)?function iC(e,t){return{get:(n,o,l)=>{const d=e.get(n,Ug,l);return d!==Ug||o===Ug?d:t.get(n,o,l)}}}(t,l.injector):t,g=d.get(Dy,P),E=d.get(tC,null),D=g.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",U=o?function Df(e,t,n){if(Rn(e))return e.selectRootElement(t,n===pt.ShadowDom);let o="string"==typeof t?e.querySelector(t):t;return o.textContent="",o}(D,o,this.componentDef.encapsulation):Gl(g.createRenderer(null,this.componentDef),F,function rC(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(F)),Z=this.componentDef.onPush?576:528,ue=function ep(e,t){return{components:[],scheduler:e||Qu,clean:Yp,playerHandler:t||null,flags:0}}(),we=fc(0,null,null,1,0,null,null,null,null,null),We=Yl(null,we,ue,Z,null,null,g,D,E,d);let ht,_t;K(We);try{const xt=function Jf(e,t,n,o,l,d){const g=n[1];n[20]=e;const D=Pa(g,20,2,"#host",null),F=D.mergedAttrs=t.hostAttrs;null!==F&&(Ed(D,F,!0),null!==e&&(ur(l,e,F),null!==D.classes&&Kl(l,e,D.classes),null!==D.styles&&wa(l,e,D.styles)));const U=o.createRenderer(e,t),Z=Yl(n,ud(t),null,t.onPush?64:16,n[20],D,o,U,d||null,null);return g.firstCreatePass&&(y(Gi(D,n),g,t.type),gc(g,D),ho(D,n.length,1)),fl(n,Z),n[20]=Z}(U,this.componentDef,We,g,D);if(U)if(o)ur(D,U,["ng-version",wy.full]);else{const{attrs:Qe,classes:Kt}=function uh(e){const t=[],n=[];let o=1,l=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===l?""!==d&&t.push(d,e[++o]):8===l&&n.push(d);else{if(!Oo(l))break;l=d}o++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);Qe&&ur(D,U,Qe),Kt&&Kt.length>0&&Kl(D,U,Kt.join(" "))}if(_t=Gt(we,20),void 0!==n){const Qe=_t.projection=[];for(let Kt=0;Kt<this.ngContentSelectors.length;Kt++){const Fn=n[Kt];Qe.push(null!=Fn?Array.from(Fn):null)}}ht=function Xf(e,t,n,o,l){const d=n[1],g=function $p(e,t,n){const o=br();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),hl(e,o,t,ul(e,t,1,null),n));const l=qt(t,e,o.directiveStart,o);Zr(l,t);const d=ze(o,t);return d&&Zr(d,t),l}(d,n,t);if(o.components.push(g),e[8]=g,l&&l.forEach(D=>D(g,t)),t.contentQueries){const D=br();t.contentQueries(1,g,D.directiveStart)}const E=br();return!d.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Hi(E.index),Sf(n[1],E,0,E.directiveStart,E.directiveEnd,t),Dh(t,g)),g}(xt,this.componentDef,We,ue,[hg]),hc(we,We,null)}finally{Bs()}return new oC(this.componentType,ht,Pd(_t,We),We,_t)}}class oC extends class K0{}{constructor(t,n,o,l,d){super(),this.location=o,this._rootLView=l,this._tNode=d,this.instance=n,this.hostView=this.changeDetectorRef=new nC(l),this.componentType=t}get injector(){return new cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Od{}class Sy{}const Rd=new Map;class Oy extends Od{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ty(this);const o=ar(t);this._bootstrapComponents=p(o.bootstrap),this._r3Injector=jf(t,n,[{provide:Od,useValue:this},{provide:vp,useValue:this.componentFactoryResolver}],he(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=la.THROW_IF_NOT_FOUND,o=Tt.Default){return t===la||t===Od||t===Ah?this:this._r3Injector.get(t,n,o)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class jg extends Sy{constructor(t){super(),this.moduleType=t,null!==ar(t)&&function lC(e){const t=new Set;!function n(o){const l=ar(o,!0),d=l.id;null!==d&&(function My(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${he(t)} vs ${he(t.name)}`)}(d,Rd.get(d),o),Rd.set(d,o));const g=p(l.imports);for(const E of g)t.has(E)||(t.add(E),n(E))}(e)}(t)}create(t){return new Oy(this.moduleType,t)}}function Ry(e,t,n,o,l,d){const g=t+n;return _s(e,g,l)?function zo(e,t,n){return e[t]=n}(e,g+1,d?o.call(d,l):o(l)):function Gh(e,t){const n=e[t];return n===an?void 0:n}(e,g+1)}function Ly(e,t){const n=gn();let o;const l=e+20;n.firstCreatePass?(o=function vC(e,t){if(t)for(let n=t.length-1;n>=0;n--){const o=t[n];if(e===o.name)return o}}(t,n.pipeRegistry),n.data[l]=o,o.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(l,o.onDestroy)):o=n.data[l];const d=o.factory||(o.factory=er(o.type)),g=pn(Lh);try{const E=bo(!1),D=d();return bo(E),function ct(e,t,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=o}(n,qe(),l,D),D}finally{pn(g)}}function Vy(e,t,n){const o=e+20,l=qe(),d=_n(l,o);return function zh(e,t){return e[1].data[t].pure}(l,o)?Ry(l,function Br(){const e=b.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,d.transform,n,d):d.transform(n)}function Hg(e){return t=>{setTimeout(e,void 0,t)}}const yl=class IC extends f.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,o){var l,d,g;let E=t,D=n||(()=>null),F=o;if(t&&"object"==typeof t){const Z=t;E=null===(l=Z.next)||void 0===l?void 0:l.bind(Z),D=null===(d=Z.error)||void 0===d?void 0:d.bind(Z),F=null===(g=Z.complete)||void 0===g?void 0:g.bind(Z)}this.__isAsync&&(D=Hg(D),E&&(E=Hg(E)),F&&(F=Hg(F)));const U=super.subscribe({next:E,error:D,complete:F});return t instanceof M.w0&&t.add(U),U}};function wC(){return this._results[Jl()]()}class $g{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Jl(),o=$g.prototype;o[n]||(o[n]=wC)}get changes(){return this._changes||(this._changes=new yl)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const o=this;o.dirty=!1;const l=Ki(t);(this._changesDetected=!function Pu(e,t,n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let l=e[o],d=t[o];if(n&&(l=n(l),d=n(d)),d!==l)return!1}return!0}(o._results,l,n))&&(o._results=l,o.length=l.length,o.last=l[this.length-1],o.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Kh=(()=>{class e{}return e.__NG_ELEMENT_ID__=SC,e})();const TC=Kh,AC=class extends TC{constructor(t,n,o){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=o}createEmbeddedView(t){const n=this._declarationTContainer.tViews,o=Yl(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(o[19]=d.createEmbeddedView(n)),hc(n,o,t),new Wh(o)}};function SC(){return Cp(br(),qe())}function Cp(e,t){return 4&e.type?new AC(t,e,Pd(e,t)):null}let bp=(()=>{class e{}return e.__NG_ELEMENT_ID__=MC,e})();function MC(){return jy(br(),qe())}const PC=bp,Uy=class extends PC{constructor(t,n,o){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=o}get element(){return Pd(this._hostTNode,this._hostLView)}get injector(){return new cr(this._hostTNode,this._hostLView)}get parentInjector(){const t=C(this._hostTNode,this._hostLView);if(Co(t)){const n=ns(t,this._hostLView),o=Ts(t);return new cr(n[1].data[o+8],n)}return new cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=By(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,o){const l=t.createEmbeddedView(n||{});return this.insert(l,o),l}createComponent(t,n,o,l,d){const g=t&&!function Gs(e){return"function"==typeof e}(t);let E;if(g)E=n;else{const Z=n||{};E=Z.index,o=Z.injector,l=Z.projectableNodes,d=Z.ngModuleRef}const D=g?t:new Bg(xn(t)),F=o||this.parentInjector;if(!d&&null==D.ngModule){const ue=(g?F:this.parentInjector).get(Od,null);ue&&(d=ue)}const U=D.create(F,l,void 0,d);return this.insert(U.hostView,E),U}insert(t,n){const o=t._lView,l=o[1];if(function Cn(e){return oi(e[3])}(o)){const U=this.indexOf(t);if(-1!==U)this.detach(U);else{const Z=o[3],ue=new Uy(Z,Z[6],Z[3]);ue.detach(ue.indexOf(t))}}const d=this._adjustIndex(n),g=this._lContainer;!function Jd(e,t,n,o){const l=10+o,d=n.length;o>0&&(n[l-1][4]=t),o<d-10?(t[4]=n[l],ja(n,10+o,t)):(n.push(t),t[4]=null),t[3]=n;const g=t[17];null!==g&&n!==g&&function Sp(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(g,t);const E=t[19];null!==E&&E.insertView(e),t[2]|=128}(l,o,g,d);const E=pu(d,g),D=o[11],F=Wc(D,g[7]);return null!==F&&function $c(e,t,n,o,l,d){o[0]=l,o[6]=t,ic(e,o,n,1,l,d)}(l,g[6],D,o,F,E),t.attachToViewContainerRef(),ja(Wg(g),d,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=By(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),o=Xd(this._lContainer,n);o&&(fa(Wg(this._lContainer),n),eh(o[1],o))}detach(t){const n=this._adjustIndex(t,-1),o=Xd(this._lContainer,n);return o&&null!=fa(Wg(this._lContainer),n)?new Wh(o):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function By(e){return e[8]}function Wg(e){return e[8]||(e[8]=[])}function jy(e,t){let n;const o=t[e.index];if(oi(o))n=o;else{let l;if(8&e.type)l=S(o);else{const d=t[11];l=d.createComment("");const g=ze(e,t);oa(d,Wc(d,g),l,function ih(e,t){return Rn(e)?e.nextSibling(t):t.nextSibling}(d,g),!1)}t[e.index]=n=pd(o,t,l,e),fl(t,n)}return new Uy(n,e,t)}class Gg{constructor(t){this.queryList=t,this.matches=null}clone(){return new Gg(this.queryList)}setDirty(){this.queryList.setDirty()}}class zg{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const o=null!==t.contentQueries?t.contentQueries[0]:n.length,l=[];for(let d=0;d<o;d++){const g=n.getByIndex(d);l.push(this.queries[g.indexInDeclarationView].clone())}return new zg(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Yy(t,n).matches&&this.queries[n].setDirty()}}class Hy{constructor(t,n,o=null){this.predicate=t,this.flags=n,this.read=o}}class Kg{constructor(t=[]){this.queries=t}elementStart(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let o=0;o<this.length;o++){const l=null!==n?n.length:0,d=this.getByIndex(o).embeddedTView(t,l);d&&(d.indexInDeclarationView=o,null!==n?n.push(d):n=[d])}return null!==n?new Kg(n):null}template(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Zg{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Zg(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==n;)o=o.parent;return n===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const o=this.metadata.predicate;if(Array.isArray(o))for(let l=0;l<o.length;l++){const d=o[l];this.matchTNodeWithReadOption(t,n,xC(n,d)),this.matchTNodeWithReadOption(t,n,mt(n,t,d,!1,!1))}else o===Kh?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,mt(n,t,o,!1,!1))}matchTNodeWithReadOption(t,n,o){if(null!==o){const l=this.metadata.read;if(null!==l)if(l===$h||l===bp||l===Kh&&4&n.type)this.addMatch(n.index,-2);else{const d=mt(n,t,l,!1,!1);null!==d&&this.addMatch(n.index,d)}else this.addMatch(n.index,o)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function xC(e,t){const n=e.localNames;if(null!==n)for(let o=0;o<n.length;o+=2)if(n[o]===t)return n[o+1];return null}function NC(e,t,n,o){return-1===n?function kC(e,t){return 11&e.type?Pd(e,t):4&e.type?Cp(e,t):null}(t,e):-2===n?function FC(e,t,n){return n===$h?Pd(t,e):n===Kh?Cp(t,e):n===bp?jy(t,e):void 0}(e,t,o):qt(e,e[1],n,t)}function $y(e,t,n,o){const l=t[19].queries[o];if(null===l.matches){const d=e.data,g=n.matches,E=[];for(let D=0;D<g.length;D+=2){const F=g[D];E.push(F<0?null:NC(t,d[F],g[D+1],n.metadata.read))}l.matches=E}return l.matches}function Yg(e,t,n,o){const l=e.queries.getByIndex(n),d=l.matches;if(null!==d){const g=$y(e,t,l,n);for(let E=0;E<d.length;E+=2){const D=d[E];if(D>0)o.push(g[E/2]);else{const F=d[E+1],U=t[-D];for(let Z=10;Z<U.length;Z++){const ue=U[Z];ue[17]===ue[3]&&Yg(ue[1],ue,F,o)}if(null!==U[9]){const Z=U[9];for(let ue=0;ue<Z.length;ue++){const we=Z[ue];Yg(we[1],we,F,o)}}}}}return o}function Wy(e){const t=qe(),n=gn(),o=Va();qo(o+1);const l=Yy(n,o);if(e.dirty&&rn(t)===(2==(2&l.metadata.flags))){if(null===l.matches)e.reset([]);else{const d=l.crossesNgTemplate?Yg(n,t,o,[]):$y(n,t,l,o);e.reset(d,Q0),e.notifyOnChanges()}return!0}return!1}function Gy(e,t,n,o){const l=gn();if(l.firstCreatePass){const d=br();(function Zy(e,t,n){null===e.queries&&(e.queries=new Kg),e.queries.track(new Zg(t,n))})(l,new Hy(t,n,o),d.index),function UC(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(l,e),2==(2&n)&&(l.staticContentQueries=!0)}!function Ky(e,t,n){const o=new $g(4==(4&n));cd(e,t,o,o.destroy),null===t[19]&&(t[19]=new zg),t[19].queries.push(new Gg(o))}(l,qe(),n)}function zy(){return function VC(e,t){return e[19].queries[t].queryList}(qe(),Va())}function Yy(e,t){return e.queries.getByIndex(t)}function qy(e,t){return Cp(e,t)}function wp(...e){}const fv=new kr("Application Initializer");let tm=(()=>{class e{constructor(n){this.appInits=n,this.resolve=wp,this.reject=wp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,l)=>{this.resolve=o,this.reject=l})}runInitializers(){if(this.initialized)return;const n=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(Ig(d))n.push(d);else if(Jm(d)){const g=new Promise((E,D)=>{d.subscribe({complete:E,error:D})});n.push(g)}}Promise.all(n).then(()=>{o()}).catch(l=>{this.reject(l)}),0===n.length&&o(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(V(fv,8))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const pv=new kr("AppId",{providedIn:"root",factory:function gv(){return`${nm()}${nm()}${nm()}`}});function nm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mv=new kr("Platform Initializer"),nb=new kr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_v=new kr("appBootstrapListener");let rb=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const rm=new kr("LocaleId",{providedIn:"root",factory:()=>ve(rm,Tt.Optional|Tt.SkipSelf)||function ib(){return"undefined"!=typeof $localize&&$localize.locale||pp}()}),sb=new kr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ob{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let ab=(()=>{class e{compileModuleSync(n){return new jg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),d=p(ar(n).declarations).reduce((g,E)=>{const D=xn(E);return D&&g.push(new Bg(D)),g},[]);return new ob(o,d)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ub=(()=>Promise.resolve(0))();function im(e){"undefined"==typeof Zone?ub.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Fa{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yl(!1),this.onMicrotaskEmpty=new yl(!1),this.onStable=new yl(!1),this.onError=new yl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!o&&n,l.shouldCoalesceRunChangeDetection=o,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function cb(){let e=en.requestAnimationFrame,t=en.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function fb(e){const t=()=>{!function hb(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(en,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,om(e),e.isCheckStableRunning=!0,sm(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),om(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,o,l,d,g,E)=>{try{return yv(e),n.invokeTask(l,d,g,E)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&t(),vv(e)}},onInvoke:(n,o,l,d,g,E,D)=>{try{return yv(e),n.invoke(l,d,g,E,D)}finally{e.shouldCoalesceRunChangeDetection&&t(),vv(e)}},onHasTask:(n,o,l,d)=>{n.hasTask(l,d),o===l&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,om(e),sm(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(n,o,l,d)=>(n.handleError(l,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,o){return this._inner.run(t,n,o)}runTask(t,n,o,l){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+l,t,db,wp,wp);try{return d.runTask(g,n,o)}finally{d.cancelTask(g)}}runGuarded(t,n,o){return this._inner.runGuarded(t,n,o)}runOutsideAngular(t){return this._outer.run(t)}}const db={};function sm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function om(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function yv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function vv(e){e._nesting--,sm(e)}class pb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yl,this.onMicrotaskEmpty=new yl,this.onStable=new yl,this.onError=new yl}run(t,n,o){return t.apply(n,o)}runGuarded(t,n,o){return t.apply(n,o)}runOutsideAngular(t){return t()}runTask(t,n,o,l){return t.apply(n,o)}}let Ev=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fa.assertNotInAngularZone(),im(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())im(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,l){let d=-1;o&&o>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:d,updateCb:l})}whenStable(n,o,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,o,l){return[]}}return e.\u0275fac=function(n){return new(n||e)(V(Fa))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac}),e})(),gb=(()=>{class e{constructor(){this._applications=new Map,am.addToWindow(this)}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return am.findTestabilityInTree(this,n,o)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();class mb{addToWindow(t){}findTestabilityInTree(t,n,o){return null}}function _b(e){am=e}let am=new mb,Cc=null;const Cv=new kr("AllowMultipleToken"),bv=new kr("PlatformOnDestroy");class Eb{constructor(t,n){this.name=t,this.token=n}}function Dv(e,t,n=[]){const o=`Platform: ${t}`,l=new kr(o);return(d=[])=>{let g=lm();if(!g||g.injector.get(Cv,!1)){const E=[...n,...d,{provide:l,useValue:!0}];e?e(E):function Cb(e){if(Cc&&!Cc.get(Cv,!1))throw new je(400,"");Cc=e;const t=e.get(Iv),n=e.get(mv,null);n&&n.forEach(o=>o())}(function Db(e=[],t){return la.create({name:t,providers:[{provide:Sh,useValue:"platform"},{provide:bv,useValue:()=>Cc=null},...e]})}(E,o))}return function bb(e){const t=lm();if(!t)throw new je(401,"");return t}()}}function lm(){var e;return null!==(e=null==Cc?void 0:Cc.get(Iv))&&void 0!==e?e:null}let Iv=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const E=function Ib(e,t){let n;return n="noop"===e?new pb:("zone.js"===e?void 0:e)||new Fa({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),D=[{provide:Fa,useValue:E}];return E.run(()=>{const F=la.create({providers:D,parent:this.injector,name:n.moduleType.name}),U=n.create(F),Z=U.injector.get(ba,null);if(!Z)throw new je(402,"");return E.runOutsideAngular(()=>{const ue=E.onError.subscribe({next:we=>{Z.handleError(we)}});U.onDestroy(()=>{cm(this._modules,U),ue.unsubscribe()})}),function wb(e,t,n){try{const o=n();return Ig(o)?o.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(Z,E,()=>{const ue=U.injector.get(tm);return ue.runInitializers(),ue.donePromise.then(()=>(function QE(e){lt(e,"Expected localeId to be defined"),"string"==typeof e&&(Y_=e.toLowerCase().replace(/_/g,"-"))}(U.injector.get(rm,pp)||pp),this._moduleDoBootstrap(U),U))})})}bootstrapModule(n,o=[]){const l=wv({},o);return function yb(e,t,n){const o=new jg(n);return Promise.resolve(o)}(0,0,n).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(n){const o=n.injector.get(um);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(l=>o.bootstrap(l));else{if(!n.instance.ngDoBootstrap)throw new je(403,"");n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(bv,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(V(la))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function wv(e,t){return Array.isArray(t)?t.reduce(wv,e):Object.assign(Object.assign({},e),t)}let um=(()=>{class e{constructor(n,o,l,d){this._zone=n,this._injector=o,this._exceptionHandler=l,this._initStatus=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new z.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),E=new z.y(D=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{Fa.assertNotInAngularZone(),im(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{Fa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{F.unsubscribe(),U.unsubscribe()}});this.isStable=(0,le.T)(g,E.pipe((0,ce.B)()))}bootstrap(n,o){if(!this._initStatus.done)throw new je(405,"");let l;l=n instanceof Cy?n:this._injector.get(vp).resolveComponentFactory(n),this.componentTypes.push(l.componentType);const d=function vb(e){return e.isBoundToModule}(l)?void 0:this._injector.get(Od),E=l.create(la.NULL,[],o||l.selector,d),D=E.location.nativeElement,F=E.injector.get(Ev,null),U=F&&E.injector.get(gb);return F&&U&&U.registerApplication(D,F),E.onDestroy(()=>{this.detachView(E.hostView),cm(this.components,E),U&&U.unregisterApplication(D)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new je(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;cm(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(_v,[]).concat(this._bootstrapListeners).forEach(l=>l(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(V(Fa),V(la),V(ba),V(tm))},e.\u0275prov=Ct({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function cm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Av=!0,Sv=!1;function Ab(){return Sv=!0,Av}function Sb(){if(Sv)throw new Error("Cannot enable prod mode after platform setup.");Av=!1}let Mb=(()=>{class e{}return e.__NG_ELEMENT_ID__=Pb,e})();function Pb(e){return function Ob(e,t,n){if(ys(e)&&!n){const o=Yt(e.index,t);return new Wh(o,o)}return 47&e.type?new Wh(t[16],t):null}(br(),qe(),16==(16&e))}class Rv{constructor(){}supports(t){return Cu(t)}create(t){return new Lb(t)}}const Fb=(e,t)=>t;class Lb{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Fb}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,o=this._removalsHead,l=0,d=null;for(;n||o;){const g=!o||n&&n.currentIndex<kv(o,l,d)?n:o,E=kv(g,l,d),D=g.currentIndex;if(g===o)l--,o=o._nextRemoved;else if(n=n._next,null==g.previousIndex)l++;else{d||(d=[]);const F=E-l,U=D-l;if(F!=U){for(let ue=0;ue<F;ue++){const we=ue<d.length?d[ue]:d[ue]=0,We=we+ue;U<=We&&We<F&&(d[ue]=we+1)}d[g.previousIndex]=U-F}}E!==D&&t(g,E,D)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Cu(t))throw new je(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,d,g,n=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let E=0;E<this.length;E++)d=t[E],g=this._trackByFn(E,d),null!==n&&Object.is(n.trackById,g)?(o&&(n=this._verifyReinsertion(n,d,g,E)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,g,E),o=!0),n=n._next}else l=0,function mg(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Jl()]();let o;for(;!(o=n.next()).done;)t(o.value)}}(t,E=>{g=this._trackByFn(l,E),null!==n&&Object.is(n.trackById,g)?(o&&(n=this._verifyReinsertion(n,E,g,l)),Object.is(n.item,E)||this._addIdentityChange(n,E)):(n=this._mismatch(n,E,g,l),o=!0),n=n._next,l++}),this.length=l;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,o,l){let d;return null===t?d=this._itTail:(d=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,d,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,l))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,d,l)):t=this._addAfter(new Vb(n,o),d,l),t}_verifyReinsertion(t,n,o,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?t=this._reinsertAfter(d,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,d=t._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(t,n,o),this._addToMoves(t,o),t}_moveAfter(t,n,o){return this._unlink(t),this._insertAfter(t,n,o),this._addToMoves(t,o),t}_addAfter(t,n,o){return this._insertAfter(t,n,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,o){const l=null===n?this._itHead:n._next;return t._next=l,t._prev=n,null===l?this._itTail=t:l._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new xv),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,o=t._next;return null===n?this._itHead=o:n._next=o,null===o?this._itTail=n:o._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xv),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Vb{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ub{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===n||n<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const n=t._prevDup,o=t._nextDup;return null===n?this._head=o:n._nextDup=o,null===o?this._tail=n:o._prevDup=n,null===this._head}}class xv{constructor(){this.map=new Map}put(t){const n=t.trackById;let o=this.map.get(n);o||(o=new Ub,this.map.set(n,o)),o.add(t)}get(t,n){const l=this.map.get(t);return l?l.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kv(e,t,n){const o=e.previousIndex;if(null===o)return o;let l=0;return n&&o<n.length&&(l=n[o]),o+t+l}class Nv{constructor(){}supports(t){return t instanceof Map||Nh(t)}create(){return new Bb}}class Bb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Nh(t)))throw new je(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,l)=>{if(n&&n.key===l)this._maybeAddToChanges(n,o),this._appendAfter=n,n=n._next;else{const d=this._getOrCreateRecordForKey(l,o);n=this._insertBeforeOrAppend(n,d)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let o=n;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const o=t._prev;return n._next=t,n._prev=o,t._prev=n,o&&(o._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,n);const d=l._prev,g=l._next;return d&&(d._next=g),g&&(g._prev=d),l._next=null,l._prev=null,l}const o=new jb(t);return this._records.set(t,o),o.currentValue=n,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(o=>n(t[o],o))}}class jb{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fv(){return new gm([new Rv])}let gm=(()=>{class e{constructor(n){this.factories=n}static create(n,o){if(null!=o){const l=o.factories.slice();n=n.concat(l)}return new e(n)}static extend(n){return{provide:e,useFactory:o=>e.create(n,o||Fv()),deps:[[e,new wr,new Lt]]}}find(n){const o=this.factories.find(l=>l.supports(n));if(null!=o)return o;throw new je(901,"")}}return e.\u0275prov=Ct({token:e,providedIn:"root",factory:Fv}),e})();function Lv(){return new mm([new Nv])}let mm=(()=>{class e{constructor(n){this.factories=n}static create(n,o){if(o){const l=o.factories.slice();n=n.concat(l)}return new e(n)}static extend(n){return{provide:e,useFactory:o=>e.create(n,o||Lv()),deps:[[e,new wr,new Lt]]}}find(n){const o=this.factories.find(d=>d.supports(n));if(o)return o;throw new je(901,"")}}return e.\u0275prov=Ct({token:e,providedIn:"root",factory:Lv}),e})();const Wb=Dv(null,"core",[]);let Gb=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(V(um))},e.\u0275mod=Wt({type:e}),e.\u0275inj=kt({}),e})()},3075:(st,Ie,k)=>{k.d(Ie,{Fj:()=>Ue,JJ:()=>Tt,JL:()=>ln,UX:()=>rn,_Y:()=>Wr,kI:()=>ut,qu:()=>Cn,sg:()=>Cr,u:()=>yi});var f=k(5e3),M=k(9808),z=k(8996),le=k(4128),ce=k(4004);let pe=(()=>{class R{constructor(b,j){this._renderer=b,this._elementRef=j,this.onChange=Ve=>{},this.onTouched=()=>{}}setProperty(b,j){this._renderer.setProperty(this._elementRef.nativeElement,b,j)}registerOnTouched(b){this.onTouched=b}registerOnChange(b){this.onChange=b}setDisabledState(b){this.setProperty("disabled",b)}}return R.\u0275fac=function(b){return new(b||R)(f.Y36(f.Qsj),f.Y36(f.SBq))},R.\u0275dir=f.lG2({type:R}),R})(),be=(()=>{class R extends pe{}return R.\u0275fac=function(){let T;return function(j){return(T||(T=f.n5z(R)))(j||R)}}(),R.\u0275dir=f.lG2({type:R,features:[f.qOj]}),R})();const he=new f.OlP("NgValueAccessor"),X={provide:he,useExisting:(0,f.Gpc)(()=>Ue),multi:!0},Je=new f.OlP("CompositionEventMode");let Ue=(()=>{class R extends pe{constructor(b,j,Ve){super(b,j),this._compositionMode=Ve,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _e(){const R=(0,M.q)()?(0,M.q)().getUserAgent():"";return/android (\d+)/.test(R.toLowerCase())}())}writeValue(b){this.setProperty("value",null==b?"":b)}_handleInput(b){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(b)}_compositionStart(){this._composing=!0}_compositionEnd(b){this._composing=!1,this._compositionMode&&this.onChange(b)}}return R.\u0275fac=function(b){return new(b||R)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Je,8))},R.\u0275dir=f.lG2({type:R,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(b,j){1&b&&f.NdJ("input",function(vt){return j._handleInput(vt.target.value)})("blur",function(){return j.onTouched()})("compositionstart",function(){return j._compositionStart()})("compositionend",function(vt){return j._compositionEnd(vt.target.value)})},features:[f._Bn([X]),f.qOj]}),R})();function je(R){return null==R||0===R.length}function et(R){return null!=R&&"number"==typeof R.length}const Ae=new f.OlP("NgValidators"),Ne=new f.OlP("NgAsyncValidators"),tt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ut{static min(T){return function He(R){return T=>{if(je(T.value)||je(R))return null;const b=parseFloat(T.value);return!isNaN(b)&&b<R?{min:{min:R,actual:T.value}}:null}}(T)}static max(T){return function De(R){return T=>{if(je(T.value)||je(R))return null;const b=parseFloat(T.value);return!isNaN(b)&&b>R?{max:{max:R,actual:T.value}}:null}}(T)}static required(T){return function Fe(R){return je(R.value)?{required:!0}:null}(T)}static requiredTrue(T){return function nt(R){return!0===R.value?null:{required:!0}}(T)}static email(T){return function rt(R){return je(R.value)||tt.test(R.value)?null:{email:!0}}(T)}static minLength(T){return function ne(R){return T=>je(T.value)||!et(T.value)?null:T.value.length<R?{minlength:{requiredLength:R,actualLength:T.value.length}}:null}(T)}static maxLength(T){return function Le(R){return T=>et(T.value)&&T.value.length>R?{maxlength:{requiredLength:R,actualLength:T.value.length}}:null}(T)}static pattern(T){return function de(R){if(!R)return ye;let T,b;return"string"==typeof R?(b="","^"!==R.charAt(0)&&(b+="^"),b+=R,"$"!==R.charAt(R.length-1)&&(b+="$"),T=new RegExp(b)):(b=R.toString(),T=R),j=>{if(je(j.value))return null;const Ve=j.value;return T.test(Ve)?null:{pattern:{requiredPattern:b,actualValue:Ve}}}}(T)}static nullValidator(T){return null}static compose(T){return lt(T)}static composeAsync(T){return Bt(T)}}function ye(R){return null}function Ce(R){return null!=R}function Re(R){const T=(0,f.QGY)(R)?(0,z.D)(R):R;return(0,f.CqO)(T),T}function Me(R){let T={};return R.forEach(b=>{T=null!=b?Object.assign(Object.assign({},T),b):T}),0===Object.keys(T).length?null:T}function Xe(R,T){return T.map(b=>b(R))}function Dt(R){return R.map(T=>function ot(R){return!R.validate}(T)?T:b=>T.validate(b))}function lt(R){if(!R)return null;const T=R.filter(Ce);return 0==T.length?null:function(b){return Me(Xe(b,T))}}function Ye(R){return null!=R?lt(Dt(R)):null}function Bt(R){if(!R)return null;const T=R.filter(Ce);return 0==T.length?null:function(b){const j=Xe(b,T).map(Re);return(0,le.D)(j).pipe((0,ce.U)(Me))}}function zt(R){return null!=R?Bt(Dt(R)):null}function Rt(R,T){return null===R?[T]:Array.isArray(R)?[...R,T]:[R,T]}function Ct(R){return R._rawValidators}function jt(R){return R._rawAsyncValidators}function kt(R){return R?Array.isArray(R)?R:[R]:[]}function Ut(R,T){return Array.isArray(R)?R.includes(T):R===T}function Pn(R,T){const b=kt(T);return kt(R).forEach(Ve=>{Ut(b,Ve)||b.push(Ve)}),b}function On(R,T){return kt(T).filter(b=>!Ut(R,b))}class $n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(T){this._rawValidators=T||[],this._composedValidatorFn=Ye(this._rawValidators)}_setAsyncValidators(T){this._rawAsyncValidators=T||[],this._composedAsyncValidatorFn=zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(T){this._onDestroyCallbacks.push(T)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(T=>T()),this._onDestroyCallbacks=[]}reset(T){this.control&&this.control.reset(T)}hasError(T,b){return!!this.control&&this.control.hasError(T,b)}getError(T,b){return this.control?this.control.getError(T,b):null}}class In extends $n{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fn extends $n{get formDirective(){return null}get path(){return null}}class _r{constructor(T){this._cd=T}is(T){var b,j,Ve;return"submitted"===T?!!(null===(b=this._cd)||void 0===b?void 0:b.submitted):!!(null===(Ve=null===(j=this._cd)||void 0===j?void 0:j.control)||void 0===Ve?void 0:Ve[T])}}let Tt=(()=>{class R extends _r{constructor(b){super(b)}}return R.\u0275fac=function(b){return new(b||R)(f.Y36(In,2))},R.\u0275dir=f.lG2({type:R,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(b,j){2&b&&f.ekj("ng-untouched",j.is("untouched"))("ng-touched",j.is("touched"))("ng-pristine",j.is("pristine"))("ng-dirty",j.is("dirty"))("ng-valid",j.is("valid"))("ng-invalid",j.is("invalid"))("ng-pending",j.is("pending"))},features:[f.qOj]}),R})(),ln=(()=>{class R extends _r{constructor(b){super(b)}}return R.\u0275fac=function(b){return new(b||R)(f.Y36(fn,10))},R.\u0275dir=f.lG2({type:R,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(b,j){2&b&&f.ekj("ng-untouched",j.is("untouched"))("ng-touched",j.is("touched"))("ng-pristine",j.is("pristine"))("ng-dirty",j.is("dirty"))("ng-valid",j.is("valid"))("ng-invalid",j.is("invalid"))("ng-pending",j.is("pending"))("ng-submitted",j.is("submitted"))},features:[f.qOj]}),R})();function It(R,T){Q(R,T),T.valueAccessor.writeValue(R.value),function se(R,T){T.valueAccessor.registerOnChange(b=>{R._pendingValue=b,R._pendingChange=!0,R._pendingDirty=!0,"change"===R.updateOn&&at(R,T)})}(R,T),function Mt(R,T){const b=(j,Ve)=>{T.valueAccessor.writeValue(j),Ve&&T.viewToModelUpdate(j)};R.registerOnChange(b),T._registerOnDestroy(()=>{R._unregisterOnChange(b)})}(R,T),function Ze(R,T){T.valueAccessor.registerOnTouched(()=>{R._pendingTouched=!0,"blur"===R.updateOn&&R._pendingChange&&at(R,T),"submit"!==R.updateOn&&R.markAsTouched()})}(R,T),function ae(R,T){if(T.valueAccessor.setDisabledState){const b=j=>{T.valueAccessor.setDisabledState(j)};R.registerOnDisabledChange(b),T._registerOnDestroy(()=>{R._unregisterOnDisabledChange(b)})}}(R,T)}function $r(R,T,b=!0){const j=()=>{};T.valueAccessor&&(T.valueAccessor.registerOnChange(j),T.valueAccessor.registerOnTouched(j)),te(R,T),R&&(T._invokeOnDestroyCallbacks(),R._registerOnCollectionChange(()=>{}))}function re(R,T){R.forEach(b=>{b.registerOnValidatorChange&&b.registerOnValidatorChange(T)})}function Q(R,T){const b=Ct(R);null!==T.validator?R.setValidators(Rt(b,T.validator)):"function"==typeof b&&R.setValidators([b]);const j=jt(R);null!==T.asyncValidator?R.setAsyncValidators(Rt(j,T.asyncValidator)):"function"==typeof j&&R.setAsyncValidators([j]);const Ve=()=>R.updateValueAndValidity();re(T._rawValidators,Ve),re(T._rawAsyncValidators,Ve)}function te(R,T){let b=!1;if(null!==R){if(null!==T.validator){const Ve=Ct(R);if(Array.isArray(Ve)&&Ve.length>0){const vt=Ve.filter(Bn=>Bn!==T.validator);vt.length!==Ve.length&&(b=!0,R.setValidators(vt))}}if(null!==T.asyncValidator){const Ve=jt(R);if(Array.isArray(Ve)&&Ve.length>0){const vt=Ve.filter(Bn=>Bn!==T.asyncValidator);vt.length!==Ve.length&&(b=!0,R.setAsyncValidators(vt))}}}const j=()=>{};return re(T._rawValidators,j),re(T._rawAsyncValidators,j),b}function at(R,T){R._pendingDirty&&R.markAsDirty(),R.setValue(R._pendingValue,{emitModelToViewChange:!1}),T.viewToModelUpdate(R._pendingValue),R._pendingChange=!1}function or(R,T){const b=R.indexOf(T);b>-1&&R.splice(b,1)}const Si="VALID",Vr="INVALID",vn="PENDING",nr="DISABLED";function Mr(R){return(nn(R)?R.validators:R)||null}function rr(R){return Array.isArray(R)?Ye(R):R||null}function ft(R,T){return(nn(T)?T.asyncValidators:R)||null}function bt(R){return Array.isArray(R)?zt(R):R||null}function nn(R){return null!=R&&!Array.isArray(R)&&"object"==typeof R}const ir=R=>R instanceof Ft,Pr=R=>R instanceof Ii,Tn=R=>R instanceof mi;function si(R){return ir(R)?R.value:R.getRawValue()}function En(R,T){const b=Pr(R),j=R.controls;if(!(b?Object.keys(j):j).length)throw new f.vHH(1e3,"");if(!j[T])throw new f.vHH(1001,"")}function qr(R,T){Pr(R),R._forEachChild((j,Ve)=>{if(void 0===T[Ve])throw new f.vHH(1002,"")})}class zn{constructor(T,b){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=T,this._rawAsyncValidators=b,this._composedValidatorFn=rr(this._rawValidators),this._composedAsyncValidatorFn=bt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(T){this._rawValidators=this._composedValidatorFn=T}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(T){this._rawAsyncValidators=this._composedAsyncValidatorFn=T}get parent(){return this._parent}get valid(){return this.status===Si}get invalid(){return this.status===Vr}get pending(){return this.status==vn}get disabled(){return this.status===nr}get enabled(){return this.status!==nr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(T){this._rawValidators=T,this._composedValidatorFn=rr(T)}setAsyncValidators(T){this._rawAsyncValidators=T,this._composedAsyncValidatorFn=bt(T)}addValidators(T){this.setValidators(Pn(T,this._rawValidators))}addAsyncValidators(T){this.setAsyncValidators(Pn(T,this._rawAsyncValidators))}removeValidators(T){this.setValidators(On(T,this._rawValidators))}removeAsyncValidators(T){this.setAsyncValidators(On(T,this._rawAsyncValidators))}hasValidator(T){return Ut(this._rawValidators,T)}hasAsyncValidator(T){return Ut(this._rawAsyncValidators,T)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(T={}){this.touched=!0,this._parent&&!T.onlySelf&&this._parent.markAsTouched(T)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(T=>T.markAllAsTouched())}markAsUntouched(T={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(b=>{b.markAsUntouched({onlySelf:!0})}),this._parent&&!T.onlySelf&&this._parent._updateTouched(T)}markAsDirty(T={}){this.pristine=!1,this._parent&&!T.onlySelf&&this._parent.markAsDirty(T)}markAsPristine(T={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(b=>{b.markAsPristine({onlySelf:!0})}),this._parent&&!T.onlySelf&&this._parent._updatePristine(T)}markAsPending(T={}){this.status=vn,!1!==T.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!T.onlySelf&&this._parent.markAsPending(T)}disable(T={}){const b=this._parentMarkedDirty(T.onlySelf);this.status=nr,this.errors=null,this._forEachChild(j=>{j.disable(Object.assign(Object.assign({},T),{onlySelf:!0}))}),this._updateValue(),!1!==T.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},T),{skipPristineCheck:b})),this._onDisabledChange.forEach(j=>j(!0))}enable(T={}){const b=this._parentMarkedDirty(T.onlySelf);this.status=Si,this._forEachChild(j=>{j.enable(Object.assign(Object.assign({},T),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:T.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},T),{skipPristineCheck:b})),this._onDisabledChange.forEach(j=>j(!1))}_updateAncestors(T){this._parent&&!T.onlySelf&&(this._parent.updateValueAndValidity(T),T.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(T){this._parent=T}updateValueAndValidity(T={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Si||this.status===vn)&&this._runAsyncValidator(T.emitEvent)),!1!==T.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!T.onlySelf&&this._parent.updateValueAndValidity(T)}_updateTreeValidity(T={emitEvent:!0}){this._forEachChild(b=>b._updateTreeValidity(T)),this.updateValueAndValidity({onlySelf:!0,emitEvent:T.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nr:Si}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(T){if(this.asyncValidator){this.status=vn,this._hasOwnPendingAsyncValidator=!0;const b=Re(this.asyncValidator(this));this._asyncValidationSubscription=b.subscribe(j=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(j,{emitEvent:T})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(T,b={}){this.errors=T,this._updateControlsErrors(!1!==b.emitEvent)}get(T){return function Ln(R,T,b){if(null==T||(Array.isArray(T)||(T=T.split(b)),Array.isArray(T)&&0===T.length))return null;let j=R;return T.forEach(Ve=>{j=Pr(j)?j.controls.hasOwnProperty(Ve)?j.controls[Ve]:null:Tn(j)&&j.at(Ve)||null}),j}(this,T,".")}getError(T,b){const j=b?this.get(b):this;return j&&j.errors?j.errors[T]:null}hasError(T,b){return!!this.getError(T,b)}get root(){let T=this;for(;T._parent;)T=T._parent;return T}_updateControlsErrors(T){this.status=this._calculateStatus(),T&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(T)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?nr:this.errors?Vr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vn)?vn:this._anyControlsHaveStatus(Vr)?Vr:Si}_anyControlsHaveStatus(T){return this._anyControls(b=>b.status===T)}_anyControlsDirty(){return this._anyControls(T=>T.dirty)}_anyControlsTouched(){return this._anyControls(T=>T.touched)}_updatePristine(T={}){this.pristine=!this._anyControlsDirty(),this._parent&&!T.onlySelf&&this._parent._updatePristine(T)}_updateTouched(T={}){this.touched=this._anyControlsTouched(),this._parent&&!T.onlySelf&&this._parent._updateTouched(T)}_isBoxedValue(T){return"object"==typeof T&&null!==T&&2===Object.keys(T).length&&"value"in T&&"disabled"in T}_registerOnCollectionChange(T){this._onCollectionChange=T}_setUpdateStrategy(T){nn(T)&&null!=T.updateOn&&(this._updateOn=T.updateOn)}_parentMarkedDirty(T){return!T&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ft extends zn{constructor(T=null,b,j){super(Mr(b),ft(j,b)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(T),this._setUpdateStrategy(b),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nn(b)&&b.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(T)?T.value:T)}setValue(T,b={}){this.value=this._pendingValue=T,this._onChange.length&&!1!==b.emitModelToViewChange&&this._onChange.forEach(j=>j(this.value,!1!==b.emitViewToModelChange)),this.updateValueAndValidity(b)}patchValue(T,b={}){this.setValue(T,b)}reset(T=this.defaultValue,b={}){this._applyFormState(T),this.markAsPristine(b),this.markAsUntouched(b),this.setValue(this.value,b),this._pendingChange=!1}_updateValue(){}_anyControls(T){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(T){this._onChange.push(T)}_unregisterOnChange(T){or(this._onChange,T)}registerOnDisabledChange(T){this._onDisabledChange.push(T)}_unregisterOnDisabledChange(T){or(this._onDisabledChange,T)}_forEachChild(T){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(T){this._isBoxedValue(T)?(this.value=this._pendingValue=T.value,T.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=T}}class Ii extends zn{constructor(T,b,j){super(Mr(b),ft(j,b)),this.controls=T,this._initObservables(),this._setUpdateStrategy(b),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(T,b){return this.controls[T]?this.controls[T]:(this.controls[T]=b,b.setParent(this),b._registerOnCollectionChange(this._onCollectionChange),b)}addControl(T,b,j={}){this.registerControl(T,b),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}removeControl(T,b={}){this.controls[T]&&this.controls[T]._registerOnCollectionChange(()=>{}),delete this.controls[T],this.updateValueAndValidity({emitEvent:b.emitEvent}),this._onCollectionChange()}setControl(T,b,j={}){this.controls[T]&&this.controls[T]._registerOnCollectionChange(()=>{}),delete this.controls[T],b&&this.registerControl(T,b),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}contains(T){return this.controls.hasOwnProperty(T)&&this.controls[T].enabled}setValue(T,b={}){qr(this,T),Object.keys(T).forEach(j=>{En(this,j),this.controls[j].setValue(T[j],{onlySelf:!0,emitEvent:b.emitEvent})}),this.updateValueAndValidity(b)}patchValue(T,b={}){null!=T&&(Object.keys(T).forEach(j=>{this.controls[j]&&this.controls[j].patchValue(T[j],{onlySelf:!0,emitEvent:b.emitEvent})}),this.updateValueAndValidity(b))}reset(T={},b={}){this._forEachChild((j,Ve)=>{j.reset(T[Ve],{onlySelf:!0,emitEvent:b.emitEvent})}),this._updatePristine(b),this._updateTouched(b),this.updateValueAndValidity(b)}getRawValue(){return this._reduceChildren({},(T,b,j)=>(T[j]=si(b),T))}_syncPendingControls(){let T=this._reduceChildren(!1,(b,j)=>!!j._syncPendingControls()||b);return T&&this.updateValueAndValidity({onlySelf:!0}),T}_forEachChild(T){Object.keys(this.controls).forEach(b=>{const j=this.controls[b];j&&T(j,b)})}_setUpControls(){this._forEachChild(T=>{T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(T){for(const b of Object.keys(this.controls)){const j=this.controls[b];if(this.contains(b)&&T(j))return!0}return!1}_reduceValue(){return this._reduceChildren({},(T,b,j)=>((b.enabled||this.disabled)&&(T[j]=b.value),T))}_reduceChildren(T,b){let j=T;return this._forEachChild((Ve,vt)=>{j=b(j,Ve,vt)}),j}_allControlsDisabled(){for(const T of Object.keys(this.controls))if(this.controls[T].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class mi extends zn{constructor(T,b,j){super(Mr(b),ft(j,b)),this.controls=T,this._initObservables(),this._setUpdateStrategy(b),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(T){return this.controls[T]}push(T,b={}){this.controls.push(T),this._registerControl(T),this.updateValueAndValidity({emitEvent:b.emitEvent}),this._onCollectionChange()}insert(T,b,j={}){this.controls.splice(T,0,b),this._registerControl(b),this.updateValueAndValidity({emitEvent:j.emitEvent})}removeAt(T,b={}){this.controls[T]&&this.controls[T]._registerOnCollectionChange(()=>{}),this.controls.splice(T,1),this.updateValueAndValidity({emitEvent:b.emitEvent})}setControl(T,b,j={}){this.controls[T]&&this.controls[T]._registerOnCollectionChange(()=>{}),this.controls.splice(T,1),b&&(this.controls.splice(T,0,b),this._registerControl(b)),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(T,b={}){qr(this,T),T.forEach((j,Ve)=>{En(this,Ve),this.at(Ve).setValue(j,{onlySelf:!0,emitEvent:b.emitEvent})}),this.updateValueAndValidity(b)}patchValue(T,b={}){null!=T&&(T.forEach((j,Ve)=>{this.at(Ve)&&this.at(Ve).patchValue(j,{onlySelf:!0,emitEvent:b.emitEvent})}),this.updateValueAndValidity(b))}reset(T=[],b={}){this._forEachChild((j,Ve)=>{j.reset(T[Ve],{onlySelf:!0,emitEvent:b.emitEvent})}),this._updatePristine(b),this._updateTouched(b),this.updateValueAndValidity(b)}getRawValue(){return this.controls.map(T=>si(T))}clear(T={}){this.controls.length<1||(this._forEachChild(b=>b._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:T.emitEvent}))}_syncPendingControls(){let T=this.controls.reduce((b,j)=>!!j._syncPendingControls()||b,!1);return T&&this.updateValueAndValidity({onlySelf:!0}),T}_forEachChild(T){this.controls.forEach((b,j)=>{T(b,j)})}_updateValue(){this.value=this.controls.filter(T=>T.enabled||this.disabled).map(T=>T.value)}_anyControls(T){return this.controls.some(b=>b.enabled&&T(b))}_setUpControls(){this._forEachChild(T=>this._registerControl(T))}_allControlsDisabled(){for(const T of this.controls)if(T.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(T){T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange)}}let Wr=(()=>{class R{}return R.\u0275fac=function(b){return new(b||R)},R.\u0275dir=f.lG2({type:R,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),R})(),qn=(()=>{class R{}return R.\u0275fac=function(b){return new(b||R)},R.\u0275mod=f.oAB({type:R}),R.\u0275inj=f.cJS({}),R})();const $e=new f.OlP("NgModelWithFormControlWarning"),Nt={provide:fn,useExisting:(0,f.Gpc)(()=>Cr)};let Cr=(()=>{class R extends fn{constructor(b,j){super(),this.validators=b,this.asyncValidators=j,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(b),this._setAsyncValidators(j)}ngOnChanges(b){this._checkFormPresent(),b.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(te(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(b){const j=this.form.get(b.path);return It(j,b),j.updateValueAndValidity({emitEvent:!1}),this.directives.push(b),j}getControl(b){return this.form.get(b.path)}removeControl(b){$r(b.control||null,b,!1),or(this.directives,b)}addFormGroup(b){this._setUpFormContainer(b)}removeFormGroup(b){this._cleanUpFormContainer(b)}getFormGroup(b){return this.form.get(b.path)}addFormArray(b){this._setUpFormContainer(b)}removeFormArray(b){this._cleanUpFormContainer(b)}getFormArray(b){return this.form.get(b.path)}updateModel(b,j){this.form.get(b.path).setValue(j)}onSubmit(b){return this.submitted=!0,function xn(R,T){R._syncPendingControls(),T.forEach(b=>{const j=b.control;"submit"===j.updateOn&&j._pendingChange&&(b.viewToModelUpdate(j._pendingValue),j._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(b),!1}onReset(){this.resetForm()}resetForm(b){this.form.reset(b),this.submitted=!1}_updateDomValue(){this.directives.forEach(b=>{const j=b.control,Ve=this.form.get(b.path);j!==Ve&&($r(j||null,b),ir(Ve)&&(It(Ve,b),b.control=Ve))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(b){const j=this.form.get(b.path);(function yn(R,T){Q(R,T)})(j,b),j.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(b){if(this.form){const j=this.form.get(b.path);j&&function cn(R,T){return te(R,T)}(j,b)&&j.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Q(this.form,this),this._oldForm&&te(this._oldForm,this)}_checkFormPresent(){}}return R.\u0275fac=function(b){return new(b||R)(f.Y36(Ae,10),f.Y36(Ne,10))},R.\u0275dir=f.lG2({type:R,selectors:[["","formGroup",""]],hostBindings:function(b,j){1&b&&f.NdJ("submit",function(vt){return j.onSubmit(vt)})("reset",function(){return j.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Nt]),f.qOj,f.TTD]}),R})();const _i={provide:In,useExisting:(0,f.Gpc)(()=>yi)};let yi=(()=>{class R extends In{constructor(b,j,Ve,vt,Bn){super(),this._ngModelWarningConfig=Bn,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=b,this._setValidators(j),this._setAsyncValidators(Ve),this.valueAccessor=function Xn(R,T){if(!T)return null;let b,j,Ve;return Array.isArray(T),T.forEach(vt=>{vt.constructor===Ue?b=vt:function Zt(R){return Object.getPrototypeOf(R.constructor)===be}(vt)?j=vt:Ve=vt}),Ve||j||b||null}(0,vt)}set isDisabled(b){}ngOnChanges(b){this._added||this._setUpControl(),function Sr(R,T){if(!R.hasOwnProperty("model"))return!1;const b=R.model;return!!b.isFirstChange()||!Object.is(T,b.currentValue)}(b,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(b){this.viewModel=b,this.update.emit(b)}get path(){return function wn(R,T){return[...T.path,R]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return R._ngModelWarningSentOnce=!1,R.\u0275fac=function(b){return new(b||R)(f.Y36(fn,13),f.Y36(Ae,10),f.Y36(Ne,10),f.Y36(he,10),f.Y36($e,8))},R.\u0275dir=f.lG2({type:R,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([_i]),f.qOj,f.TTD]}),R})(),_n=(()=>{class R{}return R.\u0275fac=function(b){return new(b||R)},R.\u0275mod=f.oAB({type:R}),R.\u0275inj=f.cJS({imports:[[qn]]}),R})(),rn=(()=>{class R{static withConfig(b){return{ngModule:R,providers:[{provide:$e,useValue:b.warnOnNgModelWithFormControl}]}}}return R.\u0275fac=function(b){return new(b||R)},R.\u0275mod=f.oAB({type:R}),R.\u0275inj=f.cJS({imports:[_n]}),R})(),Cn=(()=>{class R{group(b,j=null){const Ve=this._reduceControls(b);let ti,vt=null,Bn=null;return null!=j&&(function Qn(R){return void 0!==R.asyncValidators||void 0!==R.validators||void 0!==R.updateOn}(j)?(vt=null!=j.validators?j.validators:null,Bn=null!=j.asyncValidators?j.asyncValidators:null,ti=null!=j.updateOn?j.updateOn:void 0):(vt=null!=j.validator?j.validator:null,Bn=null!=j.asyncValidator?j.asyncValidator:null)),new Ii(Ve,{asyncValidators:Bn,updateOn:ti,validators:vt})}control(b,j,Ve){return new Ft(b,j,Ve)}array(b,j,Ve){const vt=b.map(Bn=>this._createControl(Bn));return new mi(vt,j,Ve)}_reduceControls(b){const j={};return Object.keys(b).forEach(Ve=>{j[Ve]=this._createControl(b[Ve])}),j}_createControl(b){return ir(b)||Pr(b)||Tn(b)?b:Array.isArray(b)?this.control(b[0],b.length>1?b[1]:null,b.length>2?b[2]:null):this.control(b)}}return R.\u0275fac=function(b){return new(b||R)},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac,providedIn:rn}),R})()},7021:(st,Ie,k)=>{k.d(Ie,{gz:()=>Qr,F0:()=>bn,yS:()=>Oi,Bz:()=>Co,lC:()=>bs});var f=k(5e3),M=k(8306),z=k(4742),le=k(8996),ce=k(4671),pe=k(3268),be=k(3269),he=k(1810),Ee=k(5403),ee=k(9672);function Je(C,y,m){C?(0,ee.f)(m,C,y):y()}var Ue=k(576);function je(C,y){const m=(0,Ue.m)(C)?C:()=>C,A=x=>x.error(m());return new M.y(y?x=>y.schedule(A,0,x):A)}var et=k(8421);function Ae(C){return new M.y(y=>{(0,et.Xf)(C()).subscribe(y)})}var Ne=k(727),tt=k(4482);function ut(){return(0,tt.e)((C,y)=>{let m=null;C._refCount++;const A=(0,Ee.x)(y,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(m=null);const x=C._connection,H=m;m=null,x&&(!H||x===H)&&x.unsubscribe(),y.unsubscribe()});C.subscribe(A),A.closed||(m=C.connect())})}class He extends M.y{constructor(y,m){super(),this.source=y,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,tt.A)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,null==y||y.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new Ne.w0;const m=this.getSubject();y.add(this.source.subscribe((0,Ee.x)(m,void 0,()=>{this._teardown(),m.complete()},A=>{this._teardown(),m.error(A)},()=>this._teardown()))),y.closed&&(this._connection=null,y=Ne.w0.EMPTY)}return y}refCount(){return ut()(this)}}var De=k(9646),Fe=k(1135),nt=k(6805),rt=k(7272),ne=k(515),Le=k(7579);function ye(C){return(0,tt.e)((y,m)=>{let H,A=null,x=!1;A=y.subscribe((0,Ee.x)(m,void 0,void 0,q=>{H=(0,et.Xf)(C(q,ye(C)(y))),A?(A.unsubscribe(),A=null,H.subscribe(m)):x=!0})),x&&(A.unsubscribe(),A=null,H.subscribe(m))})}var Ce=k(9300);function Re(C){return C<=0?()=>ne.E:(0,tt.e)((y,m)=>{let A=[];y.subscribe((0,Ee.x)(m,x=>{A.push(x),C<A.length&&A.shift()},()=>{for(const x of A)m.next(x);m.complete()},void 0,()=>{A=null}))})}var Me=k(8068),Xe=k(6590),lt=k(4004),Ye=k(3900),Bt=k(5698),zt=k(5026),Rt=k(4351),Ct=k(590),jt=k(5577),kt=k(8505),Ut=k(8189),Pn=k(9808);class On{constructor(y,m){this.id=y,this.url=m}}class $n extends On{constructor(y,m,A="imperative",x=null){super(y,m),this.navigationTrigger=A,this.restoredState=x}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class In extends On{constructor(y,m,A){super(y,m),this.urlAfterRedirects=A}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fn extends On{constructor(y,m,A){super(y,m),this.reason=A}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _r extends On{constructor(y,m,A){super(y,m),this.error=A}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tr extends On{constructor(y,m,A,x){super(y,m),this.urlAfterRedirects=A,this.state=x}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nr extends On{constructor(y,m,A,x){super(y,m),this.urlAfterRedirects=A,this.state=x}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tt extends On{constructor(y,m,A,x,H){super(y,m),this.urlAfterRedirects=A,this.state=x,this.shouldActivate=H}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ln extends On{constructor(y,m,A,x){super(y,m),this.urlAfterRedirects=A,this.state=x}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sn extends On{constructor(y,m,A,x){super(y,m),this.urlAfterRedirects=A,this.state=x}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pn{constructor(y){this.route=y}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yr{constructor(y){this.route=y}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hr{constructor(y){this.snapshot=y}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zn{constructor(y){this.snapshot=y}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sr{constructor(y){this.snapshot=y}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fr{constructor(y){this.snapshot=y}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dr{constructor(y,m,A){this.routerEvent=y,this.position=m,this.anchor=A}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pt="primary";class At{constructor(y){this.params=y||{}}has(y){return Object.prototype.hasOwnProperty.call(this.params,y)}get(y){if(this.has(y)){const m=this.params[y];return Array.isArray(m)?m[0]:m}return null}getAll(y){if(this.has(y)){const m=this.params[y];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Ot(C){return new At(C)}const Wn="ngNavigationCancelingError";function Ar(C){const y=Error("NavigationCancelingError: "+C);return y[Wn]=!0,y}function Di(C,y,m){const A=m.path.split("/");if(A.length>C.length||"full"===m.pathMatch&&(y.hasChildren()||A.length<C.length))return null;const x={};for(let H=0;H<A.length;H++){const q=A[H],ie=C[H];if(q.startsWith(":"))x[q.substring(1)]=ie;else if(q!==ie.path)return null}return{consumed:C.slice(0,A.length),posParams:x}}function wn(C,y){const m=C?Object.keys(C):void 0,A=y?Object.keys(y):void 0;if(!m||!A||m.length!=A.length)return!1;let x;for(let H=0;H<m.length;H++)if(x=m[H],!It(C[x],y[x]))return!1;return!0}function It(C,y){if(Array.isArray(C)&&Array.isArray(y)){if(C.length!==y.length)return!1;const m=[...C].sort(),A=[...y].sort();return m.every((x,H)=>A[H]===x)}return C===y}function $r(C){return Array.prototype.concat.apply([],C)}function re(C){return C.length>0?C[C.length-1]:null}function Q(C,y){for(const m in C)C.hasOwnProperty(m)&&y(C[m],m)}function te(C){return(0,f.CqO)(C)?C:(0,f.QGY)(C)?(0,le.D)(Promise.resolve(C)):(0,De.of)(C)}const Ze={exact:function cn(C,y,m){if(!or(C.segments,y.segments)||!Gn(C.segments,y.segments,m)||C.numberOfChildren!==y.numberOfChildren)return!1;for(const A in y.children)if(!C.children[A]||!cn(C.children[A],y.children[A],m))return!1;return!0},subset:Wt},at={exact:function yn(C,y){return wn(C,y)},subset:function hr(C,y){return Object.keys(y).length<=Object.keys(C).length&&Object.keys(y).every(m=>It(C[m],y[m]))},ignored:()=>!0};function Mt(C,y,m){return Ze[m.paths](C.root,y.root,m.matrixParams)&&at[m.queryParams](C.queryParams,y.queryParams)&&!("exact"===m.fragment&&C.fragment!==y.fragment)}function Wt(C,y,m){return Lr(C,y,y.segments,m)}function Lr(C,y,m,A){if(C.segments.length>m.length){const x=C.segments.slice(0,m.length);return!(!or(x,m)||y.hasChildren()||!Gn(x,m,A))}if(C.segments.length===m.length){if(!or(C.segments,m)||!Gn(C.segments,m,A))return!1;for(const x in y.children)if(!C.children[x]||!Wt(C.children[x],y.children[x],A))return!1;return!0}{const x=m.slice(0,C.segments.length),H=m.slice(C.segments.length);return!!(or(C.segments,x)&&Gn(C.segments,x,A)&&C.children[pt])&&Lr(C.children[pt],y,H,A)}}function Gn(C,y,m){return y.every((A,x)=>at[m](C[x].parameters,A.parameters))}class Sr{constructor(y,m,A){this.root=y,this.queryParams=m,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ot(this.queryParams)),this._queryParamMap}toString(){return Vr.serialize(this)}}class Zt{constructor(y,m){this.segments=y,this.children=m,this.parent=null,Q(m,(A,x)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vn(this)}}class xn{constructor(y,m){this.path=y,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Ot(this.parameters)),this._parameterMap}toString(){return ir(this)}}function or(C,y){return C.length===y.length&&C.every((m,A)=>m.path===y[A].path)}class fr{}class Si{parse(y){const m=new mi(y);return new Sr(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(y){const m=`/${nr(y.root,!0)}`,A=function Tn(C){const y=Object.keys(C).map(m=>{const A=C[m];return Array.isArray(A)?A.map(x=>`${Mr(m)}=${Mr(x)}`).join("&"):`${Mr(m)}=${Mr(A)}`}).filter(m=>!!m);return y.length?`?${y.join("&")}`:""}(y.queryParams);return`${m}${A}${"string"==typeof y.fragment?`#${function rr(C){return encodeURI(C)}(y.fragment)}`:""}`}}const Vr=new Si;function vn(C){return C.segments.map(y=>ir(y)).join("/")}function nr(C,y){if(!C.hasChildren())return vn(C);if(y){const m=C.children[pt]?nr(C.children[pt],!1):"",A=[];return Q(C.children,(x,H)=>{H!==pt&&A.push(`${H}:${nr(x,!1)}`)}),A.length>0?`${m}(${A.join("//")})`:m}{const m=function ar(C,y){let m=[];return Q(C.children,(A,x)=>{x===pt&&(m=m.concat(y(A,x)))}),Q(C.children,(A,x)=>{x!==pt&&(m=m.concat(y(A,x)))}),m}(C,(A,x)=>x===pt?[nr(C.children[pt],!1)]:[`${x}:${nr(A,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[pt]?`${vn(C)}/${m[0]}`:`${vn(C)}/(${m.join("//")})`}}function Ln(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mr(C){return Ln(C).replace(/%3B/gi,";")}function ft(C){return Ln(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bt(C){return decodeURIComponent(C)}function nn(C){return bt(C.replace(/\+/g,"%20"))}function ir(C){return`${ft(C.path)}${function Pr(C){return Object.keys(C).map(y=>`;${ft(y)}=${ft(C[y])}`).join("")}(C.parameters)}`}const si=/^[^\/()?;=#]+/;function En(C){const y=C.match(si);return y?y[0]:""}const qr=/^[^=?&#]+/,Ft=/^[^&#]+/;class mi{constructor(y){this.url=y,this.remaining=y}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const y={};if(this.consumeOptional("?"))do{this.parseQueryParam(y)}while(this.consumeOptional("&"));return y}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const y=[];for(this.peekStartsWith("(")||y.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),y.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(y.length>0||Object.keys(m).length>0)&&(A[pt]=new Zt(y,m)),A}parseSegment(){const y=En(this.remaining);if(""===y&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(y),new xn(bt(y),this.parseMatrixParams())}parseMatrixParams(){const y={};for(;this.consumeOptional(";");)this.parseParam(y);return y}parseParam(y){const m=En(this.remaining);if(!m)return;this.capture(m);let A="";if(this.consumeOptional("=")){const x=En(this.remaining);x&&(A=x,this.capture(A))}y[bt(m)]=bt(A)}parseQueryParam(y){const m=function zn(C){const y=C.match(qr);return y?y[0]:""}(this.remaining);if(!m)return;this.capture(m);let A="";if(this.consumeOptional("=")){const q=function Ii(C){const y=C.match(Ft);return y?y[0]:""}(this.remaining);q&&(A=q,this.capture(A))}const x=nn(m),H=nn(A);if(y.hasOwnProperty(x)){let q=y[x];Array.isArray(q)||(q=[q],y[x]=q),q.push(H)}else y[x]=H}parseParens(y){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=En(this.remaining),x=this.remaining[A.length];if("/"!==x&&")"!==x&&";"!==x)throw new Error(`Cannot parse url '${this.url}'`);let H;A.indexOf(":")>-1?(H=A.substr(0,A.indexOf(":")),this.capture(H),this.capture(":")):y&&(H=pt);const q=this.parseChildren();m[H]=1===Object.keys(q).length?q[pt]:new Zt([],q),this.consumeOptional("//")}return m}peekStartsWith(y){return this.remaining.startsWith(y)}consumeOptional(y){return!!this.peekStartsWith(y)&&(this.remaining=this.remaining.substring(y.length),!0)}capture(y){if(!this.consumeOptional(y))throw new Error(`Expected "${y}".`)}}class Ni{constructor(y){this._root=y}get root(){return this._root.value}parent(y){const m=this.pathFromRoot(y);return m.length>1?m[m.length-2]:null}children(y){const m=Or(y,this._root);return m?m.children.map(A=>A.value):[]}firstChild(y){const m=Or(y,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(y){const m=Vn(y,this._root);return m.length<2?[]:m[m.length-2].children.map(x=>x.value).filter(x=>x!==y)}pathFromRoot(y){return Vn(y,this._root).map(m=>m.value)}}function Or(C,y){if(C===y.value)return y;for(const m of y.children){const A=Or(C,m);if(A)return A}return null}function Vn(C,y){if(C===y.value)return[y];for(const m of y.children){const A=Vn(C,m);if(A.length)return A.unshift(y),A}return[]}class Yn{constructor(y,m){this.value=y,this.children=m}toString(){return`TreeNode(${this.value})`}}function Ur(C){const y={};return C&&C.children.forEach(m=>y[m.value.outlet]=m),y}class pr extends Ni{constructor(y,m){super(y),this.snapshot=m,Wr(this,y)}toString(){return this.snapshot.toString()}}function mn(C,y){const m=function Os(C,y){const q=new wi([],{},{},"",{},pt,y,null,C.root,-1,{});return new ys("",new Yn(q,[]))}(C,y),A=new Fe.X([new xn("",{})]),x=new Fe.X({}),H=new Fe.X({}),q=new Fe.X({}),ie=new Fe.X(""),Be=new Qr(A,x,q,ie,H,pt,y,m.root);return Be.snapshot=m.root,new pr(new Yn(Be,[]),m)}class Qr{constructor(y,m,A,x,H,q,ie,Be){this.url=y,this.params=m,this.queryParams=A,this.fragment=x,this.data=H,this.outlet=q,this.component=ie,this._futureSnapshot=Be}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,lt.U)(y=>Ot(y)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,lt.U)(y=>Ot(y)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vr(C,y="emptyOnly"){const m=C.pathFromRoot;let A=0;if("always"!==y)for(A=m.length-1;A>=1;){const x=m[A],H=m[A-1];if(x.routeConfig&&""===x.routeConfig.path)A--;else{if(H.component)break;A--}}return function oi(C){return C.reduce((y,m)=>({params:Object.assign(Object.assign({},y.params),m.params),data:Object.assign(Object.assign({},y.data),m.data),resolve:Object.assign(Object.assign({},y.resolve),m._resolvedData)}),{params:{},data:{},resolve:{}})}(m.slice(A))}class wi{constructor(y,m,A,x,H,q,ie,Be,mt,qt,wt){this.url=y,this.params=m,this.queryParams=A,this.fragment=x,this.data=H,this.outlet=q,this.component=ie,this.routeConfig=Be,this._urlSegment=mt,this._lastPathIndex=qt,this._resolve=wt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ot(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ot(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ys extends Ni{constructor(y,m){super(m),this.url=y,Wr(this,m)}toString(){return Jr(this._root)}}function Wr(C,y){y.value._routerState=C,y.children.forEach(m=>Wr(C,m))}function Jr(C){const y=C.children.length>0?` { ${C.children.map(Jr).join(", ")} } `:"";return`${C.value}${y}`}function Fi(C){if(C.snapshot){const y=C.snapshot,m=C._futureSnapshot;C.snapshot=m,wn(y.queryParams,m.queryParams)||C.queryParams.next(m.queryParams),y.fragment!==m.fragment&&C.fragment.next(m.fragment),wn(y.params,m.params)||C.params.next(m.params),function yr(C,y){if(C.length!==y.length)return!1;for(let m=0;m<C.length;++m)if(!wn(C[m],y[m]))return!1;return!0}(y.url,m.url)||C.url.next(m.url),wn(y.data,m.data)||C.data.next(m.data)}else C.snapshot=C._futureSnapshot,C.data.next(C._futureSnapshot.data)}function Xs(C,y){const m=wn(C.params,y.params)&&function Xn(C,y){return or(C,y)&&C.every((m,A)=>wn(m.parameters,y[A].parameters))}(C.url,y.url);return m&&!(!C.parent!=!y.parent)&&(!C.parent||Xs(C.parent,y.parent))}function qn(C,y,m){if(m&&C.shouldReuseRoute(y.value,m.value.snapshot)){const A=m.value;A._futureSnapshot=y.value;const x=function Er(C,y,m){return y.children.map(A=>{for(const x of m.children)if(C.shouldReuseRoute(A.value,x.value.snapshot))return qn(C,A,x);return qn(C,A)})}(C,y,m);return new Yn(A,x)}{if(C.shouldAttach(y.value)){const H=C.retrieve(y.value);if(null!==H){const q=H.route;return q.value._futureSnapshot=y.value,q.children=y.children.map(ie=>qn(C,ie)),q}}const A=function me(C){return new Qr(new Fe.X(C.url),new Fe.X(C.params),new Fe.X(C.queryParams),new Fe.X(C.fragment),new Fe.X(C.data),C.outlet,C.component,C)}(y.value),x=y.children.map(H=>qn(C,H));return new Yn(A,x)}}function Te(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function $e(C){return"object"==typeof C&&null!=C&&C.outlets}function it(C,y,m,A,x){let H={};if(A&&Q(A,(ie,Be)=>{H[Be]=Array.isArray(ie)?ie.map(mt=>`${mt}`):`${ie}`}),C===y)return new Sr(m,H,x);const q=yt(C,y,m);return new Sr(q,H,x)}function yt(C,y,m){const A={};return Q(C.children,(x,H)=>{A[H]=x===y?m:yt(x,y,m)}),new Zt(C.segments,A)}class Nt{constructor(y,m,A){if(this.isAbsolute=y,this.numberOfDoubleDots=m,this.commands=A,y&&A.length>0&&Te(A[0]))throw new Error("Root segment cannot have matrix parameters");const x=A.find($e);if(x&&x!==re(A))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dn{constructor(y,m,A){this.segmentGroup=y,this.processChildren=m,this.index=A}}function ai(C,y,m){if(C||(C=new Zt([],{})),0===C.segments.length&&C.hasChildren())return _i(C,y,m);const A=function yi(C,y,m){let A=0,x=y;const H={match:!1,pathIndex:0,commandIndex:0};for(;x<C.segments.length;){if(A>=m.length)return H;const q=C.segments[x],ie=m[A];if($e(ie))break;const Be=`${ie}`,mt=A<m.length-1?m[A+1]:null;if(x>0&&void 0===Be)break;if(Be&&mt&&"object"==typeof mt&&void 0===mt.outlets){if(!er(Be,mt,q))return H;A+=2}else{if(!er(Be,{},q))return H;A++}x++}return{match:!0,pathIndex:x,commandIndex:A}}(C,y,m),x=m.slice(A.commandIndex);if(A.match&&A.pathIndex<C.segments.length){const H=new Zt(C.segments.slice(0,A.pathIndex),{});return H.children[pt]=new Zt(C.segments.slice(A.pathIndex),C.children),_i(H,0,x)}return A.match&&0===x.length?new Zt(C.segments,{}):A.match&&!C.hasChildren()?Nn(C,y,m):A.match?_i(C,0,x):Nn(C,y,m)}function _i(C,y,m){if(0===m.length)return new Zt(C.segments,{});{const A=function qi(C){return $e(C[0])?C[0].outlets:{[pt]:C}}(m),x={};return Q(A,(H,q)=>{"string"==typeof H&&(H=[H]),null!==H&&(x[q]=ai(C.children[q],y,H))}),Q(C.children,(H,q)=>{void 0===A[q]&&(x[q]=H)}),new Zt(C.segments,x)}}function Nn(C,y,m){const A=C.segments.slice(0,y);let x=0;for(;x<m.length;){const H=m[x];if($e(H)){const Be=vs(H.outlets);return new Zt(A,Be)}if(0===x&&Te(m[0])){A.push(new xn(C.segments[y].path,Es(m[0]))),x++;continue}const q=$e(H)?H.outlets[pt]:`${H}`,ie=x<m.length-1?m[x+1]:null;q&&ie&&Te(ie)?(A.push(new xn(q,Es(ie))),x+=2):(A.push(new xn(q,{})),x++)}return new Zt(A,{})}function vs(C){const y={};return Q(C,(m,A)=>{"string"==typeof m&&(m=[m]),null!==m&&(y[A]=Nn(new Zt([],{}),0,m))}),y}function Es(C){const y={};return Q(C,(m,A)=>y[A]=`${m}`),y}function er(C,y,m){return C==m.path&&wn(y,m.parameters)}class li{constructor(y,m,A,x){this.routeReuseStrategy=y,this.futureState=m,this.currState=A,this.forwardEvent=x}activate(y){const m=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,A,y),Fi(this.futureState.root),this.activateChildRoutes(m,A,y)}deactivateChildRoutes(y,m,A){const x=Ur(m);y.children.forEach(H=>{const q=H.value.outlet;this.deactivateRoutes(H,x[q],A),delete x[q]}),Q(x,(H,q)=>{this.deactivateRouteAndItsChildren(H,A)})}deactivateRoutes(y,m,A){const x=y.value,H=m?m.value:null;if(x===H)if(x.component){const q=A.getContext(x.outlet);q&&this.deactivateChildRoutes(y,m,q.children)}else this.deactivateChildRoutes(y,m,A);else H&&this.deactivateRouteAndItsChildren(m,A)}deactivateRouteAndItsChildren(y,m){y.value.component&&this.routeReuseStrategy.shouldDetach(y.value.snapshot)?this.detachAndStoreRouteSubtree(y,m):this.deactivateRouteAndOutlet(y,m)}detachAndStoreRouteSubtree(y,m){const A=m.getContext(y.value.outlet),x=A&&y.value.component?A.children:m,H=Ur(y);for(const q of Object.keys(H))this.deactivateRouteAndItsChildren(H[q],x);if(A&&A.outlet){const q=A.outlet.detach(),ie=A.children.onOutletDeactivated();this.routeReuseStrategy.store(y.value.snapshot,{componentRef:q,route:y,contexts:ie})}}deactivateRouteAndOutlet(y,m){const A=m.getContext(y.value.outlet),x=A&&y.value.component?A.children:m,H=Ur(y);for(const q of Object.keys(H))this.deactivateRouteAndItsChildren(H[q],x);A&&A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated(),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(y,m,A){const x=Ur(m);y.children.forEach(H=>{this.activateRoutes(H,x[H.value.outlet],A),this.forwardEvent(new Fr(H.value.snapshot))}),y.children.length&&this.forwardEvent(new Zn(y.value.snapshot))}activateRoutes(y,m,A){const x=y.value,H=m?m.value:null;if(Fi(x),x===H)if(x.component){const q=A.getOrCreateContext(x.outlet);this.activateChildRoutes(y,m,q.children)}else this.activateChildRoutes(y,m,A);else if(x.component){const q=A.getOrCreateContext(x.outlet);if(this.routeReuseStrategy.shouldAttach(x.snapshot)){const ie=this.routeReuseStrategy.retrieve(x.snapshot);this.routeReuseStrategy.store(x.snapshot,null),q.children.onOutletReAttached(ie.contexts),q.attachRef=ie.componentRef,q.route=ie.route.value,q.outlet&&q.outlet.attach(ie.componentRef,ie.route.value),Fi(ie.route.value),this.activateChildRoutes(y,null,q.children)}else{const ie=function Vi(C){for(let y=C.parent;y;y=y.parent){const m=y.routeConfig;if(m&&m._loadedConfig)return m._loadedConfig;if(m&&m.component)return null}return null}(x.snapshot),Be=ie?ie.module.componentFactoryResolver:null;q.attachRef=null,q.route=x,q.resolver=Be,q.outlet&&q.outlet.activateWith(x,Be),this.activateChildRoutes(y,null,q.children)}}else this.activateChildRoutes(y,null,A)}}class Cs{constructor(y,m){this.routes=y,this.module=m}}function Ui(C){return"function"==typeof C}function ui(C){return C instanceof Sr}const Bi=Symbol("INITIAL_VALUE");function Rr(){return(0,Ye.w)(C=>function X(...C){const y=(0,be.yG)(C),m=(0,be.jO)(C),{args:A,keys:x}=(0,z.D)(C);if(0===A.length)return(0,le.D)([],y);const H=new M.y(function _e(C,y,m=ce.y){return A=>{Je(y,()=>{const{length:x}=C,H=new Array(x);let q=x,ie=x;for(let Be=0;Be<x;Be++)Je(y,()=>{const mt=(0,le.D)(C[Be],y);let qt=!1;mt.subscribe((0,Ee.x)(A,wt=>{H[Be]=wt,qt||(qt=!0,ie--),ie||A.next(m(H.slice()))},()=>{--q||A.complete()}))},A)},A)}}(A,y,x?q=>(0,he.n)(x,q):ce.y));return m?H.pipe((0,pe.Z)(m)):H}(C.map(y=>y.pipe((0,Bt.q)(1),function de(...C){const y=(0,be.yG)(C);return(0,tt.e)((m,A)=>{(y?(0,rt.z)(C,m,y):(0,rt.z)(C,m)).subscribe(A)})}(Bi)))).pipe((0,zt.R)((y,m)=>{let A=!1;return m.reduce((x,H,q)=>x!==Bi?x:(H===Bi&&(A=!0),A||!1!==H&&q!==m.length-1&&!ui(H)?x:H),y)},Bi),(0,Ce.h)(y=>y!==Bi),(0,lt.U)(y=>ui(y)?y:!0===y),(0,Bt.q)(1)))}class go{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qi,this.attachRef=null}}class Qi{constructor(){this.contexts=new Map}onChildOutletCreated(y,m){const A=this.getOrCreateContext(y);A.outlet=m,this.contexts.set(y,A)}onChildOutletDestroyed(y){const m=this.getContext(y);m&&(m.outlet=null,m.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let m=this.getContext(y);return m||(m=new go,this.contexts.set(y,m)),m}getContext(y){return this.contexts.get(y)||null}}let bs=(()=>{class C{constructor(m,A,x,H,q){this.parentContexts=m,this.location=A,this.resolver=x,this.changeDetector=q,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=H||pt,m.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const m=this.parentContexts.getContext(this.name);m&&m.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,A){this.activated=m,this._activatedRoute=A,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,A){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=m;const q=(A=A||this.resolver).resolveComponentFactory(m._futureSnapshot.routeConfig.component),ie=this.parentContexts.getOrCreateContext(this.name).children,Be=new Ji(m,ie,this.location.injector);this.activated=this.location.createComponent(q,this.location.length,Be),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return C.\u0275fac=function(m){return new(m||C)(f.Y36(Qi),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},C.\u0275dir=f.lG2({type:C,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),C})();class Ji{constructor(y,m,A){this.route=y,this.childContexts=m,this.parent=A}get(y,m){return y===Qr?this.route:y===Qi?this.childContexts:this.parent.get(y,m)}}let ji=(()=>{class C{}return C.\u0275fac=function(m){return new(m||C)},C.\u0275cmp=f.Xpm({type:C,selectors:[["ng-component"]],decls:1,vars:0,template:function(m,A){1&m&&f._UZ(0,"router-outlet")},directives:[bs],encapsulation:2}),C})();function Gr(C,y=""){for(let m=0;m<C.length;m++){const A=C[m];mo(A,Rn(y,A))}}function mo(C,y){C.children&&Gr(C.children,y)}function Rn(C,y){return y?C||y.path?C&&!y.path?`${C}/`:!C&&y.path?y.path:`${C}/${y.path}`:"":C}function P(C){const y=C.children&&C.children.map(P),m=y?Object.assign(Object.assign({},C),{children:y}):Object.assign({},C);return!m.component&&(y||m.loadChildren)&&m.outlet&&m.outlet!==pt&&(m.component=ji),m}function B(C){return C.outlet||pt}function S(C,y){const m=C.filter(A=>B(A)===y);return m.push(...C.filter(A=>B(A)!==y)),m}const W={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oe(C,y,m){var A;if(""===y.path)return"full"===y.pathMatch&&(C.hasChildren()||m.length>0)?Object.assign({},W):{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const H=(y.matcher||Di)(m,C,y);if(!H)return Object.assign({},W);const q={};Q(H.posParams,(Be,mt)=>{q[mt]=Be.path});const ie=H.consumed.length>0?Object.assign(Object.assign({},q),H.consumed[H.consumed.length-1].parameters):q;return{matched:!0,consumedSegments:H.consumed,remainingSegments:m.slice(H.consumed.length),parameters:ie,positionalParamSegments:null!==(A=H.posParams)&&void 0!==A?A:{}}}function xe(C,y,m,A,x="corrected"){if(m.length>0&&function Gt(C,y,m){return m.some(A=>Yt(C,y,A)&&B(A)!==pt)}(C,m,A)){const q=new Zt(y,function Pt(C,y,m,A){const x={};x[pt]=A,A._sourceSegment=C,A._segmentIndexShift=y.length;for(const H of m)if(""===H.path&&B(H)!==pt){const q=new Zt([],{});q._sourceSegment=C,q._segmentIndexShift=y.length,x[B(H)]=q}return x}(C,y,A,new Zt(m,C.children)));return q._sourceSegment=C,q._segmentIndexShift=y.length,{segmentGroup:q,slicedSegments:[]}}if(0===m.length&&function _n(C,y,m){return m.some(A=>Yt(C,y,A))}(C,m,A)){const q=new Zt(C.segments,function ze(C,y,m,A,x,H){const q={};for(const ie of A)if(Yt(C,m,ie)&&!x[B(ie)]){const Be=new Zt([],{});Be._sourceSegment=C,Be._segmentIndexShift="legacy"===H?C.segments.length:y.length,q[B(ie)]=Be}return Object.assign(Object.assign({},x),q)}(C,y,m,A,C.children,x));return q._sourceSegment=C,q._segmentIndexShift=y.length,{segmentGroup:q,slicedSegments:m}}const H=new Zt(C.segments,C.children);return H._sourceSegment=C,H._segmentIndexShift=y.length,{segmentGroup:H,slicedSegments:m}}function Yt(C,y,m){return(!(C.hasChildren()||y.length>0)||"full"!==m.pathMatch)&&""===m.path}function rn(C,y,m,A){return!!(B(C)===A||A!==pt&&Yt(y,m,C))&&("**"===C.path||oe(y,C,m).matched)}function Qn(C,y,m){return 0===y.length&&!C.children[m]}class Cn{constructor(y){this.segmentGroup=y||null}}class Un{constructor(y){this.urlTree=y}}function R(C){return je(new Cn(C))}function T(C){return je(new Un(C))}class vt{constructor(y,m,A,x,H){this.configLoader=m,this.urlSerializer=A,this.urlTree=x,this.config=H,this.allowRedirects=!0,this.ngModule=y.get(f.h0i)}apply(){const y=xe(this.urlTree.root,[],[],this.config).segmentGroup,m=new Zt(y.segments,y.children);return this.expandSegmentGroup(this.ngModule,this.config,m,pt).pipe((0,lt.U)(H=>this.createUrlTree(ti(H),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ye(H=>{if(H instanceof Un)return this.allowRedirects=!1,this.match(H.urlTree);throw H instanceof Cn?this.noMatchError(H):H}))}match(y){return this.expandSegmentGroup(this.ngModule,this.config,y.root,pt).pipe((0,lt.U)(x=>this.createUrlTree(ti(x),y.queryParams,y.fragment))).pipe(ye(x=>{throw x instanceof Cn?this.noMatchError(x):x}))}noMatchError(y){return new Error(`Cannot match any routes. URL Segment: '${y.segmentGroup}'`)}createUrlTree(y,m,A){const x=y.segments.length>0?new Zt([],{[pt]:y}):y;return new Sr(x,m,A)}expandSegmentGroup(y,m,A,x){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(y,m,A).pipe((0,lt.U)(H=>new Zt([],H))):this.expandSegment(y,A,m,A.segments,x,!0)}expandChildren(y,m,A){const x=[];for(const H of Object.keys(A.children))"primary"===H?x.unshift(H):x.push(H);return(0,le.D)(x).pipe((0,Rt.b)(H=>{const q=A.children[H],ie=S(m,H);return this.expandSegmentGroup(y,ie,q,H).pipe((0,lt.U)(Be=>({segment:Be,outlet:H})))}),(0,zt.R)((H,q)=>(H[q.outlet]=q.segment,H),{}),function ot(C,y){const m=arguments.length>=2;return A=>A.pipe(C?(0,Ce.h)((x,H)=>C(x,H,A)):ce.y,Re(1),m?(0,Xe.d)(y):(0,Me.T)(()=>new nt.K))}())}expandSegment(y,m,A,x,H,q){return(0,le.D)(A).pipe((0,Rt.b)(ie=>this.expandSegmentAgainstRoute(y,m,A,ie,x,H,q).pipe(ye(mt=>{if(mt instanceof Cn)return(0,De.of)(null);throw mt}))),(0,Ct.P)(ie=>!!ie),ye((ie,Be)=>{if(ie instanceof nt.K||"EmptyError"===ie.name)return Qn(m,x,H)?(0,De.of)(new Zt([],{})):R(m);throw ie}))}expandSegmentAgainstRoute(y,m,A,x,H,q,ie){return rn(x,m,H,q)?void 0===x.redirectTo?this.matchSegmentAgainstRoute(y,m,x,H,q):ie&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(y,m,A,x,H,q):R(m):R(m)}expandSegmentAgainstRouteUsingRedirect(y,m,A,x,H,q){return"**"===x.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(y,A,x,q):this.expandRegularSegmentAgainstRouteUsingRedirect(y,m,A,x,H,q)}expandWildCardWithParamsAgainstRouteUsingRedirect(y,m,A,x){const H=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?T(H):this.lineralizeSegments(A,H).pipe((0,jt.z)(q=>{const ie=new Zt(q,{});return this.expandSegment(y,ie,m,q,x,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(y,m,A,x,H,q){const{matched:ie,consumedSegments:Be,remainingSegments:mt,positionalParamSegments:qt}=oe(m,x,H);if(!ie)return R(m);const wt=this.applyRedirectCommands(Be,x.redirectTo,qt);return x.redirectTo.startsWith("/")?T(wt):this.lineralizeSegments(x,wt).pipe((0,jt.z)(Dn=>this.expandSegment(y,m,A,Dn.concat(mt),q,!1)))}matchSegmentAgainstRoute(y,m,A,x,H){if("**"===A.path)return A.loadChildren?(A._loadedConfig?(0,De.of)(A._loadedConfig):this.configLoader.load(y.injector,A)).pipe((0,lt.U)(wt=>(A._loadedConfig=wt,new Zt(x,{})))):(0,De.of)(new Zt(x,{}));const{matched:q,consumedSegments:ie,remainingSegments:Be}=oe(m,A,x);return q?this.getChildConfig(y,A,x).pipe((0,jt.z)(qt=>{const wt=qt.module,Dn=qt.routes,{segmentGroup:An,slicedSegments:cr}=xe(m,ie,Be,Dn),rs=new Zt(An.segments,An.children);if(0===cr.length&&rs.hasChildren())return this.expandChildren(wt,Dn,rs).pipe((0,lt.U)(so=>new Zt(ie,so)));if(0===Dn.length&&0===cr.length)return(0,De.of)(new Zt(ie,{}));const io=B(A)===H;return this.expandSegment(wt,rs,Dn,cr,io?pt:H,!0).pipe((0,lt.U)(zi=>new Zt(ie.concat(zi.segments),zi.children)))})):R(m)}getChildConfig(y,m,A){return m.children?(0,De.of)(new Cs(m.children,y)):m.loadChildren?void 0!==m._loadedConfig?(0,De.of)(m._loadedConfig):this.runCanLoadGuards(y.injector,m,A).pipe((0,jt.z)(x=>x?this.configLoader.load(y.injector,m).pipe((0,lt.U)(H=>(m._loadedConfig=H,H))):function j(C){return je(Ar(`Cannot load children because the guard of the route "path: '${C.path}'" returned false`))}(m))):(0,De.of)(new Cs([],y))}runCanLoadGuards(y,m,A){const x=m.canLoad;if(!x||0===x.length)return(0,De.of)(!0);const H=x.map(q=>{const ie=y.get(q);let Be;if(function cs(C){return C&&Ui(C.canLoad)}(ie))Be=ie.canLoad(m,A);else{if(!Ui(ie))throw new Error("Invalid CanLoad guard");Be=ie(m,A)}return te(Be)});return(0,De.of)(H).pipe(Rr(),(0,kt.b)(q=>{if(!ui(q))return;const ie=Ar(`Redirecting to "${this.urlSerializer.serialize(q)}"`);throw ie.url=q,ie}),(0,lt.U)(q=>!0===q))}lineralizeSegments(y,m){let A=[],x=m.root;for(;;){if(A=A.concat(x.segments),0===x.numberOfChildren)return(0,De.of)(A);if(x.numberOfChildren>1||!x.children[pt])return je(new Error(`Only absolute redirects can have named outlets. redirectTo: '${y.redirectTo}'`));x=x.children[pt]}}applyRedirectCommands(y,m,A){return this.applyRedirectCreatreUrlTree(m,this.urlSerializer.parse(m),y,A)}applyRedirectCreatreUrlTree(y,m,A,x){const H=this.createSegmentGroup(y,m.root,A,x);return new Sr(H,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(y,m){const A={};return Q(y,(x,H)=>{if("string"==typeof x&&x.startsWith(":")){const ie=x.substring(1);A[H]=m[ie]}else A[H]=x}),A}createSegmentGroup(y,m,A,x){const H=this.createSegments(y,m.segments,A,x);let q={};return Q(m.children,(ie,Be)=>{q[Be]=this.createSegmentGroup(y,ie,A,x)}),new Zt(H,q)}createSegments(y,m,A,x){return m.map(H=>H.path.startsWith(":")?this.findPosParam(y,H,x):this.findOrReturn(H,A))}findPosParam(y,m,A){const x=A[m.path.substring(1)];if(!x)throw new Error(`Cannot redirect to '${y}'. Cannot find '${m.path}'.`);return x}findOrReturn(y,m){let A=0;for(const x of m){if(x.path===y.path)return m.splice(A),x;A++}return y}}function ti(C){const y={};for(const A of Object.keys(C.children)){const H=ti(C.children[A]);(H.segments.length>0||H.hasChildren())&&(y[A]=H)}return function Bn(C){if(1===C.numberOfChildren&&C.children[pt]){const y=C.children[pt];return new Zt(C.segments.concat(y.segments),y.children)}return C}(new Zt(C.segments,y))}class xs{constructor(y){this.path=y,this.route=this.path[this.path.length-1]}}class _o{constructor(y,m){this.component=y,this.route=m}}function qe(C,y,m){const A=C._root;return ks(A,y?y._root:null,m,[A.value])}function to(C,y,m){const A=function br(C){if(!C)return null;for(let y=C.parent;y;y=y.parent){const m=y.routeConfig;if(m&&m._loadedConfig)return m._loadedConfig}return null}(y);return(A?A.module.injector:m).get(C)}function ks(C,y,m,A,x={canDeactivateChecks:[],canActivateChecks:[]}){const H=Ur(y);return C.children.forEach(q=>{(function yo(C,y,m,A,x={canDeactivateChecks:[],canActivateChecks:[]}){const H=C.value,q=y?y.value:null,ie=m?m.getContext(C.value.outlet):null;if(q&&H.routeConfig===q.routeConfig){const Be=function ci(C,y,m){if("function"==typeof m)return m(C,y);switch(m){case"pathParamsChange":return!or(C.url,y.url);case"pathParamsOrQueryParamsChange":return!or(C.url,y.url)||!wn(C.queryParams,y.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xs(C,y)||!wn(C.queryParams,y.queryParams);default:return!Xs(C,y)}}(q,H,H.routeConfig.runGuardsAndResolvers);Be?x.canActivateChecks.push(new xs(A)):(H.data=q.data,H._resolvedData=q._resolvedData),ks(C,y,H.component?ie?ie.children:null:m,A,x),Be&&ie&&ie.outlet&&ie.outlet.isActivated&&x.canDeactivateChecks.push(new _o(ie.outlet.component,q))}else q&&no(y,ie,x),x.canActivateChecks.push(new xs(A)),ks(C,null,H.component?ie?ie.children:null:m,A,x)})(q,H[q.value.outlet],m,A.concat([q.value]),x),delete H[q.value.outlet]}),Q(H,(q,ie)=>no(q,m.getContext(ie),x)),x}function no(C,y,m){const A=Ur(C),x=C.value;Q(A,(H,q)=>{no(H,x.component?y?y.children.getContext(q):null:y,m)}),m.canDeactivateChecks.push(new _o(x.component&&y&&y.outlet&&y.outlet.isActivated?y.outlet.component:null,x))}class Fs{}function Mi(C){return new M.y(y=>y.error(C))}class Zo{constructor(y,m,A,x,H,q){this.rootComponentType=y,this.config=m,this.urlTree=A,this.url=x,this.paramsInheritanceStrategy=H,this.relativeLinkResolution=q}recognize(){const y=xe(this.urlTree.root,[],[],this.config.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution).segmentGroup,m=this.processSegmentGroup(this.config,y,pt);if(null===m)return null;const A=new wi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pt,this.rootComponentType,null,this.urlTree.root,-1,{}),x=new Yn(A,m),H=new ys(this.url,x);return this.inheritParamsAndData(H._root),H}inheritParamsAndData(y){const m=y.value,A=vr(m,this.paramsInheritanceStrategy);m.params=Object.freeze(A.params),m.data=Object.freeze(A.data),y.children.forEach(x=>this.inheritParamsAndData(x))}processSegmentGroup(y,m,A){return 0===m.segments.length&&m.hasChildren()?this.processChildren(y,m):this.processSegment(y,m,m.segments,A)}processChildren(y,m){const A=[];for(const H of Object.keys(m.children)){const q=m.children[H],ie=S(y,H),Be=this.processSegmentGroup(ie,q,H);if(null===Be)return null;A.push(...Be)}const x=Pi(A);return function Yo(C){C.sort((y,m)=>y.value.outlet===pt?-1:m.value.outlet===pt?1:y.value.outlet.localeCompare(m.value.outlet))}(x),x}processSegment(y,m,A,x){for(const H of y){const q=this.processSegmentAgainstRoute(H,m,A,x);if(null!==q)return q}return Qn(m,A,x)?[]:null}processSegmentAgainstRoute(y,m,A,x){if(y.redirectTo||!rn(y,m,A,x))return null;let H,q=[],ie=[];if("**"===y.path){const An=A.length>0?re(A).parameters:{};H=new wi(A,An,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vs(y),B(y),y.component,y,qo(m),Ls(m)+A.length,K(y))}else{const An=oe(m,y,A);if(!An.matched)return null;q=An.consumedSegments,ie=An.remainingSegments,H=new wi(q,An.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vs(y),B(y),y.component,y,qo(m),Ls(m)+q.length,K(y))}const Be=function da(C){return C.children?C.children:C.loadChildren?C._loadedConfig.routes:[]}(y),{segmentGroup:mt,slicedSegments:qt}=xe(m,q,ie,Be.filter(An=>void 0===An.redirectTo),this.relativeLinkResolution);if(0===qt.length&&mt.hasChildren()){const An=this.processChildren(Be,mt);return null===An?null:[new Yn(H,An)]}if(0===Be.length&&0===qt.length)return[new Yn(H,[])];const wt=B(y)===x,Dn=this.processSegment(Be,mt,qt,wt?pt:x);return null===Dn?null:[new Yn(H,Dn)]}}function ko(C){const y=C.value.routeConfig;return y&&""===y.path&&void 0===y.redirectTo}function Pi(C){const y=[],m=new Set;for(const A of C){if(!ko(A)){y.push(A);continue}const x=y.find(H=>A.value.routeConfig===H.value.routeConfig);void 0!==x?(x.children.push(...A.children),m.add(x)):y.push(A)}for(const A of m){const x=Pi(A.children);y.push(new Yn(A.value,x))}return y.filter(A=>!m.has(A))}function qo(C){let y=C;for(;y._sourceSegment;)y=y._sourceSegment;return y}function Ls(C){let y=C,m=y._segmentIndexShift?y._segmentIndexShift:0;for(;y._sourceSegment;)y=y._sourceSegment,m+=y._segmentIndexShift?y._segmentIndexShift:0;return m-1}function Vs(C){return C.data||{}}function K(C){return C.resolve||{}}function Bs(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}function Fo(C){return(0,Ye.w)(y=>{const m=C(y);return m?(0,le.D)(m).pipe((0,lt.U)(()=>y)):(0,De.of)(y)})}class gr extends class Hi{shouldDetach(y){return!1}store(y,m){}shouldAttach(y){return!1}retrieve(y){return null}shouldReuseRoute(y,m){return y.routeConfig===m.routeConfig}}{}const Is=new f.OlP("ROUTES");class Cl{constructor(y,m,A,x){this.injector=y,this.compiler=m,this.onLoadStartListener=A,this.onLoadEndListener=x}load(y,m){if(m._loader$)return m._loader$;this.onLoadStartListener&&this.onLoadStartListener(m);const x=this.loadModuleFactory(m.loadChildren).pipe((0,lt.U)(H=>{this.onLoadEndListener&&this.onLoadEndListener(m);const q=H.create(y);return new Cs($r(q.injector.get(Is,void 0,f.XFs.Self|f.XFs.Optional)).map(P),q)}),ye(H=>{throw m._loader$=void 0,H}));return m._loader$=new He(x,()=>new Le.x).pipe(ut()),m._loader$}loadModuleFactory(y){return te(y()).pipe((0,jt.z)(m=>m instanceof f.YKP?(0,De.of)(m):(0,le.D)(this.compiler.compileModuleAsync(m))))}}class ro{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,m){return y}}function vo(C){throw C}function bl(C,y,m){return y.parse("/")}function js(C,y){return(0,De.of)(null)}const Kn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bn=(()=>{class C{constructor(m,A,x,H,q,ie,Be){this.rootComponentType=m,this.urlSerializer=A,this.rootContexts=x,this.location=H,this.config=Be,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Le.x,this.errorHandler=vo,this.malformedUriErrorHandler=bl,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:js,afterPreactivation:js},this.urlHandlingStrategy=new ro,this.routeReuseStrategy=new gr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=q.get(f.h0i),this.console=q.get(f.c2e);const wt=q.get(f.R0b);this.isNgZoneEnabled=wt instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(Be),this.currentUrlTree=function se(){return new Sr(new Zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Cl(q,ie,Dn=>this.triggerEvent(new pn(Dn)),Dn=>this.triggerEvent(new Yr(Dn))),this.routerState=mn(this.currentUrlTree,this.rootComponentType),this.transitions=new Fe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var m;return null===(m=this.location.getState())||void 0===m?void 0:m.\u0275routerPageId}setupNavigations(m){const A=this.events;return m.pipe((0,Ce.h)(x=>0!==x.id),(0,lt.U)(x=>Object.assign(Object.assign({},x),{extractedUrl:this.urlHandlingStrategy.extract(x.rawUrl)})),(0,Ye.w)(x=>{let H=!1,q=!1;return(0,De.of)(x).pipe((0,kt.b)(ie=>{this.currentNavigation={id:ie.id,initialUrl:ie.currentRawUrl,extractedUrl:ie.extractedUrl,trigger:ie.source,extras:ie.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ye.w)(ie=>{const Be=this.browserUrlTree.toString(),mt=!this.navigated||ie.extractedUrl.toString()!==Be||Be!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||mt)&&this.urlHandlingStrategy.shouldProcessUrl(ie.rawUrl))return ni(ie.source)&&(this.browserUrlTree=ie.extractedUrl),(0,De.of)(ie).pipe((0,Ye.w)(wt=>{const Dn=this.transitions.getValue();return A.next(new $n(wt.id,this.serializeUrl(wt.extractedUrl),wt.source,wt.restoredState)),Dn!==this.transitions.getValue()?ne.E:Promise.resolve(wt)}),function Ds(C,y,m,A){return(0,Ye.w)(x=>function Ve(C,y,m,A,x){return new vt(C,y,m,A,x).apply()}(C,y,m,x.extractedUrl,A).pipe((0,lt.U)(H=>Object.assign(Object.assign({},x),{urlAfterRedirects:H}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,kt.b)(wt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:wt.urlAfterRedirects})}),function Qo(C,y,m,A,x){return(0,jt.z)(H=>function ca(C,y,m,A,x="emptyOnly",H="legacy"){try{const q=new Zo(C,y,m,A,x,H).recognize();return null===q?Mi(new Fs):(0,De.of)(q)}catch(q){return Mi(q)}}(C,y,H.urlAfterRedirects,m(H.urlAfterRedirects),A,x).pipe((0,lt.U)(q=>Object.assign(Object.assign({},H),{targetSnapshot:q}))))}(this.rootComponentType,this.config,wt=>this.serializeUrl(wt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,kt.b)(wt=>{if("eager"===this.urlUpdateStrategy){if(!wt.extras.skipLocationChange){const An=this.urlHandlingStrategy.merge(wt.urlAfterRedirects,wt.rawUrl);this.setBrowserUrl(An,wt)}this.browserUrlTree=wt.urlAfterRedirects}const Dn=new tr(wt.id,this.serializeUrl(wt.extractedUrl),this.serializeUrl(wt.urlAfterRedirects),wt.targetSnapshot);A.next(Dn)}));if(mt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Dn,extractedUrl:An,source:cr,restoredState:rs,extras:io}=ie,Ws=new $n(Dn,this.serializeUrl(An),cr,rs);A.next(Ws);const zi=mn(An,this.rootComponentType).snapshot;return(0,De.of)(Object.assign(Object.assign({},ie),{targetSnapshot:zi,urlAfterRedirects:An,extras:Object.assign(Object.assign({},io),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ie.rawUrl,ie.resolve(null),ne.E}),Fo(ie=>{const{targetSnapshot:Be,id:mt,extractedUrl:qt,rawUrl:wt,extras:{skipLocationChange:Dn,replaceUrl:An}}=ie;return this.hooks.beforePreactivation(Be,{navigationId:mt,appliedUrlTree:qt,rawUrlTree:wt,skipLocationChange:!!Dn,replaceUrl:!!An})}),(0,kt.b)(ie=>{const Be=new Nr(ie.id,this.serializeUrl(ie.extractedUrl),this.serializeUrl(ie.urlAfterRedirects),ie.targetSnapshot);this.triggerEvent(Be)}),(0,lt.U)(ie=>Object.assign(Object.assign({},ie),{guards:qe(ie.targetSnapshot,ie.currentSnapshot,this.rootContexts)})),function ua(C,y){return(0,jt.z)(m=>{const{targetSnapshot:A,currentSnapshot:x,guards:{canActivateChecks:H,canDeactivateChecks:q}}=m;return 0===q.length&&0===H.length?(0,De.of)(Object.assign(Object.assign({},m),{guardsResult:!0})):function La(C,y,m,A){return(0,le.D)(C).pipe((0,jt.z)(x=>function xo(C,y,m,A,x){const H=y&&y.routeConfig?y.routeConfig.canDeactivate:null;if(!H||0===H.length)return(0,De.of)(!0);const q=H.map(ie=>{const Be=to(ie,y,x);let mt;if(function lr(C){return C&&Ui(C.canDeactivate)}(Be))mt=te(Be.canDeactivate(C,y,m,A));else{if(!Ui(Be))throw new Error("Invalid CanDeactivate guard");mt=te(Be(C,y,m,A))}return mt.pipe((0,Ct.P)())});return(0,De.of)(q).pipe(Rr())}(x.component,x.route,m,y,A)),(0,Ct.P)(x=>!0!==x,!0))}(q,A,x,C).pipe((0,jt.z)(ie=>ie&&function Rs(C){return"boolean"==typeof C}(ie)?function vl(C,y,m,A){return(0,le.D)(y).pipe((0,Rt.b)(x=>(0,rt.z)(function Ns(C,y){return null!==C&&y&&y(new Hr(C)),(0,De.of)(!0)}(x.route.parent,A),function eu(C,y){return null!==C&&y&&y(new sr(C)),(0,De.of)(!0)}(x.route,A),function xr(C,y,m){const A=y[y.length-1],H=y.slice(0,y.length-1).reverse().map(q=>function gn(C){const y=C.routeConfig?C.routeConfig.canActivateChild:null;return y&&0!==y.length?{node:C,guards:y}:null}(q)).filter(q=>null!==q).map(q=>Ae(()=>{const ie=q.guards.map(Be=>{const mt=to(Be,q.node,m);let qt;if(function po(C){return C&&Ui(C.canActivateChild)}(mt))qt=te(mt.canActivateChild(A,C));else{if(!Ui(mt))throw new Error("Invalid CanActivateChild guard");qt=te(mt(A,C))}return qt.pipe((0,Ct.P)())});return(0,De.of)(ie).pipe(Rr())}));return(0,De.of)(H).pipe(Rr())}(C,x.path,m),function Br(C,y,m){const A=y.routeConfig?y.routeConfig.canActivate:null;if(!A||0===A.length)return(0,De.of)(!0);const x=A.map(H=>Ae(()=>{const q=to(H,y,m);let ie;if(function ei(C){return C&&Ui(C.canActivate)}(q))ie=te(q.canActivate(y,C));else{if(!Ui(q))throw new Error("Invalid CanActivate guard");ie=te(q(y,C))}return ie.pipe((0,Ct.P)())}));return(0,De.of)(x).pipe(Rr())}(C,x.route,m))),(0,Ct.P)(x=>!0!==x,!0))}(A,H,C,y):(0,De.of)(ie)),(0,lt.U)(ie=>Object.assign(Object.assign({},m),{guardsResult:ie})))})}(this.ngModule.injector,ie=>this.triggerEvent(ie)),(0,kt.b)(ie=>{if(ui(ie.guardsResult)){const mt=Ar(`Redirecting to "${this.serializeUrl(ie.guardsResult)}"`);throw mt.url=ie.guardsResult,mt}const Be=new Tt(ie.id,this.serializeUrl(ie.extractedUrl),this.serializeUrl(ie.urlAfterRedirects),ie.targetSnapshot,!!ie.guardsResult);this.triggerEvent(Be)}),(0,Ce.h)(ie=>!!ie.guardsResult||(this.restoreHistory(ie),this.cancelNavigationTransition(ie,""),!1)),Fo(ie=>{if(ie.guards.canActivateChecks.length)return(0,De.of)(ie).pipe((0,kt.b)(Be=>{const mt=new ln(Be.id,this.serializeUrl(Be.extractedUrl),this.serializeUrl(Be.urlAfterRedirects),Be.targetSnapshot);this.triggerEvent(mt)}),(0,Ye.w)(Be=>{let mt=!1;return(0,De.of)(Be).pipe(function Us(C,y){return(0,jt.z)(m=>{const{targetSnapshot:A,guards:{canActivateChecks:x}}=m;if(!x.length)return(0,De.of)(m);let H=0;return(0,le.D)(x).pipe((0,Rt.b)(q=>function Jo(C,y,m,A){return function No(C,y,m,A){const x=Bs(C);if(0===x.length)return(0,De.of)({});const H={};return(0,le.D)(x).pipe((0,jt.z)(q=>function El(C,y,m,A){const x=to(C,y,A);return te(x.resolve?x.resolve(y,m):x(y,m))}(C[q],y,m,A).pipe((0,kt.b)(ie=>{H[q]=ie}))),Re(1),(0,jt.z)(()=>Bs(H).length===x.length?(0,De.of)(H):ne.E))}(C._resolve,C,y,A).pipe((0,lt.U)(H=>(C._resolvedData=H,C.data=Object.assign(Object.assign({},C.data),vr(C,m).resolve),null)))}(q.route,A,C,y)),(0,kt.b)(()=>H++),Re(1),(0,jt.z)(q=>H===x.length?(0,De.of)(m):ne.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,kt.b)({next:()=>mt=!0,complete:()=>{mt||(this.restoreHistory(Be),this.cancelNavigationTransition(Be,"At least one route resolver didn't emit any value."))}}))}),(0,kt.b)(Be=>{const mt=new sn(Be.id,this.serializeUrl(Be.extractedUrl),this.serializeUrl(Be.urlAfterRedirects),Be.targetSnapshot);this.triggerEvent(mt)}))}),Fo(ie=>{const{targetSnapshot:Be,id:mt,extractedUrl:qt,rawUrl:wt,extras:{skipLocationChange:Dn,replaceUrl:An}}=ie;return this.hooks.afterPreactivation(Be,{navigationId:mt,appliedUrlTree:qt,rawUrlTree:wt,skipLocationChange:!!Dn,replaceUrl:!!An})}),(0,lt.U)(ie=>{const Be=function eo(C,y,m){const A=qn(C,y._root,m?m._root:void 0);return new pr(A,y)}(this.routeReuseStrategy,ie.targetSnapshot,ie.currentRouterState);return Object.assign(Object.assign({},ie),{targetRouterState:Be})}),(0,kt.b)(ie=>{this.currentUrlTree=ie.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ie.urlAfterRedirects,ie.rawUrl),this.routerState=ie.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ie.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ie),this.browserUrlTree=ie.urlAfterRedirects)}),((C,y,m)=>(0,lt.U)(A=>(new li(y,A.targetRouterState,A.currentRouterState,m).activate(C),A)))(this.rootContexts,this.routeReuseStrategy,ie=>this.triggerEvent(ie)),(0,kt.b)({next(){H=!0},complete(){H=!0}}),function Dt(C){return(0,tt.e)((y,m)=>{try{y.subscribe(m)}finally{m.add(C)}})}(()=>{var ie;H||q||this.cancelNavigationTransition(x,`Navigation ID ${x.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ie=this.currentNavigation)||void 0===ie?void 0:ie.id)===x.id&&(this.currentNavigation=null)}),ye(ie=>{if(q=!0,function en(C){return C&&C[Wn]}(ie)){const Be=ui(ie.url);Be||(this.navigated=!0,this.restoreHistory(x,!0));const mt=new fn(x.id,this.serializeUrl(x.extractedUrl),ie.message);A.next(mt),Be?setTimeout(()=>{const qt=this.urlHandlingStrategy.merge(ie.url,this.rawUrlTree),wt={skipLocationChange:x.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ni(x.source)};this.scheduleNavigation(qt,"imperative",null,wt,{resolve:x.resolve,reject:x.reject,promise:x.promise})},0):x.resolve(!1)}else{this.restoreHistory(x,!0);const Be=new _r(x.id,this.serializeUrl(x.extractedUrl),ie);A.next(Be);try{x.resolve(this.errorHandler(ie))}catch(mt){x.reject(mt)}}return ne.E}))}))}resetRootComponentType(m){this.rootComponentType=m,this.routerState.root.component=this.rootComponentType}setTransition(m){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),m))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const A="popstate"===m.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{var x;const H={replaceUrl:!0},q=(null===(x=m.state)||void 0===x?void 0:x.navigationId)?m.state:null;if(q){const Be=Object.assign({},q);delete Be.navigationId,delete Be.\u0275routerPageId,0!==Object.keys(Be).length&&(H.state=Be)}const ie=this.parseUrl(m.url);this.scheduleNavigation(ie,A,q,H)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(m){this.events.next(m)}resetConfig(m){Gr(m),this.config=m.map(P),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,A={}){const{relativeTo:x,queryParams:H,fragment:q,queryParamsHandling:ie,preserveFragment:Be}=A,mt=x||this.routerState.root,qt=Be?this.currentUrlTree.fragment:q;let wt=null;switch(ie){case"merge":wt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),H);break;case"preserve":wt=this.currentUrlTree.queryParams;break;default:wt=H||null}return null!==wt&&(wt=this.removeEmptyProps(wt)),function ge(C,y,m,A,x){if(0===m.length)return it(y.root,y.root,y.root,A,x);const H=function Cr(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new Nt(!0,0,C);let y=0,m=!1;const A=C.reduce((x,H,q)=>{if("object"==typeof H&&null!=H){if(H.outlets){const ie={};return Q(H.outlets,(Be,mt)=>{ie[mt]="string"==typeof Be?Be.split("/"):Be}),[...x,{outlets:ie}]}if(H.segmentPath)return[...x,H.segmentPath]}return"string"!=typeof H?[...x,H]:0===q?(H.split("/").forEach((ie,Be)=>{0==Be&&"."===ie||(0==Be&&""===ie?m=!0:".."===ie?y++:""!=ie&&x.push(ie))}),x):[...x,H]},[]);return new Nt(m,y,A)}(m);if(H.toRoot())return it(y.root,y.root,new Zt([],{}),A,x);const q=function Xr(C,y,m){if(C.isAbsolute)return new dn(y.root,!0,0);if(-1===m.snapshot._lastPathIndex){const H=m.snapshot._urlSegment;return new dn(H,H===y.root,0)}const A=Te(C.commands[0])?0:1;return function us(C,y,m){let A=C,x=y,H=m;for(;H>x;){if(H-=x,A=A.parent,!A)throw new Error("Invalid number of '../'");x=A.segments.length}return new dn(A,!1,x-H)}(m.snapshot._urlSegment,m.snapshot._lastPathIndex+A,C.numberOfDoubleDots)}(H,y,C),ie=q.processChildren?_i(q.segmentGroup,q.index,H.commands):ai(q.segmentGroup,q.index,H.commands);return it(y.root,q.segmentGroup,ie,A,x)}(mt,this.currentUrlTree,m,wt,null!=qt?qt:null)}navigateByUrl(m,A={skipLocationChange:!1}){const x=ui(m)?m:this.parseUrl(m),H=this.urlHandlingStrategy.merge(x,this.rawUrlTree);return this.scheduleNavigation(H,"imperative",null,A)}navigate(m,A={skipLocationChange:!1}){return function $i(C){for(let y=0;y<C.length;y++){const m=C[y];if(null==m)throw new Error(`The requested path contains ${m} segment at index ${y}`)}}(m),this.navigateByUrl(this.createUrlTree(m,A),A)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let A;try{A=this.urlSerializer.parse(m)}catch(x){A=this.malformedUriErrorHandler(x,this.urlSerializer,m)}return A}isActive(m,A){let x;if(x=!0===A?Object.assign({},Kn):!1===A?Object.assign({},Xi):A,ui(m))return Mt(this.currentUrlTree,m,x);const H=this.parseUrl(m);return Mt(this.currentUrlTree,H,x)}removeEmptyProps(m){return Object.keys(m).reduce((A,x)=>{const H=m[x];return null!=H&&(A[x]=H),A},{})}processNavigations(){this.navigations.subscribe(m=>{this.navigated=!0,this.lastSuccessfulId=m.id,this.currentPageId=m.targetPageId,this.events.next(new In(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,m.resolve(!0)},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}scheduleNavigation(m,A,x,H,q){var ie,Be;if(this.disposed)return Promise.resolve(!1);let mt,qt,wt;q?(mt=q.resolve,qt=q.reject,wt=q.promise):wt=new Promise((cr,rs)=>{mt=cr,qt=rs});const Dn=++this.navigationId;let An;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(x=this.location.getState()),An=x&&x.\u0275routerPageId?x.\u0275routerPageId:H.replaceUrl||H.skipLocationChange?null!==(ie=this.browserPageId)&&void 0!==ie?ie:0:(null!==(Be=this.browserPageId)&&void 0!==Be?Be:0)+1):An=0,this.setTransition({id:Dn,targetPageId:An,source:A,restoredState:x,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:m,extras:H,resolve:mt,reject:qt,promise:wt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),wt.catch(cr=>Promise.reject(cr))}setBrowserUrl(m,A){const x=this.urlSerializer.serialize(m),H=Object.assign(Object.assign({},A.extras.state),this.generateNgRouterState(A.id,A.targetPageId));this.location.isCurrentPathEqualTo(x)||A.extras.replaceUrl?this.location.replaceState(x,"",H):this.location.go(x,"",H)}restoreHistory(m,A=!1){var x,H;if("computed"===this.canceledNavigationResolution){const q=this.currentPageId-m.targetPageId;"popstate"!==m.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(x=this.currentNavigation)||void 0===x?void 0:x.finalUrl)||0===q?this.currentUrlTree===(null===(H=this.currentNavigation)||void 0===H?void 0:H.finalUrl)&&0===q&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(q)}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(m,A){const x=new fn(m.id,this.serializeUrl(m.extractedUrl),A);this.triggerEvent(x),m.resolve(!1)}generateNgRouterState(m,A){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:A}:{navigationId:m}}}return C.\u0275fac=function(m){f.$Z()},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac}),C})();function ni(C){return"imperative"!==C}let Oi=(()=>{class C{constructor(m,A,x){this.router=m,this.route=A,this.locationStrategy=x,this.commands=null,this.href=null,this.onChanges=new Le.x,this.subscription=m.events.subscribe(H=>{H instanceof In&&this.updateTargetUrlAndHref()})}set routerLink(m){this.commands=null!=m?Array.isArray(m)?m:[m]:null}ngOnChanges(m){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(m,A,x,H,q){if(0!==m||A||x||H||q||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ie={skipLocationChange:hs(this.skipLocationChange),replaceUrl:hs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ie),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:hs(this.preserveFragment)})}}return C.\u0275fac=function(m){return new(m||C)(f.Y36(bn),f.Y36(Qr),f.Y36(Pn.S$))},C.\u0275dir=f.lG2({type:C,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(m,A){1&m&&f.NdJ("click",function(H){return A.onClick(H.button,H.ctrlKey,H.shiftKey,H.altKey,H.metaKey)}),2&m&&f.uIk("target",A.target)("href",A.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),C})();function hs(C){return""===C||!!C}class es{}class Eo{preload(y,m){return(0,De.of)(null)}}let ha=(()=>{class C{constructor(m,A,x,H){this.router=m,this.injector=x,this.preloadingStrategy=H,this.loader=new Cl(x,A,Be=>m.triggerEvent(new pn(Be)),Be=>m.triggerEvent(new Yr(Be)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ce.h)(m=>m instanceof In),(0,Rt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const m=this.injector.get(f.h0i);return this.processRoutes(m,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,A){const x=[];for(const H of A)if(H.loadChildren&&!H.canLoad&&H._loadedConfig){const q=H._loadedConfig;x.push(this.processRoutes(q.module,q.routes))}else H.loadChildren&&!H.canLoad?x.push(this.preloadConfig(m,H)):H.children&&x.push(this.processRoutes(m,H.children));return(0,le.D)(x).pipe((0,Ut.J)(),(0,lt.U)(H=>{}))}preloadConfig(m,A){return this.preloadingStrategy.preload(A,()=>(A._loadedConfig?(0,De.of)(A._loadedConfig):this.loader.load(m.injector,A)).pipe((0,jt.z)(H=>(A._loadedConfig=H,this.processRoutes(H.module,H.routes)))))}}return C.\u0275fac=function(m){return new(m||C)(f.LFG(bn),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(es))},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac}),C})(),Ti=(()=>{class C{constructor(m,A,x={}){this.router=m,this.viewportScroller=A,this.options=x,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},x.scrollPositionRestoration=x.scrollPositionRestoration||"disabled",x.anchorScrolling=x.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(m=>{m instanceof $n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof In&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.router.parseUrl(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(m=>{m instanceof dr&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,A){this.router.triggerEvent(new dr(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return C.\u0275fac=function(m){f.$Z()},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac}),C})();const Hs=new f.OlP("ROUTER_CONFIGURATION"),ts=new f.OlP("ROUTER_FORROOT_GUARD"),Lo=[Pn.Ye,{provide:fr,useClass:Si},{provide:bn,useFactory:function bo(C,y,m,A,x,H,q={},ie,Be){const mt=new bn(null,C,y,m,A,x,$r(H));return ie&&(mt.urlHandlingStrategy=ie),Be&&(mt.routeReuseStrategy=Be),function Do(C,y){C.errorHandler&&(y.errorHandler=C.errorHandler),C.malformedUriErrorHandler&&(y.malformedUriErrorHandler=C.malformedUriErrorHandler),C.onSameUrlNavigation&&(y.onSameUrlNavigation=C.onSameUrlNavigation),C.paramsInheritanceStrategy&&(y.paramsInheritanceStrategy=C.paramsInheritanceStrategy),C.relativeLinkResolution&&(y.relativeLinkResolution=C.relativeLinkResolution),C.urlUpdateStrategy&&(y.urlUpdateStrategy=C.urlUpdateStrategy),C.canceledNavigationResolution&&(y.canceledNavigationResolution=C.canceledNavigationResolution)}(q,mt),q.enableTracing&&mt.events.subscribe(qt=>{var wt,Dn;null===(wt=console.group)||void 0===wt||wt.call(console,`Router Event: ${qt.constructor.name}`),console.log(qt.toString()),console.log(qt),null===(Dn=console.groupEnd)||void 0===Dn||Dn.call(console)}),mt},deps:[fr,Qi,Pn.Ye,f.zs3,f.Sil,Is,Hs,[class tu{},new f.FiY],[class di{},new f.FiY]]},Qi,{provide:Qr,useFactory:function Ba(C){return C.routerState.root},deps:[bn]},ha,Eo,class Dl{preload(y,m){return m().pipe(ye(()=>(0,De.of)(null)))}},{provide:Hs,useValue:{enableTracing:!1}}];function Ua(){return new f.PXZ("Router",bn)}let Co=(()=>{class C{constructor(m,A){}static forRoot(m,A){return{ngModule:C,providers:[Lo,Wi(m),{provide:ts,useFactory:ns,deps:[[bn,new f.FiY,new f.tp0]]},{provide:Hs,useValue:A||{}},{provide:Pn.S$,useFactory:Dr,deps:[Pn.lw,[new f.tBr(Pn.mr),new f.FiY],Hs]},{provide:Ti,useFactory:Ts,deps:[bn,Pn.EM,Hs]},{provide:es,useExisting:A&&A.preloadingStrategy?A.preloadingStrategy:Eo},{provide:f.PXZ,multi:!0,useFactory:Ua},[Xo,{provide:f.ip1,multi:!0,useFactory:$s,deps:[Xo]},{provide:Gi,useFactory:ea,deps:[Xo]},{provide:f.tb,multi:!0,useExisting:Gi}]]}}static forChild(m){return{ngModule:C,providers:[Wi(m)]}}}return C.\u0275fac=function(m){return new(m||C)(f.LFG(ts,8),f.LFG(bn,8))},C.\u0275mod=f.oAB({type:C}),C.\u0275inj=f.cJS({}),C})();function Ts(C,y,m){return m.scrollOffset&&y.setOffset(m.scrollOffset),new Ti(C,y,m)}function Dr(C,y,m={}){return m.useHash?new Pn.Do(C,y):new Pn.b0(C,y)}function ns(C){return"guarded"}function Wi(C){return[{provide:f.deG,multi:!0,useValue:C},{provide:Is,multi:!0,useValue:C}]}let Xo=(()=>{class C{constructor(m){this.injector=m,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Le.x}appInitializer(){return this.injector.get(Pn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let A=null;const x=new Promise(ie=>A=ie),H=this.injector.get(bn),q=this.injector.get(Hs);return"disabled"===q.initialNavigation?(H.setUpLocationChangeListener(),A(!0)):"enabled"===q.initialNavigation||"enabledBlocking"===q.initialNavigation?(H.hooks.afterPreactivation=()=>this.initNavigation?(0,De.of)(null):(this.initNavigation=!0,A(!0),this.resultOfPreactivationDone),H.initialNavigation()):A(!0),x})}bootstrapListener(m){const A=this.injector.get(Hs),x=this.injector.get(ha),H=this.injector.get(Ti),q=this.injector.get(bn),ie=this.injector.get(f.z2F);m===ie.components[0]&&(("enabledNonBlocking"===A.initialNavigation||void 0===A.initialNavigation)&&q.initialNavigation(),x.setUpPreloading(),H.init(),q.resetRootComponentType(ie.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return C.\u0275fac=function(m){return new(m||C)(f.LFG(f.zs3))},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac}),C})();function $s(C){return C.appInitializer.bind(C)}function ea(C){return C.bootstrapListener.bind(C)}const Gi=new f.OlP("Router Initializer")},3942:(st,Ie,k)=>{k.d(Ie,{Z:()=>je});var f=k(2090),M=k(4859),z=k(9681),le=k(1877);class ce{constructor(Ae,Ne){this._delegate=Ae,this.firebase=Ne,(0,z._addComponent)(Ae,new M.wA("app-compat",()=>this,"PUBLIC")),this.container=Ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this._delegate.automaticDataCollectionEnabled=Ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ae=>{this._delegate.checkDestroyed(),Ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Ae,Ne=z._DEFAULT_ENTRY_NAME){var tt;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(Ae);return!ut.isInitialized()&&"EXPLICIT"===(null===(tt=ut.getComponent())||void 0===tt?void 0:tt.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:Ne})}_removeServiceInstance(Ae,Ne=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ae).clearInstance(Ne)}_addComponent(Ae){(0,z._addComponent)(this._delegate,Ae)}_addOrOverwriteComponent(Ae){(0,z._addOrOverwriteComponent)(this._delegate,Ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function Ee(){const et=function he(et){const Ae={},Ne={__esModule:!0,initializeApp:function He(rt,ne={}){const Le=z.initializeApp(rt,ne);if((0,f.r3)(Ae,Le.name))return Ae[Le.name];const de=new et(Le,Ne);return Ae[Le.name]=de,de},app:ut,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Fe(rt){const ne=rt.name,Le=ne.replace("-compat","");if(z._registerComponent(rt)&&"PUBLIC"===rt.type){const de=(ye=ut())=>{if("function"!=typeof ye[Le])throw be.create("invalid-app-argument",{appName:ne});return ye[Le]()};void 0!==rt.serviceProps&&(0,f.ZB)(de,rt.serviceProps),Ne[Le]=de,et.prototype[Le]=function(...ye){return this._getService.bind(this,ne).apply(this,rt.multipleInstances?ye:[])}}return"PUBLIC"===rt.type?Ne[Le]:null},removeApp:function tt(rt){delete Ae[rt]},useAsService:function nt(rt,ne){return"serverAuth"===ne?null:ne},modularAPIs:z}};function ut(rt){if(!(0,f.r3)(Ae,rt=rt||z._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:rt});return Ae[rt]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function De(){return Object.keys(Ae).map(rt=>Ae[rt])}}),ut.App=et,Ne}(ce);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function Ae(Ne){(0,f.ZB)(et,Ne)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),et}(),X=new le.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const je=ee;!function Ue(et){(0,z.registerVersion)("@firebase/app-compat","0.1.30",et)}()},9681:(st,Ie,k)=>{k.r(Ie),k.d(Ie,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>fn,_DEFAULT_ENTRY_NAME:()=>lt,_addComponent:()=>Rt,_addOrOverwriteComponent:()=>Ct,_apps:()=>Bt,_clearComponents:()=>Pn,_components:()=>zt,_getProvider:()=>kt,_registerComponent:()=>jt,_removeServiceInstance:()=>Ut,deleteApp:()=>Tt,getApp:()=>tr,getApps:()=>Nr,initializeApp:()=>_r,onLog:()=>pn,registerVersion:()=>sn,setLogLevel:()=>Yr});var f=k(5861),M=k(4859),z=k(1877),le=k(2090),ce=k(8766);class pe{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(se=>{if(function be(Q){const te=Q.getComponent();return"VERSION"===(null==te?void 0:te.type)}(se)){const Ze=se.getImmediate();return`${Ze.library}/${Ze.version}`}return null}).filter(se=>se).join(" ")}}const he="@firebase/app",ee=new z.Yd("@firebase/app"),lt="[DEFAULT]",Ye={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Bt=new Map,zt=new Map;function Rt(Q,te){try{Q.container.addComponent(te)}catch(se){ee.debug(`Component ${te.name} failed to register with FirebaseApp ${Q.name}`,se)}}function Ct(Q,te){Q.container.addOrOverwriteComponent(te)}function jt(Q){const te=Q.name;if(zt.has(te))return ee.debug(`There were multiple attempts to register component ${te}.`),!1;zt.set(te,Q);for(const se of Bt.values())Rt(se,Q);return!0}function kt(Q,te){const se=Q.container.getProvider("heartbeat").getImmediate({optional:!0});return se&&se.triggerHeartbeat(),Q.container.getProvider(te)}function Ut(Q,te,se=lt){kt(Q,te).clearInstance(se)}function Pn(){zt.clear()}const $n=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class In{constructor(te,se,Ze){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},se),this._name=se.name,this._automaticDataCollectionEnabled=se.automaticDataCollectionEnabled,this._container=Ze,this.container.addComponent(new M.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}const fn="9.9.1";function _r(Q,te={}){"object"!=typeof te&&(te={name:te});const se=Object.assign({name:lt,automaticDataCollectionEnabled:!1},te),Ze=se.name;if("string"!=typeof Ze||!Ze)throw $n.create("bad-app-name",{appName:String(Ze)});const at=Bt.get(Ze);if(at){if((0,le.vZ)(Q,at.options)&&(0,le.vZ)(se,at.config))return at;throw $n.create("duplicate-app",{appName:Ze})}const Mt=new M.H0(Ze);for(const cn of zt.values())Mt.addComponent(cn);const yn=new In(Q,se,Mt);return Bt.set(Ze,yn),yn}function tr(Q=lt){const te=Bt.get(Q);if(!te)throw $n.create("no-app",{appName:Q});return te}function Nr(){return Array.from(Bt.values())}function Tt(Q){return ln.apply(this,arguments)}function ln(){return(ln=(0,f.Z)(function*(Q){const te=Q.name;Bt.has(te)&&(Bt.delete(te),yield Promise.all(Q.container.getProviders().map(se=>se.delete())),Q.isDeleted=!0)})).apply(this,arguments)}function sn(Q,te,se){var Ze;let at=null!==(Ze=Ye[Q])&&void 0!==Ze?Ze:Q;se&&(at+=`-${se}`);const Mt=at.match(/\s|\//),yn=te.match(/\s|\//);if(Mt||yn){const cn=[`Unable to register library "${at}" with version "${te}":`];return Mt&&cn.push(`library name "${at}" contains illegal characters (whitespace or "/")`),Mt&&yn&&cn.push("and"),yn&&cn.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void ee.warn(cn.join(" "))}jt(new M.wA(`${at}-version`,()=>({library:at,version:te}),"VERSION"))}function pn(Q,te){if(null!==Q&&"function"!=typeof Q)throw $n.create("invalid-log-argument");(0,z.Am)(Q,te)}function Yr(Q){(0,z.Ub)(Q)}const sr="firebase-heartbeat-store";let Fr=null;function dr(){return Fr||(Fr=(0,ce.X3)("firebase-heartbeat-database",1,{upgrade:(Q,te)=>{0===te&&Q.createObjectStore(sr)}}).catch(Q=>{throw $n.create("storage-open",{originalErrorMessage:Q.message})})),Fr}function At(){return(At=(0,f.Z)(function*(Q){var te;try{return(yield dr()).transaction(sr).objectStore(sr).get(Ar(Q))}catch(se){throw $n.create("storage-get",{originalErrorMessage:null===(te=se)||void 0===te?void 0:te.message})}})).apply(this,arguments)}function Ot(Q,te){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,f.Z)(function*(Q,te){var se;try{const at=(yield dr()).transaction(sr,"readwrite");return yield at.objectStore(sr).put(te,Ar(Q)),at.done}catch(Ze){throw $n.create("storage-set",{originalErrorMessage:null===(se=Ze)||void 0===se?void 0:se.message})}})).apply(this,arguments)}function Ar(Q){return`${Q.name}!${Q.options.appId}`}class yr{constructor(te){this.container=te,this._heartbeatsCache=null;const se=this.container.getProvider("app").getImmediate();this._storage=new $r(se),this._heartbeatsCachePromise=this._storage.read().then(Ze=>(this._heartbeatsCache=Ze,Ze))}triggerHeartbeat(){var te=this;return(0,f.Z)(function*(){const Ze=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=wn();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==at&&!te._heartbeatsCache.heartbeats.some(Mt=>Mt.date===at))return te._heartbeatsCache.heartbeats.push({date:at,agent:Ze}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(Mt=>{const yn=new Date(Mt.date).valueOf();return Date.now()-yn<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,f.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const se=wn(),{heartbeatsToSend:Ze,unsentEntries:at}=function It(Q,te=1024){const se=[];let Ze=Q.slice();for(const at of Q){const Mt=se.find(yn=>yn.agent===at.agent);if(Mt){if(Mt.dates.push(at.date),re(se)>te){Mt.dates.pop();break}}else if(se.push({agent:at.agent,dates:[at.date]}),re(se)>te){se.pop();break}Ze=Ze.slice(1)}return{heartbeatsToSend:se,unsentEntries:Ze}}(te._heartbeatsCache.heartbeats),Mt=(0,le.L)(JSON.stringify({version:2,heartbeats:Ze}));return te._heartbeatsCache.lastSentHeartbeatDate=se,at.length>0?(te._heartbeatsCache.heartbeats=at,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),Mt})()}}function wn(){return(new Date).toISOString().substring(0,10)}class $r{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,f.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function pt(Q){return At.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var se=this;return(0,f.Z)(function*(){var Ze;if(yield se._canUseIndexedDBPromise){const Mt=yield se.read();return Ot(se.app,{lastSentHeartbeatDate:null!==(Ze=te.lastSentHeartbeatDate)&&void 0!==Ze?Ze:Mt.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var se=this;return(0,f.Z)(function*(){var Ze;if(yield se._canUseIndexedDBPromise){const Mt=yield se.read();return Ot(se.app,{lastSentHeartbeatDate:null!==(Ze=te.lastSentHeartbeatDate)&&void 0!==Ze?Ze:Mt.lastSentHeartbeatDate,heartbeats:[...Mt.heartbeats,...te.heartbeats]})}})()}}function re(Q){return(0,le.L)(JSON.stringify({version:2,heartbeats:Q})).length}!function ae(Q){jt(new M.wA("platform-logger",te=>new pe(te),"PRIVATE")),jt(new M.wA("heartbeat",te=>new yr(te),"PRIVATE")),sn(he,"0.7.29",Q),sn(he,"0.7.29","esm2017"),sn("fire-js","")}("")},4859:(st,Ie,k)=>{k.d(Ie,{H0:()=>he,wA:()=>z,zt:()=>ce});var f=k(5861),M=k(2090);class z{constructor(ee,X,_e){this.name=ee,this.instanceFactory=X,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const le="[DEFAULT]";class ce{constructor(ee,X){this.name=ee,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const X=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(X)){const _e=new M.BH;if(this.instancesDeferred.set(X,_e),this.isInitialized(X)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:X});Je&&_e.resolve(Je)}catch(Je){}}return this.instancesDeferred.get(X).promise}getImmediate(ee){var X;const _e=this.normalizeInstanceIdentifier(null==ee?void 0:ee.identifier),Je=null!==(X=null==ee?void 0:ee.optional)&&void 0!==X&&X;if(!this.isInitialized(_e)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(Ue){if(Je)return null;throw Ue}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function be(Ee){return"EAGER"===Ee.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:le})}catch(X){}for(const[X,_e]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(X);try{const Ue=this.getOrInitializeService({instanceIdentifier:Je});_e.resolve(Ue)}catch(Ue){}}}}clearInstance(ee=le){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,f.Z)(function*(){const X=Array.from(ee.instances.values());yield Promise.all([...X.filter(_e=>"INTERNAL"in _e).map(_e=>_e.INTERNAL.delete()),...X.filter(_e=>"_delete"in _e).map(_e=>_e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=le){return this.instances.has(ee)}getOptions(ee=le){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:X={}}=ee,_e=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(_e))throw Error(`${this.name}(${_e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:_e,options:X});for(const[Ue,je]of this.instancesDeferred.entries())_e===this.normalizeInstanceIdentifier(Ue)&&je.resolve(Je);return Je}onInit(ee,X){var _e;const Je=this.normalizeInstanceIdentifier(X),Ue=null!==(_e=this.onInitCallbacks.get(Je))&&void 0!==_e?_e:new Set;Ue.add(ee),this.onInitCallbacks.set(Je,Ue);const je=this.instances.get(Je);return je&&ee(je,Je),()=>{Ue.delete(ee)}}invokeOnInitCallbacks(ee,X){const _e=this.onInitCallbacks.get(X);if(_e)for(const Je of _e)try{Je(ee,X)}catch(Ue){}}getOrInitializeService({instanceIdentifier:ee,options:X={}}){let _e=this.instances.get(ee);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=ee,Ee===le?void 0:Ee),options:X}),this.instances.set(ee,_e),this.instancesOptions.set(ee,X),this.invokeOnInitCallbacks(_e,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,_e)}catch(Je){}var Ee;return _e||null}normalizeInstanceIdentifier(ee=le){return this.component?this.component.multipleInstances?ee:le:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const X=this.getProvider(ee.name);if(X.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);X.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const X=new ce(ee,this);return this.providers.set(ee,X),X}getProviders(){return Array.from(this.providers.values())}}},1877:(st,Ie,k)=>{k.d(Ie,{Am:()=>Ee,Ub:()=>he,Yd:()=>be,in:()=>M});const f=[];var M=(()=>{return(ee=M||(M={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",M;var ee})();const z={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},le=M.INFO,ce={[M.DEBUG]:"log",[M.VERBOSE]:"log",[M.INFO]:"info",[M.WARN]:"warn",[M.ERROR]:"error"},pe=(ee,X,..._e)=>{if(X<ee.logLevel)return;const Je=(new Date).toISOString(),Ue=ce[X];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[Ue](`[${Je}]  ${ee.name}:`,..._e)};class be{constructor(X){this.name=X,this._logLevel=le,this._logHandler=pe,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in M))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?z[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...X),this._logHandler(this,M.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...X),this._logHandler(this,M.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,M.INFO,...X),this._logHandler(this,M.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,M.WARN,...X),this._logHandler(this,M.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,M.ERROR,...X),this._logHandler(this,M.ERROR,...X)}}function he(ee){f.forEach(X=>{X.setLogLevel(ee)})}function Ee(ee,X){for(const _e of f){let Je=null;X&&X.level&&(Je=z[X.level]),_e.userLogHandler=null===ee?null:(Ue,je,...et)=>{const Ae=et.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch(tt){return null}}).filter(Ne=>Ne).join(" ");je>=(null!=Je?Je:Ue.logLevel)&&ee({level:M[je].toLowerCase(),message:Ae,args:et,type:Ue.name})}}}},8766:(st,Ie,k)=>{k.d(Ie,{Lj:()=>He,X3:()=>ut});var f=k(5861);let z,le;const be=new WeakMap,he=new WeakMap,Ee=new WeakMap,ee=new WeakMap,X=new WeakMap;let Ue={get(ne,Le,de){if(ne instanceof IDBTransaction){if("done"===Le)return he.get(ne);if("objectStoreNames"===Le)return ne.objectStoreNames||Ee.get(ne);if("store"===Le)return de.objectStoreNames[1]?void 0:de.objectStore(de.objectStoreNames[0])}return Ne(ne[Le])},set:(ne,Le,de)=>(ne[Le]=de,!0),has:(ne,Le)=>ne instanceof IDBTransaction&&("done"===Le||"store"===Le)||Le in ne};function Ae(ne){return"function"==typeof ne?function et(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...Le){return ne.apply(tt(this),Le),Ne(be.get(this))}:function(...Le){return Ne(ne.apply(tt(this),Le))}:function(Le,...de){const ye=ne.call(tt(this),Le,...de);return Ee.set(ye,Le.sort?Le.sort():[Le]),Ne(ye)}}(ne):(ne instanceof IDBTransaction&&function Je(ne){if(he.has(ne))return;const Le=new Promise((de,ye)=>{const Ce=()=>{ne.removeEventListener("complete",Re),ne.removeEventListener("error",Me),ne.removeEventListener("abort",Me)},Re=()=>{de(),Ce()},Me=()=>{ye(ne.error||new DOMException("AbortError","AbortError")),Ce()};ne.addEventListener("complete",Re),ne.addEventListener("error",Me),ne.addEventListener("abort",Me)});he.set(ne,Le)}(ne),((ne,Le)=>Le.some(de=>ne instanceof de))(ne,function ce(){return z||(z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,Ue):ne)}function Ne(ne){if(ne instanceof IDBRequest)return function _e(ne){const Le=new Promise((de,ye)=>{const Ce=()=>{ne.removeEventListener("success",Re),ne.removeEventListener("error",Me)},Re=()=>{de(Ne(ne.result)),Ce()},Me=()=>{ye(ne.error),Ce()};ne.addEventListener("success",Re),ne.addEventListener("error",Me)});return Le.then(de=>{de instanceof IDBCursor&&be.set(de,ne)}).catch(()=>{}),X.set(Le,ne),Le}(ne);if(ee.has(ne))return ee.get(ne);const Le=Ae(ne);return Le!==ne&&(ee.set(ne,Le),X.set(Le,ne)),Le}const tt=ne=>X.get(ne);function ut(ne,Le,{blocked:de,upgrade:ye,blocking:Ce,terminated:Re}={}){const Me=indexedDB.open(ne,Le),Xe=Ne(Me);return ye&&Me.addEventListener("upgradeneeded",ot=>{ye(Ne(Me.result),ot.oldVersion,ot.newVersion,Ne(Me.transaction))}),de&&Me.addEventListener("blocked",()=>de()),Xe.then(ot=>{Re&&ot.addEventListener("close",()=>Re()),Ce&&ot.addEventListener("versionchange",()=>Ce())}).catch(()=>{}),Xe}function He(ne,{blocked:Le}={}){const de=indexedDB.deleteDatabase(ne);return Le&&de.addEventListener("blocked",()=>Le()),Ne(de).then(()=>{})}const De=["get","getKey","getAll","getAllKeys","count"],Fe=["put","add","delete","clear"],nt=new Map;function rt(ne,Le){if(!(ne instanceof IDBDatabase)||Le in ne||"string"!=typeof Le)return;if(nt.get(Le))return nt.get(Le);const de=Le.replace(/FromIndex$/,""),ye=Le!==de,Ce=Fe.includes(de);if(!(de in(ye?IDBIndex:IDBObjectStore).prototype)||!Ce&&!De.includes(de))return;const Re=function(){var Me=(0,f.Z)(function*(Xe,...ot){const Dt=this.transaction(Xe,Ce?"readwrite":"readonly");let lt=Dt.store;return ye&&(lt=lt.index(ot.shift())),(yield Promise.all([lt[de](...ot),Ce&&Dt.done]))[0]});return function(ot){return Me.apply(this,arguments)}}();return nt.set(Le,Re),Re}!function je(ne){Ue=ne(Ue)}(ne=>jv(Bv({},ne),{get:(Le,de,ye)=>rt(Le,de)||ne.get(Le,de,ye),has:(Le,de)=>!!rt(Le,de)||ne.has(Le,de)}))},5861:(st,Ie,k)=>{function f(z,le,ce,pe,be,he,Ee){try{var ee=z[he](Ee),X=ee.value}catch(_e){return void ce(_e)}ee.done?le(X):Promise.resolve(X).then(pe,be)}function M(z){return function(){var le=this,ce=arguments;return new Promise(function(pe,be){var he=z.apply(le,ce);function Ee(X){f(he,pe,be,Ee,ee,"next",X)}function ee(X){f(he,pe,be,Ee,ee,"throw",X)}Ee(void 0)})}}k.d(Ie,{Z:()=>M})}},st=>{st(st.s=124)}]);