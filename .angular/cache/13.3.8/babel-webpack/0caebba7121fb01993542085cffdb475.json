{"ast":null,"code":"import { map, filter, debounceTime } from 'rxjs/operators';\nimport { fromEvent } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../pokedex-dahsboard.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../../store\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../component/pokemon-card/pokemon-card.component\";\nimport * as i6 from \"../../component/poke-loader/poke-loader.component\";\n\nfunction PokedexlistComponent_div_0_1_ng_template_0_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 6)(1, \"a\")(2, \"pokemon-card\", 7);\n    i0.ɵɵlistener(\"view\", function PokedexlistComponent_div_0_1_ng_template_0_li_1_Template_pokemon_card_view_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const pokemon_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(4);\n      return ctx_r8.handleView(pokemon_r7);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const pokemon_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"detail\", pokemon_r7);\n  }\n}\n\nfunction PokedexlistComponent_div_0_1_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 4);\n    i0.ɵɵtemplate(1, PokedexlistComponent_div_0_1_ng_template_0_li_1_Template, 3, 1, \"li\", 5);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pokemonDetail_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", pokemonDetail_r1.pokemonResults.results);\n  }\n}\n\nfunction PokedexlistComponent_div_0_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, PokedexlistComponent_div_0_1_ng_template_0_Template, 2, 1, \"ng-template\");\n  }\n}\n\nfunction PokedexlistComponent_div_0_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function PokedexlistComponent_div_0_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.loadMorePokemon();\n    });\n    i0.ɵɵtext(1, \" Load More Pokemon \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PokedexlistComponent_div_0_3_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"poke-loader\");\n  }\n}\n\nfunction PokedexlistComponent_div_0_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, PokedexlistComponent_div_0_3_ng_template_0_Template, 1, 0, \"ng-template\");\n  }\n}\n\nfunction PokedexlistComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, PokedexlistComponent_div_0_1_Template, 1, 0, null, 2);\n    i0.ɵɵtemplate(2, PokedexlistComponent_div_0_button_2_Template, 2, 0, \"button\", 3);\n    i0.ɵɵtemplate(3, PokedexlistComponent_div_0_3_Template, 1, 0, null, 2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pokemonDetail_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", pokemonDetail_r1.pokemonResults);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showLoadMore);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !pokemonDetail_r1.pokemonResults);\n  }\n}\n\nexport class PokedexlistComponent {\n  constructor(pokedexService, router, store) {\n    this.pokedexService = pokedexService;\n    this.router = router;\n    this.store = store; // pokemonDetail: PokemonDetail[] = [];\n\n    this.pageByScroll$ = fromEvent(window, 'scroll');\n    this.showLoadMore = true;\n    this.showLoader = false;\n  }\n\n  ngOnInit() {\n    this.pokedexResults$ = this.store.select('pokemonResults');\n    this.pokedexService.getPokemonList().subscribe();\n  }\n\n  ngAfterViewInit() {\n    this.pageByScroll$.pipe(map(() => window.scrollY), filter(current => current >= document.body.clientHeight - window.innerHeight), debounceTime(200)).subscribe(data => {\n      this.loadMorePokemon();\n    });\n  }\n\n  loadMorePokemon() {\n    this.showLoadMore = false;\n    this.pokedexResults$ = this.store.select('pokemonResults');\n    this.pokedexService.getPokemonList().subscribe();\n  }\n\n  handleView(event) {\n    console.log('event', event);\n    this.router.navigate(['/pokedex', event.name, event.id]);\n  }\n\n}\n\nPokedexlistComponent.ɵfac = function PokedexlistComponent_Factory(t) {\n  return new (t || PokedexlistComponent)(i0.ɵɵdirectiveInject(i1.PokedexDashboardService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.Store));\n};\n\nPokedexlistComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PokedexlistComponent,\n  selectors: [[\"pokedex-list\"]],\n  decls: 3,\n  vars: 3,\n  consts: [[\"class\", \"flex-1\", 4, \"ngIf\"], [1, \"flex-1\"], [4, \"ngIf\"], [\"class\", \"block mx-auto px-4 py-2 font-semibold text-sm bg-cyan-500 text-white rounded-md shadow-sm\", 3, \"click\", 4, \"ngIf\"], [1, \"flex\", \"flex-wrap\", \"justify-center\", \"mx-auto\"], [\"class\", \"pokemon-figure mx-3 mb-12\", 4, \"ngFor\", \"ngForOf\"], [1, \"pokemon-figure\", \"mx-3\", \"mb-12\"], [3, \"detail\", \"view\"], [1, \"block\", \"mx-auto\", \"px-4\", \"py-2\", \"font-semibold\", \"text-sm\", \"bg-cyan-500\", \"text-white\", \"rounded-md\", \"shadow-sm\", 3, \"click\"]],\n  template: function PokedexlistComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, PokedexlistComponent_div_0_Template, 4, 3, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵelement(2, \"router-outlet\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.pokedexResults$));\n    }\n  },\n  directives: [i4.NgIf, i4.NgForOf, i5.PokemonCardComponent, i6.PokeLoaderComponent, i2.RouterOutlet],\n  pipes: [i4.AsyncPipe],\n  encapsulation: 2\n});","map":{"version":3,"sources":["/Users/nancy.guerrero/Desktop/angular-pokedex/src/app/pokedex-dashboard/container/pokedex-list/pokedex-list.component.ts"],"names":["map","filter","debounceTime","fromEvent","i0","i1","i2","i3","i4","i5","i6","PokedexlistComponent_div_0_1_ng_template_0_li_1_Template","rf","ctx","_r9","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","PokedexlistComponent_div_0_1_ng_template_0_li_1_Template_pokemon_card_view_2_listener","restoredCtx","ɵɵrestoreView","pokemon_r7","$implicit","ctx_r8","ɵɵnextContext","handleView","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","PokedexlistComponent_div_0_1_ng_template_0_Template","ɵɵtemplate","pokemonDetail_r1","ngIf","pokemonResults","results","PokedexlistComponent_div_0_1_Template","PokedexlistComponent_div_0_button_2_Template","_r12","PokedexlistComponent_div_0_button_2_Template_button_click_0_listener","ctx_r11","loadMorePokemon","ɵɵtext","PokedexlistComponent_div_0_3_ng_template_0_Template","ɵɵelement","PokedexlistComponent_div_0_3_Template","PokedexlistComponent_div_0_Template","ctx_r0","showLoadMore","PokedexlistComponent","constructor","pokedexService","router","store","pageByScroll$","window","showLoader","ngOnInit","pokedexResults$","select","getPokemonList","subscribe","ngAfterViewInit","pipe","scrollY","current","document","body","clientHeight","innerHeight","data","event","console","log","navigate","name","id","ɵfac","PokedexlistComponent_Factory","t","ɵɵdirectiveInject","PokedexDashboardService","Router","Store","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","PokedexlistComponent_Template","ɵɵpipe","ɵɵpipeBind1","directives","NgIf","NgForOf","PokemonCardComponent","PokeLoaderComponent","RouterOutlet","pipes","AsyncPipe","encapsulation"],"mappings":"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","sourcesContent":["import { map, filter, debounceTime } from 'rxjs/operators';\nimport { fromEvent } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../pokedex-dahsboard.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../../store\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../component/pokemon-card/pokemon-card.component\";\nimport * as i6 from \"../../component/poke-loader/poke-loader.component\";\nfunction PokedexlistComponent_div_0_1_ng_template_0_li_1_Template(rf, ctx) { if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 6)(1, \"a\")(2, \"pokemon-card\", 7);\n    i0.ɵɵlistener(\"view\", function PokedexlistComponent_div_0_1_ng_template_0_li_1_Template_pokemon_card_view_2_listener() { const restoredCtx = i0.ɵɵrestoreView(_r9); const pokemon_r7 = restoredCtx.$implicit; const ctx_r8 = i0.ɵɵnextContext(4); return ctx_r8.handleView(pokemon_r7); });\n    i0.ɵɵelementEnd()()();\n} if (rf & 2) {\n    const pokemon_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"detail\", pokemon_r7);\n} }\nfunction PokedexlistComponent_div_0_1_ng_template_0_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 4);\n    i0.ɵɵtemplate(1, PokedexlistComponent_div_0_1_ng_template_0_li_1_Template, 3, 1, \"li\", 5);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const pokemonDetail_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", pokemonDetail_r1.pokemonResults.results);\n} }\nfunction PokedexlistComponent_div_0_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵtemplate(0, PokedexlistComponent_div_0_1_ng_template_0_Template, 2, 1, \"ng-template\");\n} }\nfunction PokedexlistComponent_div_0_button_2_Template(rf, ctx) { if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function PokedexlistComponent_div_0_button_2_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r12); const ctx_r11 = i0.ɵɵnextContext(2); return ctx_r11.loadMorePokemon(); });\n    i0.ɵɵtext(1, \" Load More Pokemon \");\n    i0.ɵɵelementEnd();\n} }\nfunction PokedexlistComponent_div_0_3_ng_template_0_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"poke-loader\");\n} }\nfunction PokedexlistComponent_div_0_3_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵtemplate(0, PokedexlistComponent_div_0_3_ng_template_0_Template, 1, 0, \"ng-template\");\n} }\nfunction PokedexlistComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, PokedexlistComponent_div_0_1_Template, 1, 0, null, 2);\n    i0.ɵɵtemplate(2, PokedexlistComponent_div_0_button_2_Template, 2, 0, \"button\", 3);\n    i0.ɵɵtemplate(3, PokedexlistComponent_div_0_3_Template, 1, 0, null, 2);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const pokemonDetail_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", pokemonDetail_r1.pokemonResults);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showLoadMore);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !pokemonDetail_r1.pokemonResults);\n} }\nexport class PokedexlistComponent {\n    constructor(pokedexService, router, store) {\n        this.pokedexService = pokedexService;\n        this.router = router;\n        this.store = store;\n        // pokemonDetail: PokemonDetail[] = [];\n        this.pageByScroll$ = fromEvent(window, 'scroll');\n        this.showLoadMore = true;\n        this.showLoader = false;\n    }\n    ngOnInit() {\n        this.pokedexResults$ = this.store.select('pokemonResults');\n        this.pokedexService.getPokemonList().subscribe();\n    }\n    ngAfterViewInit() {\n        this.pageByScroll$.pipe(map(() => window.scrollY), filter((current) => current >= document.body.clientHeight - window.innerHeight), debounceTime(200)).subscribe((data) => {\n            this.loadMorePokemon();\n        });\n    }\n    loadMorePokemon() {\n        this.showLoadMore = false;\n        this.pokedexResults$ = this.store.select('pokemonResults');\n        this.pokedexService.getPokemonList().subscribe();\n    }\n    handleView(event) {\n        console.log('event', event);\n        this.router.navigate(['/pokedex', event.name, event.id]);\n    }\n}\nPokedexlistComponent.ɵfac = function PokedexlistComponent_Factory(t) { return new (t || PokedexlistComponent)(i0.ɵɵdirectiveInject(i1.PokedexDashboardService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.Store)); };\nPokedexlistComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PokedexlistComponent, selectors: [[\"pokedex-list\"]], decls: 3, vars: 3, consts: [[\"class\", \"flex-1\", 4, \"ngIf\"], [1, \"flex-1\"], [4, \"ngIf\"], [\"class\", \"block mx-auto px-4 py-2 font-semibold text-sm bg-cyan-500 text-white rounded-md shadow-sm\", 3, \"click\", 4, \"ngIf\"], [1, \"flex\", \"flex-wrap\", \"justify-center\", \"mx-auto\"], [\"class\", \"pokemon-figure mx-3 mb-12\", 4, \"ngFor\", \"ngForOf\"], [1, \"pokemon-figure\", \"mx-3\", \"mb-12\"], [3, \"detail\", \"view\"], [1, \"block\", \"mx-auto\", \"px-4\", \"py-2\", \"font-semibold\", \"text-sm\", \"bg-cyan-500\", \"text-white\", \"rounded-md\", \"shadow-sm\", 3, \"click\"]], template: function PokedexlistComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵtemplate(0, PokedexlistComponent_div_0_Template, 4, 3, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵelement(2, \"router-outlet\");\n    } if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.pokedexResults$));\n    } }, directives: [i4.NgIf, i4.NgForOf, i5.PokemonCardComponent, i6.PokeLoaderComponent, i2.RouterOutlet], pipes: [i4.AsyncPipe], encapsulation: 2 });\n"]},"metadata":{},"sourceType":"module"}