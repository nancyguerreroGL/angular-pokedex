{"ast":null,"code":"import { map, filter, debounceTime } from 'rxjs/operators';\nimport { fromEvent } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../pokedex-dahsboard.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../store\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../component/poke-loader/poke-loader.component\";\n\nfunction PokedexlistComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtext(1, \" hola \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PokedexlistComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n    i0.ɵɵelement(1, \"poke-loader\");\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.loading, \" \");\n  }\n}\n\nexport class PokedexlistComponent {\n  constructor(pokedexService, router, store) {\n    this.pokedexService = pokedexService;\n    this.router = router;\n    this.store = store; // pokemonDetail: PokemonDetail[] = [];\n\n    this.pageByScroll$ = fromEvent(window, 'scroll');\n    this.numberOfItems = 12; // number of items in a page\n\n    this.itemHeight = 1000;\n    this.showLoadMore = true;\n    this.showLoader = false;\n  }\n\n  ngOnInit() {\n    this.pokedexResults$ = this.store.select('next', 'previous', 'results');\n    this.pokedexService.getPokemon().subscribe();\n  }\n\n  ngAfterViewInit() {\n    this.pageByScroll$.pipe(map(() => window.scrollY), filter(current => current >= document.body.clientHeight - window.innerHeight), debounceTime(200)).subscribe(data => {\n      this.loadMorePokemon();\n    });\n  }\n\n  loadMorePokemon() {\n    this.showLoadMore = false;\n    this.pokedexResults$ = this.store.select('next', 'previous', 'results');\n    this.pokedexService.getPokemon().subscribe();\n  }\n\n  handleView(event) {\n    console.log('event', event);\n    this.router.navigate(['/pokedex', event.name, event.id]);\n  }\n\n}\n\nPokedexlistComponent.ɵfac = function PokedexlistComponent_Factory(t) {\n  return new (t || PokedexlistComponent)(i0.ɵɵdirectiveInject(i1.PokedexDashboardService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.Store));\n};\n\nPokedexlistComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PokedexlistComponent,\n  selectors: [[\"pokedex-list\"]],\n  decls: 4,\n  vars: 4,\n  consts: [[\"class\", \"flex-1\", 4, \"ngIf\", \"ngIfElse\"], [1, \"flex-1\"]],\n  template: function PokedexlistComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, PokedexlistComponent_div_0_Template, 2, 0, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵtemplate(2, PokedexlistComponent_ng_template_2_Template, 2, 1, \"ng-template\");\n      i0.ɵɵelement(3, \"router-outlet\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.pokedexResults$))(\"ngIfElse\", ctx.loading);\n    }\n  },\n  directives: [i4.NgIf, i5.PokeLoaderComponent, i2.RouterOutlet],\n  pipes: [i4.AsyncPipe],\n  encapsulation: 2\n});","map":{"version":3,"sources":["/Users/nancy.guerrero/Desktop/angular-pokedex/src/app/pokedex-dashboard/container/pokedex-list/pokedex-list.component.ts"],"names":["map","filter","debounceTime","fromEvent","i0","i1","i2","i3","i4","i5","PokedexlistComponent_div_0_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","PokedexlistComponent_ng_template_2_Template","ɵɵelement","ctx_r1","ɵɵnextContext","ɵɵtextInterpolate1","loading","PokedexlistComponent","constructor","pokedexService","router","store","pageByScroll$","window","numberOfItems","itemHeight","showLoadMore","showLoader","ngOnInit","pokedexResults$","select","getPokemon","subscribe","ngAfterViewInit","pipe","scrollY","current","document","body","clientHeight","innerHeight","data","loadMorePokemon","handleView","event","console","log","navigate","name","id","ɵfac","PokedexlistComponent_Factory","t","ɵɵdirectiveInject","PokedexDashboardService","Router","Store","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","PokedexlistComponent_Template","ɵɵtemplate","ɵɵpipe","ɵɵproperty","ɵɵpipeBind1","directives","NgIf","PokeLoaderComponent","RouterOutlet","pipes","AsyncPipe","encapsulation"],"mappings":"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","sourcesContent":["import { map, filter, debounceTime } from 'rxjs/operators';\nimport { fromEvent } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../pokedex-dahsboard.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../store\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../component/poke-loader/poke-loader.component\";\nfunction PokedexlistComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtext(1, \" hola \");\n    i0.ɵɵelementEnd();\n} }\nfunction PokedexlistComponent_ng_template_2_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵtext(0);\n    i0.ɵɵelement(1, \"poke-loader\");\n} if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.loading, \" \");\n} }\nexport class PokedexlistComponent {\n    constructor(pokedexService, router, store) {\n        this.pokedexService = pokedexService;\n        this.router = router;\n        this.store = store;\n        // pokemonDetail: PokemonDetail[] = [];\n        this.pageByScroll$ = fromEvent(window, 'scroll');\n        this.numberOfItems = 12; // number of items in a page\n        this.itemHeight = 1000;\n        this.showLoadMore = true;\n        this.showLoader = false;\n    }\n    ngOnInit() {\n        this.pokedexResults$ = this.store.select('next', 'previous', 'results');\n        this.pokedexService.getPokemon().subscribe();\n    }\n    ngAfterViewInit() {\n        this.pageByScroll$.pipe(map(() => window.scrollY), filter((current) => current >= document.body.clientHeight - window.innerHeight), debounceTime(200)).subscribe((data) => {\n            this.loadMorePokemon();\n        });\n    }\n    loadMorePokemon() {\n        this.showLoadMore = false;\n        this.pokedexResults$ = this.store.select('next', 'previous', 'results');\n        this.pokedexService.getPokemon().subscribe();\n    }\n    handleView(event) {\n        console.log('event', event);\n        this.router.navigate(['/pokedex', event.name, event.id]);\n    }\n}\nPokedexlistComponent.ɵfac = function PokedexlistComponent_Factory(t) { return new (t || PokedexlistComponent)(i0.ɵɵdirectiveInject(i1.PokedexDashboardService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.Store)); };\nPokedexlistComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PokedexlistComponent, selectors: [[\"pokedex-list\"]], decls: 4, vars: 4, consts: [[\"class\", \"flex-1\", 4, \"ngIf\", \"ngIfElse\"], [1, \"flex-1\"]], template: function PokedexlistComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵtemplate(0, PokedexlistComponent_div_0_Template, 2, 0, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵtemplate(2, PokedexlistComponent_ng_template_2_Template, 2, 1, \"ng-template\");\n        i0.ɵɵelement(3, \"router-outlet\");\n    } if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.pokedexResults$))(\"ngIfElse\", ctx.loading);\n    } }, directives: [i4.NgIf, i5.PokeLoaderComponent, i2.RouterOutlet], pipes: [i4.AsyncPipe], encapsulation: 2 });\n"]},"metadata":{},"sourceType":"module"}